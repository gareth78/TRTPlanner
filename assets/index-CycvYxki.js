(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(s){if(s.ep)return;s.ep=!0;const l=n(s);fetch(s.href,l)}})();function cT(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var _p={exports:{}},yu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CE;function UI(){if(CE)return yu;CE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,s,l){var c=null;if(l!==void 0&&(c=""+l),s.key!==void 0&&(c=""+s.key),"key"in s){l={};for(var d in s)d!=="key"&&(l[d]=s[d])}else l=s;return s=l.ref,{$$typeof:t,type:i,key:c,ref:s!==void 0?s:null,props:l}}return yu.Fragment=e,yu.jsx=n,yu.jsxs=n,yu}var OE;function jI(){return OE||(OE=1,_p.exports=UI()),_p.exports}var M=jI(),Ep={exports:{}},Oe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DE;function zI(){if(DE)return Oe;DE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.iterator;function T(V){return V===null||typeof V!="object"?null:(V=b&&V[b]||V["@@iterator"],typeof V=="function"?V:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,j={};function L(V,re,ue){this.props=V,this.context=re,this.refs=j,this.updater=ue||R}L.prototype.isReactComponent={},L.prototype.setState=function(V,re){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,re,"setState")},L.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function z(){}z.prototype=L.prototype;function te(V,re,ue){this.props=V,this.context=re,this.refs=j,this.updater=ue||R}var H=te.prototype=new z;H.constructor=te,O(H,L.prototype),H.isPureReactComponent=!0;var K=Array.isArray,J={H:null,A:null,T:null,S:null,V:null},ee=Object.prototype.hasOwnProperty;function D(V,re,ue,oe,me,Ie){return ue=Ie.ref,{$$typeof:t,type:V,key:re,ref:ue!==void 0?ue:null,props:Ie}}function A(V,re){return D(V.type,re,void 0,void 0,void 0,V.props)}function I(V){return typeof V=="object"&&V!==null&&V.$$typeof===t}function k(V){var re={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ue){return re[ue]})}var N=/\/+/g;function x(V,re){return typeof V=="object"&&V!==null&&V.key!=null?k(""+V.key):re.toString(36)}function C(){}function it(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(C,C):(V.status="pending",V.then(function(re){V.status==="pending"&&(V.status="fulfilled",V.value=re)},function(re){V.status==="pending"&&(V.status="rejected",V.reason=re)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function He(V,re,ue,oe,me){var Ie=typeof V;(Ie==="undefined"||Ie==="boolean")&&(V=null);var ve=!1;if(V===null)ve=!0;else switch(Ie){case"bigint":case"string":case"number":ve=!0;break;case"object":switch(V.$$typeof){case t:case e:ve=!0;break;case v:return ve=V._init,He(ve(V._payload),re,ue,oe,me)}}if(ve)return me=me(V),ve=oe===""?"."+x(V,0):oe,K(me)?(ue="",ve!=null&&(ue=ve.replace(N,"$&/")+"/"),He(me,re,ue,"",function(kt){return kt})):me!=null&&(I(me)&&(me=A(me,ue+(me.key==null||V&&V.key===me.key?"":(""+me.key).replace(N,"$&/")+"/")+ve)),re.push(me)),1;ve=0;var ft=oe===""?".":oe+":";if(K(V))for(var qe=0;qe<V.length;qe++)oe=V[qe],Ie=ft+x(oe,qe),ve+=He(oe,re,ue,Ie,me);else if(qe=T(V),typeof qe=="function")for(V=qe.call(V),qe=0;!(oe=V.next()).done;)oe=oe.value,Ie=ft+x(oe,qe++),ve+=He(oe,re,ue,Ie,me);else if(Ie==="object"){if(typeof V.then=="function")return He(it(V),re,ue,oe,me);throw re=String(V),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return ve}function X(V,re,ue){if(V==null)return V;var oe=[],me=0;return He(V,oe,"","",function(Ie){return re.call(ue,Ie,me++)}),oe}function ce(V){if(V._status===-1){var re=V._result;re=re(),re.then(function(ue){(V._status===0||V._status===-1)&&(V._status=1,V._result=ue)},function(ue){(V._status===0||V._status===-1)&&(V._status=2,V._result=ue)}),V._status===-1&&(V._status=0,V._result=re)}if(V._status===1)return V._result.default;throw V._result}var de=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function De(){}return Oe.Children={map:X,forEach:function(V,re,ue){X(V,function(){re.apply(this,arguments)},ue)},count:function(V){var re=0;return X(V,function(){re++}),re},toArray:function(V){return X(V,function(re){return re})||[]},only:function(V){if(!I(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Oe.Component=L,Oe.Fragment=n,Oe.Profiler=s,Oe.PureComponent=te,Oe.StrictMode=i,Oe.Suspense=m,Oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=J,Oe.__COMPILER_RUNTIME={__proto__:null,c:function(V){return J.H.useMemoCache(V)}},Oe.cache=function(V){return function(){return V.apply(null,arguments)}},Oe.cloneElement=function(V,re,ue){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var oe=O({},V.props),me=V.key,Ie=void 0;if(re!=null)for(ve in re.ref!==void 0&&(Ie=void 0),re.key!==void 0&&(me=""+re.key),re)!ee.call(re,ve)||ve==="key"||ve==="__self"||ve==="__source"||ve==="ref"&&re.ref===void 0||(oe[ve]=re[ve]);var ve=arguments.length-2;if(ve===1)oe.children=ue;else if(1<ve){for(var ft=Array(ve),qe=0;qe<ve;qe++)ft[qe]=arguments[qe+2];oe.children=ft}return D(V.type,me,void 0,void 0,Ie,oe)},Oe.createContext=function(V){return V={$$typeof:c,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:l,_context:V},V},Oe.createElement=function(V,re,ue){var oe,me={},Ie=null;if(re!=null)for(oe in re.key!==void 0&&(Ie=""+re.key),re)ee.call(re,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(me[oe]=re[oe]);var ve=arguments.length-2;if(ve===1)me.children=ue;else if(1<ve){for(var ft=Array(ve),qe=0;qe<ve;qe++)ft[qe]=arguments[qe+2];me.children=ft}if(V&&V.defaultProps)for(oe in ve=V.defaultProps,ve)me[oe]===void 0&&(me[oe]=ve[oe]);return D(V,Ie,void 0,void 0,null,me)},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(V){return{$$typeof:d,render:V}},Oe.isValidElement=I,Oe.lazy=function(V){return{$$typeof:v,_payload:{_status:-1,_result:V},_init:ce}},Oe.memo=function(V,re){return{$$typeof:g,type:V,compare:re===void 0?null:re}},Oe.startTransition=function(V){var re=J.T,ue={};J.T=ue;try{var oe=V(),me=J.S;me!==null&&me(ue,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(De,de)}catch(Ie){de(Ie)}finally{J.T=re}},Oe.unstable_useCacheRefresh=function(){return J.H.useCacheRefresh()},Oe.use=function(V){return J.H.use(V)},Oe.useActionState=function(V,re,ue){return J.H.useActionState(V,re,ue)},Oe.useCallback=function(V,re){return J.H.useCallback(V,re)},Oe.useContext=function(V){return J.H.useContext(V)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(V,re){return J.H.useDeferredValue(V,re)},Oe.useEffect=function(V,re,ue){var oe=J.H;if(typeof ue=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return oe.useEffect(V,re)},Oe.useId=function(){return J.H.useId()},Oe.useImperativeHandle=function(V,re,ue){return J.H.useImperativeHandle(V,re,ue)},Oe.useInsertionEffect=function(V,re){return J.H.useInsertionEffect(V,re)},Oe.useLayoutEffect=function(V,re){return J.H.useLayoutEffect(V,re)},Oe.useMemo=function(V,re){return J.H.useMemo(V,re)},Oe.useOptimistic=function(V,re){return J.H.useOptimistic(V,re)},Oe.useReducer=function(V,re,ue){return J.H.useReducer(V,re,ue)},Oe.useRef=function(V){return J.H.useRef(V)},Oe.useState=function(V){return J.H.useState(V)},Oe.useSyncExternalStore=function(V,re,ue){return J.H.useSyncExternalStore(V,re,ue)},Oe.useTransition=function(){return J.H.useTransition()},Oe.version="19.1.0",Oe}var NE;function Hh(){return NE||(NE=1,Ep.exports=zI()),Ep.exports}var F=Hh();const Cs=cT(F);var bp={exports:{}},vu={},Tp={exports:{}},wp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xE;function BI(){return xE||(xE=1,function(t){function e(X,ce){var de=X.length;X.push(ce);e:for(;0<de;){var De=de-1>>>1,V=X[De];if(0<s(V,ce))X[De]=ce,X[de]=V,de=De;else break e}}function n(X){return X.length===0?null:X[0]}function i(X){if(X.length===0)return null;var ce=X[0],de=X.pop();if(de!==ce){X[0]=de;e:for(var De=0,V=X.length,re=V>>>1;De<re;){var ue=2*(De+1)-1,oe=X[ue],me=ue+1,Ie=X[me];if(0>s(oe,de))me<V&&0>s(Ie,oe)?(X[De]=Ie,X[me]=de,De=me):(X[De]=oe,X[ue]=de,De=ue);else if(me<V&&0>s(Ie,de))X[De]=Ie,X[me]=de,De=me;else break e}}return ce}function s(X,ce){var de=X.sortIndex-ce.sortIndex;return de!==0?de:X.id-ce.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var m=[],g=[],v=1,b=null,T=3,R=!1,O=!1,j=!1,L=!1,z=typeof setTimeout=="function"?setTimeout:null,te=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;function K(X){for(var ce=n(g);ce!==null;){if(ce.callback===null)i(g);else if(ce.startTime<=X)i(g),ce.sortIndex=ce.expirationTime,e(m,ce);else break;ce=n(g)}}function J(X){if(j=!1,K(X),!O)if(n(m)!==null)O=!0,ee||(ee=!0,x());else{var ce=n(g);ce!==null&&He(J,ce.startTime-X)}}var ee=!1,D=-1,A=5,I=-1;function k(){return L?!0:!(t.unstable_now()-I<A)}function N(){if(L=!1,ee){var X=t.unstable_now();I=X;var ce=!0;try{e:{O=!1,j&&(j=!1,te(D),D=-1),R=!0;var de=T;try{t:{for(K(X),b=n(m);b!==null&&!(b.expirationTime>X&&k());){var De=b.callback;if(typeof De=="function"){b.callback=null,T=b.priorityLevel;var V=De(b.expirationTime<=X);if(X=t.unstable_now(),typeof V=="function"){b.callback=V,K(X),ce=!0;break t}b===n(m)&&i(m),K(X)}else i(m);b=n(m)}if(b!==null)ce=!0;else{var re=n(g);re!==null&&He(J,re.startTime-X),ce=!1}}break e}finally{b=null,T=de,R=!1}ce=void 0}}finally{ce?x():ee=!1}}}var x;if(typeof H=="function")x=function(){H(N)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,it=C.port2;C.port1.onmessage=N,x=function(){it.postMessage(null)}}else x=function(){z(N,0)};function He(X,ce){D=z(function(){X(t.unstable_now())},ce)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(X){X.callback=null},t.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<X?Math.floor(1e3/X):5},t.unstable_getCurrentPriorityLevel=function(){return T},t.unstable_next=function(X){switch(T){case 1:case 2:case 3:var ce=3;break;default:ce=T}var de=T;T=ce;try{return X()}finally{T=de}},t.unstable_requestPaint=function(){L=!0},t.unstable_runWithPriority=function(X,ce){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var de=T;T=X;try{return ce()}finally{T=de}},t.unstable_scheduleCallback=function(X,ce,de){var De=t.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?De+de:De):de=De,X){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=de+V,X={id:v++,callback:ce,priorityLevel:X,startTime:de,expirationTime:V,sortIndex:-1},de>De?(X.sortIndex=de,e(g,X),n(m)===null&&X===n(g)&&(j?(te(D),D=-1):j=!0,He(J,de-De))):(X.sortIndex=V,e(m,X),O||R||(O=!0,ee||(ee=!0,x()))),X},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(X){var ce=T;return function(){var de=T;T=ce;try{return X.apply(this,arguments)}finally{T=de}}}}(wp)),wp}var PE;function FI(){return PE||(PE=1,Tp.exports=BI()),Tp.exports}var Sp={exports:{}},pn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ME;function HI(){if(ME)return pn;ME=1;var t=Hh();function e(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function l(m,g,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:b==null?null:""+b,children:m,containerInfo:g,implementation:v}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return pn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,pn.createPortal=function(m,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(m,g,null,v)},pn.flushSync=function(m){var g=c.T,v=i.p;try{if(c.T=null,i.p=2,m)return m()}finally{c.T=g,i.p=v,i.d.f()}},pn.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(m,g))},pn.prefetchDNS=function(m){typeof m=="string"&&i.d.D(m)},pn.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var v=g.as,b=d(v,g.crossOrigin),T=typeof g.integrity=="string"?g.integrity:void 0,R=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?i.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:T,fetchPriority:R}):v==="script"&&i.d.X(m,{crossOrigin:b,integrity:T,fetchPriority:R,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},pn.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=d(g.as,g.crossOrigin);i.d.M(m,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(m)},pn.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,b=d(v,g.crossOrigin);i.d.L(m,v,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},pn.preloadModule=function(m,g){if(typeof m=="string")if(g){var v=d(g.as,g.crossOrigin);i.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(m)},pn.requestFormReset=function(m){i.d.r(m)},pn.unstable_batchedUpdates=function(m,g){return m(g)},pn.useFormState=function(m,g,v){return c.H.useFormState(m,g,v)},pn.useFormStatus=function(){return c.H.useHostTransitionStatus()},pn.version="19.1.0",pn}var kE;function qI(){if(kE)return Sp.exports;kE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Sp.exports=HI(),Sp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VE;function GI(){if(VE)return vu;VE=1;var t=FI(),e=Hh(),n=qI();function i(r){var a="https://react.dev/errors/"+r;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)a+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var a=r,o=r;if(r.alternate)for(;a.return;)a=a.return;else{r=a;do a=r,(a.flags&4098)!==0&&(o=a.return),r=a.return;while(r)}return a.tag===3?o:null}function c(r){if(r.tag===13){var a=r.memoizedState;if(a===null&&(r=r.alternate,r!==null&&(a=r.memoizedState)),a!==null)return a.dehydrated}return null}function d(r){if(l(r)!==r)throw Error(i(188))}function m(r){var a=r.alternate;if(!a){if(a=l(r),a===null)throw Error(i(188));return a!==r?null:r}for(var o=r,u=a;;){var h=o.return;if(h===null)break;var p=h.alternate;if(p===null){if(u=h.return,u!==null){o=u;continue}break}if(h.child===p.child){for(p=h.child;p;){if(p===o)return d(h),r;if(p===u)return d(h),a;p=p.sibling}throw Error(i(188))}if(o.return!==u.return)o=h,u=p;else{for(var E=!1,w=h.child;w;){if(w===o){E=!0,o=h,u=p;break}if(w===u){E=!0,u=h,o=p;break}w=w.sibling}if(!E){for(w=p.child;w;){if(w===o){E=!0,o=p,u=h;break}if(w===u){E=!0,u=p,o=h;break}w=w.sibling}if(!E)throw Error(i(189))}}if(o.alternate!==u)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?r:a}function g(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r;for(r=r.child;r!==null;){if(a=g(r),a!==null)return a;r=r.sibling}return null}var v=Object.assign,b=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),R=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),z=Symbol.for("react.provider"),te=Symbol.for("react.consumer"),H=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),J=Symbol.for("react.suspense"),ee=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function x(r){return r===null||typeof r!="object"?null:(r=N&&r[N]||r["@@iterator"],typeof r=="function"?r:null)}var C=Symbol.for("react.client.reference");function it(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===C?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case O:return"Fragment";case L:return"Profiler";case j:return"StrictMode";case J:return"Suspense";case ee:return"SuspenseList";case I:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case R:return"Portal";case H:return(r.displayName||"Context")+".Provider";case te:return(r._context.displayName||"Context")+".Consumer";case K:var a=r.render;return r=r.displayName,r||(r=a.displayName||a.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case D:return a=r.displayName||null,a!==null?a:it(r.type)||"Memo";case A:a=r._payload,r=r._init;try{return it(r(a))}catch{}}return null}var He=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},De=[],V=-1;function re(r){return{current:r}}function ue(r){0>V||(r.current=De[V],De[V]=null,V--)}function oe(r,a){V++,De[V]=r.current,r.current=a}var me=re(null),Ie=re(null),ve=re(null),ft=re(null);function qe(r,a){switch(oe(ve,a),oe(Ie,r),oe(me,null),a.nodeType){case 9:case 11:r=(r=a.documentElement)&&(r=r.namespaceURI)?nE(r):0;break;default:if(r=a.tagName,a=a.namespaceURI)a=nE(a),r=rE(a,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}ue(me),oe(me,r)}function kt(){ue(me),ue(Ie),ue(ve)}function Hn(r){r.memoizedState!==null&&oe(ft,r);var a=me.current,o=rE(a,r.type);a!==o&&(oe(Ie,r),oe(me,o))}function Dn(r){Ie.current===r&&(ue(me),ue(Ie)),ft.current===r&&(ue(ft),hu._currentValue=de)}var qn=Object.prototype.hasOwnProperty,fr=t.unstable_scheduleCallback,at=t.unstable_cancelCallback,hr=t.unstable_shouldYield,Qt=t.unstable_requestPaint,Xt=t.unstable_now,Qs=t.unstable_getCurrentPriorityLevel,Ki=t.unstable_ImmediatePriority,Wi=t.unstable_UserBlockingPriority,si=t.unstable_NormalPriority,vl=t.unstable_LowPriority,oi=t.unstable_IdlePriority,$a=t.log,Xs=t.unstable_setDisableYieldValue,ht=null,Ye=null;function En(r){if(typeof $a=="function"&&Xs(r),Ye&&typeof Ye.setStrictMode=="function")try{Ye.setStrictMode(ht,r)}catch{}}var Rt=Math.clz32?Math.clz32:li,Ya=Math.log,Js=Math.LN2;function li(r){return r>>>=0,r===0?32:31-(Ya(r)/Js|0)|0}var Gn=256,Cr=4194304;function Nn(r){var a=r&42;if(a!==0)return a;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function ui(r,a,o){var u=r.pendingLanes;if(u===0)return 0;var h=0,p=r.suspendedLanes,E=r.pingedLanes;r=r.warmLanes;var w=u&134217727;return w!==0?(u=w&~p,u!==0?h=Nn(u):(E&=w,E!==0?h=Nn(E):o||(o=w&~r,o!==0&&(h=Nn(o))))):(w=u&~p,w!==0?h=Nn(w):E!==0?h=Nn(E):o||(o=u&~r,o!==0&&(h=Nn(o)))),h===0?0:a!==0&&a!==h&&(a&p)===0&&(p=h&-h,o=a&-a,p>=o||p===32&&(o&4194048)!==0)?a:h}function Or(r,a){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&a)===0}function ci(r,a){switch(r){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ka(){var r=Gn;return Gn<<=1,(Gn&4194048)===0&&(Gn=256),r}function Qi(){var r=Cr;return Cr<<=1,(Cr&62914560)===0&&(Cr=4194304),r}function dr(r){for(var a=[],o=0;31>o;o++)a.push(r);return a}function $n(r,a){r.pendingLanes|=a,a!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function It(r,a,o,u,h,p){var E=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var w=r.entanglements,P=r.expirationTimes,$=r.hiddenUpdates;for(o=E&~o;0<o;){var Z=31-Rt(o),ie=1<<Z;w[Z]=0,P[Z]=-1;var Y=$[Z];if(Y!==null)for($[Z]=null,Z=0;Z<Y.length;Z++){var W=Y[Z];W!==null&&(W.lane&=-536870913)}o&=~ie}u!==0&&ut(r,u,0),p!==0&&h===0&&r.tag!==0&&(r.suspendedLanes|=p&~(E&~a))}function ut(r,a,o){r.pendingLanes|=a,r.suspendedLanes&=~a;var u=31-Rt(a);r.entangledLanes|=a,r.entanglements[u]=r.entanglements[u]|1073741824|o&4194090}function Dr(r,a){var o=r.entangledLanes|=a;for(r=r.entanglements;o;){var u=31-Rt(o),h=1<<u;h&a|r[u]&a&&(r[u]|=a),o&=~h}}function Ge(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Jt(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Nr(){var r=ce.p;return r!==0?r:(r=window.event,r===void 0?32:TE(r.type))}function Xi(r,a){var o=ce.p;try{return ce.p=r,a()}finally{ce.p=o}}var st=Math.random().toString(36).slice(2),Et="__reactFiber$"+st,dt="__reactProps$"+st,Zt="__reactContainer$"+st,fi="__reactEvents$"+st,Wa="__reactListeners$"+st,Yn="__reactHandles$"+st,Zs="__reactResources$"+st,mr="__reactMarker$"+st;function pr(r){delete r[Et],delete r[dt],delete r[fi],delete r[Wa],delete r[Yn]}function gr(r){var a=r[Et];if(a)return a;for(var o=r.parentNode;o;){if(a=o[Zt]||o[Et]){if(o=a.alternate,a.child!==null||o!==null&&o.child!==null)for(r=oE(r);r!==null;){if(o=r[Et])return o;r=oE(r)}return a}r=o,o=r.parentNode}return null}function Kn(r){if(r=r[Et]||r[Zt]){var a=r.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return r}return null}function Se(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r.stateNode;throw Error(i(33))}function Pe(r){var a=r[Zs];return a||(a=r[Zs]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Ce(r){r[mr]=!0}var en=new Set,Ft={};function bn(r,a){yr(r,a),yr(r+"Capture",a)}function yr(r,a){for(Ft[r]=a,r=0;r<a.length;r++)en.add(a[r])}var eo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),vc={},Qa={};function _c(r){return qn.call(Qa,r)?!0:qn.call(vc,r)?!1:eo.test(r)?Qa[r]=!0:(vc[r]=!0,!1)}function Ji(r,a,o){if(_c(a))if(o===null)r.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(a);return;case"boolean":var u=a.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){r.removeAttribute(a);return}}r.setAttribute(a,""+o)}}function xr(r,a,o){if(o===null)r.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(a);return}r.setAttribute(a,""+o)}}function tn(r,a,o,u){if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(a,o,""+u)}}var Xa,Ec;function hi(r){if(Xa===void 0)try{throw Error()}catch(o){var a=o.stack.trim().match(/\n( *(at )?)/);Xa=a&&a[1]||"",Ec=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Xa+r+Ec}var to=!1;function no(r,a){if(!r||to)return"";to=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(a){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(W){var Y=W}Reflect.construct(r,[],ie)}else{try{ie.call()}catch(W){Y=W}r.call(ie.prototype)}}else{try{throw Error()}catch(W){Y=W}(ie=r())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(W){if(W&&Y&&typeof W.stack=="string")return[W.stack,Y.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=u.DetermineComponentFrameRoot(),E=p[0],w=p[1];if(E&&w){var P=E.split(`
`),$=w.split(`
`);for(h=u=0;u<P.length&&!P[u].includes("DetermineComponentFrameRoot");)u++;for(;h<$.length&&!$[h].includes("DetermineComponentFrameRoot");)h++;if(u===P.length||h===$.length)for(u=P.length-1,h=$.length-1;1<=u&&0<=h&&P[u]!==$[h];)h--;for(;1<=u&&0<=h;u--,h--)if(P[u]!==$[h]){if(u!==1||h!==1)do if(u--,h--,0>h||P[u]!==$[h]){var Z=`
`+P[u].replace(" at new "," at ");return r.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",r.displayName)),Z}while(1<=u&&0<=h);break}}}finally{to=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?hi(o):""}function _l(r){switch(r.tag){case 26:case 27:case 5:return hi(r.type);case 16:return hi("Lazy");case 13:return hi("Suspense");case 19:return hi("SuspenseList");case 0:case 15:return no(r.type,!1);case 11:return no(r.type.render,!1);case 1:return no(r.type,!0);case 31:return hi("Activity");default:return""}}function ro(r){try{var a="";do a+=_l(r),r=r.return;while(r);return a}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function Tn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function El(r){var a=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function wd(r){var a=El(r)?"checked":"value",o=Object.getOwnPropertyDescriptor(r.constructor.prototype,a),u=""+r[a];if(!r.hasOwnProperty(a)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,p=o.set;return Object.defineProperty(r,a,{configurable:!0,get:function(){return h.call(this)},set:function(E){u=""+E,p.call(this,E)}}),Object.defineProperty(r,a,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(E){u=""+E},stopTracking:function(){r._valueTracker=null,delete r[a]}}}}function io(r){r._valueTracker||(r._valueTracker=wd(r))}function bl(r){if(!r)return!1;var a=r._valueTracker;if(!a)return!0;var o=a.getValue(),u="";return r&&(u=El(r)?r.checked?"true":"false":r.value),r=u,r!==o?(a.setValue(r),!0):!1}function Ja(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Sd=/[\n"\\]/g;function Ct(r){return r.replace(Sd,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function xn(r,a,o,u,h,p,E,w){r.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?r.type=E:r.removeAttribute("type"),a!=null?E==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+Tn(a)):r.value!==""+Tn(a)&&(r.value=""+Tn(a)):E!=="submit"&&E!=="reset"||r.removeAttribute("value"),a!=null?Zi(r,E,Tn(a)):o!=null?Zi(r,E,Tn(o)):u!=null&&r.removeAttribute("value"),h==null&&p!=null&&(r.defaultChecked=!!p),h!=null&&(r.checked=h&&typeof h!="function"&&typeof h!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?r.name=""+Tn(w):r.removeAttribute("name")}function Za(r,a,o,u,h,p,E,w){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(r.type=p),a!=null||o!=null){if(!(p!=="submit"&&p!=="reset"||a!=null))return;o=o!=null?""+Tn(o):"",a=a!=null?""+Tn(a):o,w||a===r.value||(r.value=a),r.defaultValue=a}u=u??h,u=typeof u!="function"&&typeof u!="symbol"&&!!u,r.checked=w?r.checked:!!u,r.defaultChecked=!!u,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(r.name=E)}function Zi(r,a,o){a==="number"&&Ja(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function di(r,a,o,u){if(r=r.options,a){a={};for(var h=0;h<o.length;h++)a["$"+o[h]]=!0;for(o=0;o<r.length;o++)h=a.hasOwnProperty("$"+r[o].value),r[o].selected!==h&&(r[o].selected=h),h&&u&&(r[o].defaultSelected=!0)}else{for(o=""+Tn(o),a=null,h=0;h<r.length;h++){if(r[h].value===o){r[h].selected=!0,u&&(r[h].defaultSelected=!0);return}a!==null||r[h].disabled||(a=r[h])}a!==null&&(a.selected=!0)}}function et(r,a,o){if(a!=null&&(a=""+Tn(a),a!==r.value&&(r.value=a),o==null)){r.defaultValue!==a&&(r.defaultValue=a);return}r.defaultValue=o!=null?""+Tn(o):""}function es(r,a,o,u){if(a==null){if(u!=null){if(o!=null)throw Error(i(92));if(He(u)){if(1<u.length)throw Error(i(93));u=u[0]}o=u}o==null&&(o=""),a=o}o=Tn(a),r.defaultValue=o,u=r.textContent,u===o&&u!==""&&u!==null&&(r.value=u)}function Wn(r,a){if(a){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=a;return}}r.textContent=a}var ts=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function bc(r,a,o){var u=a.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?r.setProperty(a,""):a==="float"?r.cssFloat="":r[a]="":u?r.setProperty(a,o):typeof o!="number"||o===0||ts.has(a)?a==="float"?r.cssFloat=o:r[a]=(""+o).trim():r[a]=o+"px"}function Tl(r,a,o){if(a!=null&&typeof a!="object")throw Error(i(62));if(r=r.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||a!=null&&a.hasOwnProperty(u)||(u.indexOf("--")===0?r.setProperty(u,""):u==="float"?r.cssFloat="":r[u]="");for(var h in a)u=a[h],a.hasOwnProperty(h)&&o[h]!==u&&bc(r,h,u)}else for(var p in a)a.hasOwnProperty(p)&&bc(r,p,a[p])}function wl(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ad=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Rd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ao(r){return Rd.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var mi=null;function Qn(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var pi=null,gi=null;function Sl(r){var a=Kn(r);if(a&&(r=a.stateNode)){var o=r[dt]||null;e:switch(r=a.stateNode,a.type){case"input":if(xn(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),a=o.name,o.type==="radio"&&a!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Ct(""+a)+'"][type="radio"]'),a=0;a<o.length;a++){var u=o[a];if(u!==r&&u.form===r.form){var h=u[dt]||null;if(!h)throw Error(i(90));xn(u,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(a=0;a<o.length;a++)u=o[a],u.form===r.form&&bl(u)}break e;case"textarea":et(r,o.value,o.defaultValue);break e;case"select":a=o.value,a!=null&&di(r,!!o.multiple,a,!1)}}}var Pr=!1;function Tc(r,a,o){if(Pr)return r(a,o);Pr=!0;try{var u=r(a);return u}finally{if(Pr=!1,(pi!==null||gi!==null)&&(gf(),pi&&(a=pi,r=gi,gi=pi=null,Sl(a),r)))for(a=0;a<r.length;a++)Sl(r[a])}}function ns(r,a){var o=r.stateNode;if(o===null)return null;var u=o[dt]||null;if(u===null)return null;o=u[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(i(231,a,typeof o));return o}var vr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xn=!1;if(vr)try{var rs={};Object.defineProperty(rs,"passive",{get:function(){Xn=!0}}),window.addEventListener("test",rs,rs),window.removeEventListener("test",rs,rs)}catch{Xn=!1}var Mr=null,ea=null,yi=null;function Al(){if(yi)return yi;var r,a=ea,o=a.length,u,h="value"in Mr?Mr.value:Mr.textContent,p=h.length;for(r=0;r<o&&a[r]===h[r];r++);var E=o-r;for(u=1;u<=E&&a[o-u]===h[p-u];u++);return yi=h.slice(r,1<u?1-u:void 0)}function kr(r){var a=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&a===13&&(r=13)):r=a,r===10&&(r=13),32<=r||r===13?r:0}function Vr(){return!0}function Rl(){return!1}function Ht(r){function a(o,u,h,p,E){this._reactName=o,this._targetInst=h,this.type=u,this.nativeEvent=p,this.target=E,this.currentTarget=null;for(var w in r)r.hasOwnProperty(w)&&(o=r[w],this[w]=o?o(p):p[w]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Vr:Rl,this.isPropagationStopped=Rl,this}return v(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Vr)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Vr)},persist:function(){},isPersistent:Vr}),a}var Qe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},so=Ht(Qe),is=v({},Qe,{view:0,detail:0}),wc=Ht(is),oo,lo,Lr,as=v({},is,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ls,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Lr&&(Lr&&r.type==="mousemove"?(oo=r.screenX-Lr.screenX,lo=r.screenY-Lr.screenY):lo=oo=0,Lr=r),oo)},movementY:function(r){return"movementY"in r?r.movementY:lo}}),Jn=Ht(as),Sc=v({},as,{dataTransfer:0}),Id=Ht(Sc),ss=v({},is,{relatedTarget:0}),uo=Ht(ss),Il=v({},Qe,{animationName:0,elapsedTime:0,pseudoElement:0}),co=Ht(Il),Ac=v({},Qe,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),fo=Ht(Ac),Cd=v({},Qe,{data:0}),Cl=Ht(Cd),os={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Rc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ic={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ol(r){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(r):(r=Ic[r])?!!a[r]:!1}function ls(){return Ol}var Cc=v({},is,{key:function(r){if(r.key){var a=os[r.key]||r.key;if(a!=="Unidentified")return a}return r.type==="keypress"?(r=kr(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Rc[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ls,charCode:function(r){return r.type==="keypress"?kr(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?kr(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),ho=Ht(Cc),Oc=v({},as,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Dl=Ht(Oc),vi=v({},is,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ls}),Dc=Ht(vi),Nc=v({},Qe,{propertyName:0,elapsedTime:0,pseudoElement:0}),xc=Ht(Nc),Pc=v({},as,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),mo=Ht(Pc),wn=v({},Qe,{newState:0,oldState:0}),Mc=Ht(wn),kc=[9,13,27,32],Ur=vr&&"CompositionEvent"in window,f=null;vr&&"documentMode"in document&&(f=document.documentMode);var y=vr&&"TextEvent"in window&&!f,_=vr&&(!Ur||f&&8<f&&11>=f),S=" ",q=!1;function Q(r,a){switch(r){case"keyup":return kc.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function le(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var je=!1;function Vt(r,a){switch(r){case"compositionend":return le(a);case"keypress":return a.which!==32?null:(q=!0,S);case"textInput":return r=a.data,r===S&&q?null:r;default:return null}}function ze(r,a){if(je)return r==="compositionend"||!Ur&&Q(r,a)?(r=Al(),yi=ea=Mr=null,je=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return _&&a.locale!=="ko"?null:a.data;default:return null}}var qt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lt(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a==="input"?!!qt[r.type]:a==="textarea"}function _i(r,a,o,u){pi?gi?gi.push(u):gi=[u]:pi=u,a=Tf(a,"onChange"),0<a.length&&(o=new so("onChange","change",null,o,u),r.push({event:o,listeners:a}))}var nn=null,jr=null;function Nl(r){X0(r,0)}function Vc(r){var a=Se(r);if(bl(a))return r}function vv(r,a){if(r==="change")return a}var _v=!1;if(vr){var Od;if(vr){var Dd="oninput"in document;if(!Dd){var Ev=document.createElement("div");Ev.setAttribute("oninput","return;"),Dd=typeof Ev.oninput=="function"}Od=Dd}else Od=!1;_v=Od&&(!document.documentMode||9<document.documentMode)}function bv(){nn&&(nn.detachEvent("onpropertychange",Tv),jr=nn=null)}function Tv(r){if(r.propertyName==="value"&&Vc(jr)){var a=[];_i(a,jr,r,Qn(r)),Tc(Nl,a)}}function mR(r,a,o){r==="focusin"?(bv(),nn=a,jr=o,nn.attachEvent("onpropertychange",Tv)):r==="focusout"&&bv()}function pR(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Vc(jr)}function gR(r,a){if(r==="click")return Vc(a)}function yR(r,a){if(r==="input"||r==="change")return Vc(a)}function vR(r,a){return r===a&&(r!==0||1/r===1/a)||r!==r&&a!==a}var Pn=typeof Object.is=="function"?Object.is:vR;function xl(r,a){if(Pn(r,a))return!0;if(typeof r!="object"||r===null||typeof a!="object"||a===null)return!1;var o=Object.keys(r),u=Object.keys(a);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var h=o[u];if(!qn.call(a,h)||!Pn(r[h],a[h]))return!1}return!0}function wv(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Sv(r,a){var o=wv(r);r=0;for(var u;o;){if(o.nodeType===3){if(u=r+o.textContent.length,r<=a&&u>=a)return{node:o,offset:a-r};r=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=wv(o)}}function Av(r,a){return r&&a?r===a?!0:r&&r.nodeType===3?!1:a&&a.nodeType===3?Av(r,a.parentNode):"contains"in r?r.contains(a):r.compareDocumentPosition?!!(r.compareDocumentPosition(a)&16):!1:!1}function Rv(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var a=Ja(r.document);a instanceof r.HTMLIFrameElement;){try{var o=typeof a.contentWindow.location.href=="string"}catch{o=!1}if(o)r=a.contentWindow;else break;a=Ja(r.document)}return a}function Nd(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a&&(a==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||a==="textarea"||r.contentEditable==="true")}var _R=vr&&"documentMode"in document&&11>=document.documentMode,po=null,xd=null,Pl=null,Pd=!1;function Iv(r,a,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Pd||po==null||po!==Ja(u)||(u=po,"selectionStart"in u&&Nd(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Pl&&xl(Pl,u)||(Pl=u,u=Tf(xd,"onSelect"),0<u.length&&(a=new so("onSelect","select",null,a,o),r.push({event:a,listeners:u}),a.target=po)))}function us(r,a){var o={};return o[r.toLowerCase()]=a.toLowerCase(),o["Webkit"+r]="webkit"+a,o["Moz"+r]="moz"+a,o}var go={animationend:us("Animation","AnimationEnd"),animationiteration:us("Animation","AnimationIteration"),animationstart:us("Animation","AnimationStart"),transitionrun:us("Transition","TransitionRun"),transitionstart:us("Transition","TransitionStart"),transitioncancel:us("Transition","TransitionCancel"),transitionend:us("Transition","TransitionEnd")},Md={},Cv={};vr&&(Cv=document.createElement("div").style,"AnimationEvent"in window||(delete go.animationend.animation,delete go.animationiteration.animation,delete go.animationstart.animation),"TransitionEvent"in window||delete go.transitionend.transition);function cs(r){if(Md[r])return Md[r];if(!go[r])return r;var a=go[r],o;for(o in a)if(a.hasOwnProperty(o)&&o in Cv)return Md[r]=a[o];return r}var Ov=cs("animationend"),Dv=cs("animationiteration"),Nv=cs("animationstart"),ER=cs("transitionrun"),bR=cs("transitionstart"),TR=cs("transitioncancel"),xv=cs("transitionend"),Pv=new Map,kd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");kd.push("scrollEnd");function _r(r,a){Pv.set(r,a),bn(a,[r])}var Mv=new WeakMap;function Zn(r,a){if(typeof r=="object"&&r!==null){var o=Mv.get(r);return o!==void 0?o:(a={value:r,source:a,stack:ro(a)},Mv.set(r,a),a)}return{value:r,source:a,stack:ro(a)}}var er=[],yo=0,Vd=0;function Lc(){for(var r=yo,a=Vd=yo=0;a<r;){var o=er[a];er[a++]=null;var u=er[a];er[a++]=null;var h=er[a];er[a++]=null;var p=er[a];if(er[a++]=null,u!==null&&h!==null){var E=u.pending;E===null?h.next=h:(h.next=E.next,E.next=h),u.pending=h}p!==0&&kv(o,h,p)}}function Uc(r,a,o,u){er[yo++]=r,er[yo++]=a,er[yo++]=o,er[yo++]=u,Vd|=u,r.lanes|=u,r=r.alternate,r!==null&&(r.lanes|=u)}function Ld(r,a,o,u){return Uc(r,a,o,u),jc(r)}function vo(r,a){return Uc(r,null,null,a),jc(r)}function kv(r,a,o){r.lanes|=o;var u=r.alternate;u!==null&&(u.lanes|=o);for(var h=!1,p=r.return;p!==null;)p.childLanes|=o,u=p.alternate,u!==null&&(u.childLanes|=o),p.tag===22&&(r=p.stateNode,r===null||r._visibility&1||(h=!0)),r=p,p=p.return;return r.tag===3?(p=r.stateNode,h&&a!==null&&(h=31-Rt(o),r=p.hiddenUpdates,u=r[h],u===null?r[h]=[a]:u.push(a),a.lane=o|536870912),p):null}function jc(r){if(50<iu)throw iu=0,Hm=null,Error(i(185));for(var a=r.return;a!==null;)r=a,a=r.return;return r.tag===3?r.stateNode:null}var _o={};function wR(r,a,o,u){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mn(r,a,o,u){return new wR(r,a,o,u)}function Ud(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Ei(r,a){var o=r.alternate;return o===null?(o=Mn(r.tag,a,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=a,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&65011712,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,a=r.dependencies,o.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function Vv(r,a){r.flags&=65011714;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=a,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,a=o.dependencies,r.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),r}function zc(r,a,o,u,h,p){var E=0;if(u=r,typeof r=="function")Ud(r)&&(E=1);else if(typeof r=="string")E=AI(r,o,me.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case I:return r=Mn(31,o,a,h),r.elementType=I,r.lanes=p,r;case O:return fs(o.children,h,p,a);case j:E=8,h|=24;break;case L:return r=Mn(12,o,a,h|2),r.elementType=L,r.lanes=p,r;case J:return r=Mn(13,o,a,h),r.elementType=J,r.lanes=p,r;case ee:return r=Mn(19,o,a,h),r.elementType=ee,r.lanes=p,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case z:case H:E=10;break e;case te:E=9;break e;case K:E=11;break e;case D:E=14;break e;case A:E=16,u=null;break e}E=29,o=Error(i(130,r===null?"null":typeof r,"")),u=null}return a=Mn(E,o,a,h),a.elementType=r,a.type=u,a.lanes=p,a}function fs(r,a,o,u){return r=Mn(7,r,u,a),r.lanes=o,r}function jd(r,a,o){return r=Mn(6,r,null,a),r.lanes=o,r}function zd(r,a,o){return a=Mn(4,r.children!==null?r.children:[],r.key,a),a.lanes=o,a.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},a}var Eo=[],bo=0,Bc=null,Fc=0,tr=[],nr=0,hs=null,bi=1,Ti="";function ds(r,a){Eo[bo++]=Fc,Eo[bo++]=Bc,Bc=r,Fc=a}function Lv(r,a,o){tr[nr++]=bi,tr[nr++]=Ti,tr[nr++]=hs,hs=r;var u=bi;r=Ti;var h=32-Rt(u)-1;u&=~(1<<h),o+=1;var p=32-Rt(a)+h;if(30<p){var E=h-h%5;p=(u&(1<<E)-1).toString(32),u>>=E,h-=E,bi=1<<32-Rt(a)+h|o<<h|u,Ti=p+r}else bi=1<<p|o<<h|u,Ti=r}function Bd(r){r.return!==null&&(ds(r,1),Lv(r,1,0))}function Fd(r){for(;r===Bc;)Bc=Eo[--bo],Eo[bo]=null,Fc=Eo[--bo],Eo[bo]=null;for(;r===hs;)hs=tr[--nr],tr[nr]=null,Ti=tr[--nr],tr[nr]=null,bi=tr[--nr],tr[nr]=null}var Sn=null,bt=null,Ke=!1,ms=null,zr=!1,Hd=Error(i(519));function ps(r){var a=Error(i(418,""));throw Vl(Zn(a,r)),Hd}function Uv(r){var a=r.stateNode,o=r.type,u=r.memoizedProps;switch(a[Et]=r,a[dt]=u,o){case"dialog":Ve("cancel",a),Ve("close",a);break;case"iframe":case"object":case"embed":Ve("load",a);break;case"video":case"audio":for(o=0;o<su.length;o++)Ve(su[o],a);break;case"source":Ve("error",a);break;case"img":case"image":case"link":Ve("error",a),Ve("load",a);break;case"details":Ve("toggle",a);break;case"input":Ve("invalid",a),Za(a,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),io(a);break;case"select":Ve("invalid",a);break;case"textarea":Ve("invalid",a),es(a,u.value,u.defaultValue,u.children),io(a)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||a.textContent===""+o||u.suppressHydrationWarning===!0||tE(a.textContent,o)?(u.popover!=null&&(Ve("beforetoggle",a),Ve("toggle",a)),u.onScroll!=null&&Ve("scroll",a),u.onScrollEnd!=null&&Ve("scrollend",a),u.onClick!=null&&(a.onclick=wf),a=!0):a=!1,a||ps(r)}function jv(r){for(Sn=r.return;Sn;)switch(Sn.tag){case 5:case 13:zr=!1;return;case 27:case 3:zr=!0;return;default:Sn=Sn.return}}function Ml(r){if(r!==Sn)return!1;if(!Ke)return jv(r),Ke=!0,!1;var a=r.tag,o;if((o=a!==3&&a!==27)&&((o=a===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||ap(r.type,r.memoizedProps)),o=!o),o&&bt&&ps(r),jv(r),a===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));e:{for(r=r.nextSibling,a=0;r;){if(r.nodeType===8)if(o=r.data,o==="/$"){if(a===0){bt=br(r.nextSibling);break e}a--}else o!=="$"&&o!=="$!"&&o!=="$?"||a++;r=r.nextSibling}bt=null}}else a===27?(a=bt,ga(r.type)?(r=up,up=null,bt=r):bt=a):bt=Sn?br(r.stateNode.nextSibling):null;return!0}function kl(){bt=Sn=null,Ke=!1}function zv(){var r=ms;return r!==null&&(In===null?In=r:In.push.apply(In,r),ms=null),r}function Vl(r){ms===null?ms=[r]:ms.push(r)}var qd=re(null),gs=null,wi=null;function ta(r,a,o){oe(qd,a._currentValue),a._currentValue=o}function Si(r){r._currentValue=qd.current,ue(qd)}function Gd(r,a,o){for(;r!==null;){var u=r.alternate;if((r.childLanes&a)!==a?(r.childLanes|=a,u!==null&&(u.childLanes|=a)):u!==null&&(u.childLanes&a)!==a&&(u.childLanes|=a),r===o)break;r=r.return}}function $d(r,a,o,u){var h=r.child;for(h!==null&&(h.return=r);h!==null;){var p=h.dependencies;if(p!==null){var E=h.child;p=p.firstContext;e:for(;p!==null;){var w=p;p=h;for(var P=0;P<a.length;P++)if(w.context===a[P]){p.lanes|=o,w=p.alternate,w!==null&&(w.lanes|=o),Gd(p.return,o,r),u||(E=null);break e}p=w.next}}else if(h.tag===18){if(E=h.return,E===null)throw Error(i(341));E.lanes|=o,p=E.alternate,p!==null&&(p.lanes|=o),Gd(E,o,r),E=null}else E=h.child;if(E!==null)E.return=h;else for(E=h;E!==null;){if(E===r){E=null;break}if(h=E.sibling,h!==null){h.return=E.return,E=h;break}E=E.return}h=E}}function Ll(r,a,o,u){r=null;for(var h=a,p=!1;h!==null;){if(!p){if((h.flags&524288)!==0)p=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var E=h.alternate;if(E===null)throw Error(i(387));if(E=E.memoizedProps,E!==null){var w=h.type;Pn(h.pendingProps.value,E.value)||(r!==null?r.push(w):r=[w])}}else if(h===ft.current){if(E=h.alternate,E===null)throw Error(i(387));E.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(r!==null?r.push(hu):r=[hu])}h=h.return}r!==null&&$d(a,r,o,u),a.flags|=262144}function Hc(r){for(r=r.firstContext;r!==null;){if(!Pn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function ys(r){gs=r,wi=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function mn(r){return Bv(gs,r)}function qc(r,a){return gs===null&&ys(r),Bv(r,a)}function Bv(r,a){var o=a._currentValue;if(a={context:a,memoizedValue:o,next:null},wi===null){if(r===null)throw Error(i(308));wi=a,r.dependencies={lanes:0,firstContext:a},r.flags|=524288}else wi=wi.next=a;return o}var SR=typeof AbortController<"u"?AbortController:function(){var r=[],a=this.signal={aborted:!1,addEventListener:function(o,u){r.push(u)}};this.abort=function(){a.aborted=!0,r.forEach(function(o){return o()})}},AR=t.unstable_scheduleCallback,RR=t.unstable_NormalPriority,Ut={$$typeof:H,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Yd(){return{controller:new SR,data:new Map,refCount:0}}function Ul(r){r.refCount--,r.refCount===0&&AR(RR,function(){r.controller.abort()})}var jl=null,Kd=0,To=0,wo=null;function IR(r,a){if(jl===null){var o=jl=[];Kd=0,To=Qm(),wo={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Kd++,a.then(Fv,Fv),a}function Fv(){if(--Kd===0&&jl!==null){wo!==null&&(wo.status="fulfilled");var r=jl;jl=null,To=0,wo=null;for(var a=0;a<r.length;a++)(0,r[a])()}}function CR(r,a){var o=[],u={status:"pending",value:null,reason:null,then:function(h){o.push(h)}};return r.then(function(){u.status="fulfilled",u.value=a;for(var h=0;h<o.length;h++)(0,o[h])(a)},function(h){for(u.status="rejected",u.reason=h,h=0;h<o.length;h++)(0,o[h])(void 0)}),u}var Hv=X.S;X.S=function(r,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&IR(r,a),Hv!==null&&Hv(r,a)};var vs=re(null);function Wd(){var r=vs.current;return r!==null?r:lt.pooledCache}function Gc(r,a){a===null?oe(vs,vs.current):oe(vs,a.pool)}function qv(){var r=Wd();return r===null?null:{parent:Ut._currentValue,pool:r}}var zl=Error(i(460)),Gv=Error(i(474)),$c=Error(i(542)),Qd={then:function(){}};function $v(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Yc(){}function Yv(r,a,o){switch(o=r[o],o===void 0?r.push(a):o!==a&&(a.then(Yc,Yc),a=o),a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,Wv(r),r;default:if(typeof a.status=="string")a.then(Yc,Yc);else{if(r=lt,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=a,r.status="pending",r.then(function(u){if(a.status==="pending"){var h=a;h.status="fulfilled",h.value=u}},function(u){if(a.status==="pending"){var h=a;h.status="rejected",h.reason=u}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,Wv(r),r}throw Bl=a,zl}}var Bl=null;function Kv(){if(Bl===null)throw Error(i(459));var r=Bl;return Bl=null,r}function Wv(r){if(r===zl||r===$c)throw Error(i(483))}var na=!1;function Xd(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Jd(r,a){r=r.updateQueue,a.updateQueue===r&&(a.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function ra(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function ia(r,a,o){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,(Je&2)!==0){var h=u.pending;return h===null?a.next=a:(a.next=h.next,h.next=a),u.pending=a,a=jc(r),kv(r,null,o),a}return Uc(r,u,a,o),jc(r)}function Fl(r,a,o){if(a=a.updateQueue,a!==null&&(a=a.shared,(o&4194048)!==0)){var u=a.lanes;u&=r.pendingLanes,o|=u,a.lanes=o,Dr(r,o)}}function Zd(r,a){var o=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var h=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var E={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};p===null?h=p=E:p=p.next=E,o=o.next}while(o!==null);p===null?h=p=a:p=p.next=a}else h=p=a;o={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:p,shared:u.shared,callbacks:u.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=a:r.next=a,o.lastBaseUpdate=a}var em=!1;function Hl(){if(em){var r=wo;if(r!==null)throw r}}function ql(r,a,o,u){em=!1;var h=r.updateQueue;na=!1;var p=h.firstBaseUpdate,E=h.lastBaseUpdate,w=h.shared.pending;if(w!==null){h.shared.pending=null;var P=w,$=P.next;P.next=null,E===null?p=$:E.next=$,E=P;var Z=r.alternate;Z!==null&&(Z=Z.updateQueue,w=Z.lastBaseUpdate,w!==E&&(w===null?Z.firstBaseUpdate=$:w.next=$,Z.lastBaseUpdate=P))}if(p!==null){var ie=h.baseState;E=0,Z=$=P=null,w=p;do{var Y=w.lane&-536870913,W=Y!==w.lane;if(W?(Be&Y)===Y:(u&Y)===Y){Y!==0&&Y===To&&(em=!0),Z!==null&&(Z=Z.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var we=r,_e=w;Y=a;var rt=o;switch(_e.tag){case 1:if(we=_e.payload,typeof we=="function"){ie=we.call(rt,ie,Y);break e}ie=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=_e.payload,Y=typeof we=="function"?we.call(rt,ie,Y):we,Y==null)break e;ie=v({},ie,Y);break e;case 2:na=!0}}Y=w.callback,Y!==null&&(r.flags|=64,W&&(r.flags|=8192),W=h.callbacks,W===null?h.callbacks=[Y]:W.push(Y))}else W={lane:Y,tag:w.tag,payload:w.payload,callback:w.callback,next:null},Z===null?($=Z=W,P=ie):Z=Z.next=W,E|=Y;if(w=w.next,w===null){if(w=h.shared.pending,w===null)break;W=w,w=W.next,W.next=null,h.lastBaseUpdate=W,h.shared.pending=null}}while(!0);Z===null&&(P=ie),h.baseState=P,h.firstBaseUpdate=$,h.lastBaseUpdate=Z,p===null&&(h.shared.lanes=0),ha|=E,r.lanes=E,r.memoizedState=ie}}function Qv(r,a){if(typeof r!="function")throw Error(i(191,r));r.call(a)}function Xv(r,a){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)Qv(o[r],a)}var So=re(null),Kc=re(0);function Jv(r,a){r=Ni,oe(Kc,r),oe(So,a),Ni=r|a.baseLanes}function tm(){oe(Kc,Ni),oe(So,So.current)}function nm(){Ni=Kc.current,ue(So),ue(Kc)}var aa=0,Ne=null,tt=null,Ot=null,Wc=!1,Ao=!1,_s=!1,Qc=0,Gl=0,Ro=null,OR=0;function wt(){throw Error(i(321))}function rm(r,a){if(a===null)return!1;for(var o=0;o<a.length&&o<r.length;o++)if(!Pn(r[o],a[o]))return!1;return!0}function im(r,a,o,u,h,p){return aa=p,Ne=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,X.H=r===null||r.memoizedState===null?k_:V_,_s=!1,p=o(u,h),_s=!1,Ao&&(p=e_(a,o,u,h)),Zv(r),p}function Zv(r){X.H=nf;var a=tt!==null&&tt.next!==null;if(aa=0,Ot=tt=Ne=null,Wc=!1,Gl=0,Ro=null,a)throw Error(i(300));r===null||Gt||(r=r.dependencies,r!==null&&Hc(r)&&(Gt=!0))}function e_(r,a,o,u){Ne=r;var h=0;do{if(Ao&&(Ro=null),Gl=0,Ao=!1,25<=h)throw Error(i(301));if(h+=1,Ot=tt=null,r.updateQueue!=null){var p=r.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}X.H=VR,p=a(o,u)}while(Ao);return p}function DR(){var r=X.H,a=r.useState()[0];return a=typeof a.then=="function"?$l(a):a,r=r.useState()[0],(tt!==null?tt.memoizedState:null)!==r&&(Ne.flags|=1024),a}function am(){var r=Qc!==0;return Qc=0,r}function sm(r,a,o){a.updateQueue=r.updateQueue,a.flags&=-2053,r.lanes&=~o}function om(r){if(Wc){for(r=r.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}Wc=!1}aa=0,Ot=tt=Ne=null,Ao=!1,Gl=Qc=0,Ro=null}function An(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ot===null?Ne.memoizedState=Ot=r:Ot=Ot.next=r,Ot}function Dt(){if(tt===null){var r=Ne.alternate;r=r!==null?r.memoizedState:null}else r=tt.next;var a=Ot===null?Ne.memoizedState:Ot.next;if(a!==null)Ot=a,tt=r;else{if(r===null)throw Ne.alternate===null?Error(i(467)):Error(i(310));tt=r,r={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},Ot===null?Ne.memoizedState=Ot=r:Ot=Ot.next=r}return Ot}function lm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function $l(r){var a=Gl;return Gl+=1,Ro===null&&(Ro=[]),r=Yv(Ro,r,a),a=Ne,(Ot===null?a.memoizedState:Ot.next)===null&&(a=a.alternate,X.H=a===null||a.memoizedState===null?k_:V_),r}function Xc(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return $l(r);if(r.$$typeof===H)return mn(r)}throw Error(i(438,String(r)))}function um(r){var a=null,o=Ne.updateQueue;if(o!==null&&(a=o.memoCache),a==null){var u=Ne.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(a={data:u.data.map(function(h){return h.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),o===null&&(o=lm(),Ne.updateQueue=o),o.memoCache=a,o=a.data[a.index],o===void 0)for(o=a.data[a.index]=Array(r),u=0;u<r;u++)o[u]=k;return a.index++,o}function Ai(r,a){return typeof a=="function"?a(r):a}function Jc(r){var a=Dt();return cm(a,tt,r)}function cm(r,a,o){var u=r.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=o;var h=r.baseQueue,p=u.pending;if(p!==null){if(h!==null){var E=h.next;h.next=p.next,p.next=E}a.baseQueue=h=p,u.pending=null}if(p=r.baseState,h===null)r.memoizedState=p;else{a=h.next;var w=E=null,P=null,$=a,Z=!1;do{var ie=$.lane&-536870913;if(ie!==$.lane?(Be&ie)===ie:(aa&ie)===ie){var Y=$.revertLane;if(Y===0)P!==null&&(P=P.next={lane:0,revertLane:0,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),ie===To&&(Z=!0);else if((aa&Y)===Y){$=$.next,Y===To&&(Z=!0);continue}else ie={lane:0,revertLane:$.revertLane,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},P===null?(w=P=ie,E=p):P=P.next=ie,Ne.lanes|=Y,ha|=Y;ie=$.action,_s&&o(p,ie),p=$.hasEagerState?$.eagerState:o(p,ie)}else Y={lane:ie,revertLane:$.revertLane,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},P===null?(w=P=Y,E=p):P=P.next=Y,Ne.lanes|=ie,ha|=ie;$=$.next}while($!==null&&$!==a);if(P===null?E=p:P.next=w,!Pn(p,r.memoizedState)&&(Gt=!0,Z&&(o=wo,o!==null)))throw o;r.memoizedState=p,r.baseState=E,r.baseQueue=P,u.lastRenderedState=p}return h===null&&(u.lanes=0),[r.memoizedState,u.dispatch]}function fm(r){var a=Dt(),o=a.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=r;var u=o.dispatch,h=o.pending,p=a.memoizedState;if(h!==null){o.pending=null;var E=h=h.next;do p=r(p,E.action),E=E.next;while(E!==h);Pn(p,a.memoizedState)||(Gt=!0),a.memoizedState=p,a.baseQueue===null&&(a.baseState=p),o.lastRenderedState=p}return[p,u]}function t_(r,a,o){var u=Ne,h=Dt(),p=Ke;if(p){if(o===void 0)throw Error(i(407));o=o()}else o=a();var E=!Pn((tt||h).memoizedState,o);E&&(h.memoizedState=o,Gt=!0),h=h.queue;var w=i_.bind(null,u,h,r);if(Yl(2048,8,w,[r]),h.getSnapshot!==a||E||Ot!==null&&Ot.memoizedState.tag&1){if(u.flags|=2048,Io(9,Zc(),r_.bind(null,u,h,o,a),null),lt===null)throw Error(i(349));p||(aa&124)!==0||n_(u,a,o)}return o}function n_(r,a,o){r.flags|=16384,r={getSnapshot:a,value:o},a=Ne.updateQueue,a===null?(a=lm(),Ne.updateQueue=a,a.stores=[r]):(o=a.stores,o===null?a.stores=[r]:o.push(r))}function r_(r,a,o,u){a.value=o,a.getSnapshot=u,a_(a)&&s_(r)}function i_(r,a,o){return o(function(){a_(a)&&s_(r)})}function a_(r){var a=r.getSnapshot;r=r.value;try{var o=a();return!Pn(r,o)}catch{return!0}}function s_(r){var a=vo(r,2);a!==null&&jn(a,r,2)}function hm(r){var a=An();if(typeof r=="function"){var o=r;if(r=o(),_s){En(!0);try{o()}finally{En(!1)}}}return a.memoizedState=a.baseState=r,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ai,lastRenderedState:r},a}function o_(r,a,o,u){return r.baseState=o,cm(r,tt,typeof u=="function"?u:Ai)}function NR(r,a,o,u,h){if(tf(r))throw Error(i(485));if(r=a.action,r!==null){var p={payload:h,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){p.listeners.push(E)}};X.T!==null?o(!0):p.isTransition=!1,u(p),o=a.pending,o===null?(p.next=a.pending=p,l_(a,p)):(p.next=o.next,a.pending=o.next=p)}}function l_(r,a){var o=a.action,u=a.payload,h=r.state;if(a.isTransition){var p=X.T,E={};X.T=E;try{var w=o(h,u),P=X.S;P!==null&&P(E,w),u_(r,a,w)}catch($){dm(r,a,$)}finally{X.T=p}}else try{p=o(h,u),u_(r,a,p)}catch($){dm(r,a,$)}}function u_(r,a,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){c_(r,a,u)},function(u){return dm(r,a,u)}):c_(r,a,o)}function c_(r,a,o){a.status="fulfilled",a.value=o,f_(a),r.state=o,a=r.pending,a!==null&&(o=a.next,o===a?r.pending=null:(o=o.next,a.next=o,l_(r,o)))}function dm(r,a,o){var u=r.pending;if(r.pending=null,u!==null){u=u.next;do a.status="rejected",a.reason=o,f_(a),a=a.next;while(a!==u)}r.action=null}function f_(r){r=r.listeners;for(var a=0;a<r.length;a++)(0,r[a])()}function h_(r,a){return a}function d_(r,a){if(Ke){var o=lt.formState;if(o!==null){e:{var u=Ne;if(Ke){if(bt){t:{for(var h=bt,p=zr;h.nodeType!==8;){if(!p){h=null;break t}if(h=br(h.nextSibling),h===null){h=null;break t}}p=h.data,h=p==="F!"||p==="F"?h:null}if(h){bt=br(h.nextSibling),u=h.data==="F!";break e}}ps(u)}u=!1}u&&(a=o[0])}}return o=An(),o.memoizedState=o.baseState=a,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:h_,lastRenderedState:a},o.queue=u,o=x_.bind(null,Ne,u),u.dispatch=o,u=hm(!1),p=vm.bind(null,Ne,!1,u.queue),u=An(),h={state:a,dispatch:null,action:r,pending:null},u.queue=h,o=NR.bind(null,Ne,h,p,o),h.dispatch=o,u.memoizedState=r,[a,o,!1]}function m_(r){var a=Dt();return p_(a,tt,r)}function p_(r,a,o){if(a=cm(r,a,h_)[0],r=Jc(Ai)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var u=$l(a)}catch(E){throw E===zl?$c:E}else u=a;a=Dt();var h=a.queue,p=h.dispatch;return o!==a.memoizedState&&(Ne.flags|=2048,Io(9,Zc(),xR.bind(null,h,o),null)),[u,p,r]}function xR(r,a){r.action=a}function g_(r){var a=Dt(),o=tt;if(o!==null)return p_(a,o,r);Dt(),a=a.memoizedState,o=Dt();var u=o.queue.dispatch;return o.memoizedState=r,[a,u,!1]}function Io(r,a,o,u){return r={tag:r,create:o,deps:u,inst:a,next:null},a=Ne.updateQueue,a===null&&(a=lm(),Ne.updateQueue=a),o=a.lastEffect,o===null?a.lastEffect=r.next=r:(u=o.next,o.next=r,r.next=u,a.lastEffect=r),r}function Zc(){return{destroy:void 0,resource:void 0}}function y_(){return Dt().memoizedState}function ef(r,a,o,u){var h=An();u=u===void 0?null:u,Ne.flags|=r,h.memoizedState=Io(1|a,Zc(),o,u)}function Yl(r,a,o,u){var h=Dt();u=u===void 0?null:u;var p=h.memoizedState.inst;tt!==null&&u!==null&&rm(u,tt.memoizedState.deps)?h.memoizedState=Io(a,p,o,u):(Ne.flags|=r,h.memoizedState=Io(1|a,p,o,u))}function v_(r,a){ef(8390656,8,r,a)}function __(r,a){Yl(2048,8,r,a)}function E_(r,a){return Yl(4,2,r,a)}function b_(r,a){return Yl(4,4,r,a)}function T_(r,a){if(typeof a=="function"){r=r();var o=a(r);return function(){typeof o=="function"?o():a(null)}}if(a!=null)return r=r(),a.current=r,function(){a.current=null}}function w_(r,a,o){o=o!=null?o.concat([r]):null,Yl(4,4,T_.bind(null,a,r),o)}function mm(){}function S_(r,a){var o=Dt();a=a===void 0?null:a;var u=o.memoizedState;return a!==null&&rm(a,u[1])?u[0]:(o.memoizedState=[r,a],r)}function A_(r,a){var o=Dt();a=a===void 0?null:a;var u=o.memoizedState;if(a!==null&&rm(a,u[1]))return u[0];if(u=r(),_s){En(!0);try{r()}finally{En(!1)}}return o.memoizedState=[u,a],u}function pm(r,a,o){return o===void 0||(aa&1073741824)!==0?r.memoizedState=a:(r.memoizedState=o,r=C0(),Ne.lanes|=r,ha|=r,o)}function R_(r,a,o,u){return Pn(o,a)?o:So.current!==null?(r=pm(r,o,u),Pn(r,a)||(Gt=!0),r):(aa&42)===0?(Gt=!0,r.memoizedState=o):(r=C0(),Ne.lanes|=r,ha|=r,a)}function I_(r,a,o,u,h){var p=ce.p;ce.p=p!==0&&8>p?p:8;var E=X.T,w={};X.T=w,vm(r,!1,a,o);try{var P=h(),$=X.S;if($!==null&&$(w,P),P!==null&&typeof P=="object"&&typeof P.then=="function"){var Z=CR(P,u);Kl(r,a,Z,Un(r))}else Kl(r,a,u,Un(r))}catch(ie){Kl(r,a,{then:function(){},status:"rejected",reason:ie},Un())}finally{ce.p=p,X.T=E}}function PR(){}function gm(r,a,o,u){if(r.tag!==5)throw Error(i(476));var h=C_(r).queue;I_(r,h,a,de,o===null?PR:function(){return O_(r),o(u)})}function C_(r){var a=r.memoizedState;if(a!==null)return a;a={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ai,lastRenderedState:de},next:null};var o={};return a.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ai,lastRenderedState:o},next:null},r.memoizedState=a,r=r.alternate,r!==null&&(r.memoizedState=a),a}function O_(r){var a=C_(r).next.queue;Kl(r,a,{},Un())}function ym(){return mn(hu)}function D_(){return Dt().memoizedState}function N_(){return Dt().memoizedState}function MR(r){for(var a=r.return;a!==null;){switch(a.tag){case 24:case 3:var o=Un();r=ra(o);var u=ia(a,r,o);u!==null&&(jn(u,a,o),Fl(u,a,o)),a={cache:Yd()},r.payload=a;return}a=a.return}}function kR(r,a,o){var u=Un();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},tf(r)?P_(a,o):(o=Ld(r,a,o,u),o!==null&&(jn(o,r,u),M_(o,a,u)))}function x_(r,a,o){var u=Un();Kl(r,a,o,u)}function Kl(r,a,o,u){var h={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(tf(r))P_(a,h);else{var p=r.alternate;if(r.lanes===0&&(p===null||p.lanes===0)&&(p=a.lastRenderedReducer,p!==null))try{var E=a.lastRenderedState,w=p(E,o);if(h.hasEagerState=!0,h.eagerState=w,Pn(w,E))return Uc(r,a,h,0),lt===null&&Lc(),!1}catch{}finally{}if(o=Ld(r,a,h,u),o!==null)return jn(o,r,u),M_(o,a,u),!0}return!1}function vm(r,a,o,u){if(u={lane:2,revertLane:Qm(),action:u,hasEagerState:!1,eagerState:null,next:null},tf(r)){if(a)throw Error(i(479))}else a=Ld(r,o,u,2),a!==null&&jn(a,r,2)}function tf(r){var a=r.alternate;return r===Ne||a!==null&&a===Ne}function P_(r,a){Ao=Wc=!0;var o=r.pending;o===null?a.next=a:(a.next=o.next,o.next=a),r.pending=a}function M_(r,a,o){if((o&4194048)!==0){var u=a.lanes;u&=r.pendingLanes,o|=u,a.lanes=o,Dr(r,o)}}var nf={readContext:mn,use:Xc,useCallback:wt,useContext:wt,useEffect:wt,useImperativeHandle:wt,useLayoutEffect:wt,useInsertionEffect:wt,useMemo:wt,useReducer:wt,useRef:wt,useState:wt,useDebugValue:wt,useDeferredValue:wt,useTransition:wt,useSyncExternalStore:wt,useId:wt,useHostTransitionStatus:wt,useFormState:wt,useActionState:wt,useOptimistic:wt,useMemoCache:wt,useCacheRefresh:wt},k_={readContext:mn,use:Xc,useCallback:function(r,a){return An().memoizedState=[r,a===void 0?null:a],r},useContext:mn,useEffect:v_,useImperativeHandle:function(r,a,o){o=o!=null?o.concat([r]):null,ef(4194308,4,T_.bind(null,a,r),o)},useLayoutEffect:function(r,a){return ef(4194308,4,r,a)},useInsertionEffect:function(r,a){ef(4,2,r,a)},useMemo:function(r,a){var o=An();a=a===void 0?null:a;var u=r();if(_s){En(!0);try{r()}finally{En(!1)}}return o.memoizedState=[u,a],u},useReducer:function(r,a,o){var u=An();if(o!==void 0){var h=o(a);if(_s){En(!0);try{o(a)}finally{En(!1)}}}else h=a;return u.memoizedState=u.baseState=h,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:h},u.queue=r,r=r.dispatch=kR.bind(null,Ne,r),[u.memoizedState,r]},useRef:function(r){var a=An();return r={current:r},a.memoizedState=r},useState:function(r){r=hm(r);var a=r.queue,o=x_.bind(null,Ne,a);return a.dispatch=o,[r.memoizedState,o]},useDebugValue:mm,useDeferredValue:function(r,a){var o=An();return pm(o,r,a)},useTransition:function(){var r=hm(!1);return r=I_.bind(null,Ne,r.queue,!0,!1),An().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,a,o){var u=Ne,h=An();if(Ke){if(o===void 0)throw Error(i(407));o=o()}else{if(o=a(),lt===null)throw Error(i(349));(Be&124)!==0||n_(u,a,o)}h.memoizedState=o;var p={value:o,getSnapshot:a};return h.queue=p,v_(i_.bind(null,u,p,r),[r]),u.flags|=2048,Io(9,Zc(),r_.bind(null,u,p,o,a),null),o},useId:function(){var r=An(),a=lt.identifierPrefix;if(Ke){var o=Ti,u=bi;o=(u&~(1<<32-Rt(u)-1)).toString(32)+o,a=""+a+"R"+o,o=Qc++,0<o&&(a+="H"+o.toString(32)),a+=""}else o=OR++,a=""+a+"r"+o.toString(32)+"";return r.memoizedState=a},useHostTransitionStatus:ym,useFormState:d_,useActionState:d_,useOptimistic:function(r){var a=An();a.memoizedState=a.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=o,a=vm.bind(null,Ne,!0,o),o.dispatch=a,[r,a]},useMemoCache:um,useCacheRefresh:function(){return An().memoizedState=MR.bind(null,Ne)}},V_={readContext:mn,use:Xc,useCallback:S_,useContext:mn,useEffect:__,useImperativeHandle:w_,useInsertionEffect:E_,useLayoutEffect:b_,useMemo:A_,useReducer:Jc,useRef:y_,useState:function(){return Jc(Ai)},useDebugValue:mm,useDeferredValue:function(r,a){var o=Dt();return R_(o,tt.memoizedState,r,a)},useTransition:function(){var r=Jc(Ai)[0],a=Dt().memoizedState;return[typeof r=="boolean"?r:$l(r),a]},useSyncExternalStore:t_,useId:D_,useHostTransitionStatus:ym,useFormState:m_,useActionState:m_,useOptimistic:function(r,a){var o=Dt();return o_(o,tt,r,a)},useMemoCache:um,useCacheRefresh:N_},VR={readContext:mn,use:Xc,useCallback:S_,useContext:mn,useEffect:__,useImperativeHandle:w_,useInsertionEffect:E_,useLayoutEffect:b_,useMemo:A_,useReducer:fm,useRef:y_,useState:function(){return fm(Ai)},useDebugValue:mm,useDeferredValue:function(r,a){var o=Dt();return tt===null?pm(o,r,a):R_(o,tt.memoizedState,r,a)},useTransition:function(){var r=fm(Ai)[0],a=Dt().memoizedState;return[typeof r=="boolean"?r:$l(r),a]},useSyncExternalStore:t_,useId:D_,useHostTransitionStatus:ym,useFormState:g_,useActionState:g_,useOptimistic:function(r,a){var o=Dt();return tt!==null?o_(o,tt,r,a):(o.baseState=r,[r,o.queue.dispatch])},useMemoCache:um,useCacheRefresh:N_},Co=null,Wl=0;function rf(r){var a=Wl;return Wl+=1,Co===null&&(Co=[]),Yv(Co,r,a)}function Ql(r,a){a=a.props.ref,r.ref=a!==void 0?a:null}function af(r,a){throw a.$$typeof===b?Error(i(525)):(r=Object.prototype.toString.call(a),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":r)))}function L_(r){var a=r._init;return a(r._payload)}function U_(r){function a(B,U){if(r){var G=B.deletions;G===null?(B.deletions=[U],B.flags|=16):G.push(U)}}function o(B,U){if(!r)return null;for(;U!==null;)a(B,U),U=U.sibling;return null}function u(B){for(var U=new Map;B!==null;)B.key!==null?U.set(B.key,B):U.set(B.index,B),B=B.sibling;return U}function h(B,U){return B=Ei(B,U),B.index=0,B.sibling=null,B}function p(B,U,G){return B.index=G,r?(G=B.alternate,G!==null?(G=G.index,G<U?(B.flags|=67108866,U):G):(B.flags|=67108866,U)):(B.flags|=1048576,U)}function E(B){return r&&B.alternate===null&&(B.flags|=67108866),B}function w(B,U,G,ne){return U===null||U.tag!==6?(U=jd(G,B.mode,ne),U.return=B,U):(U=h(U,G),U.return=B,U)}function P(B,U,G,ne){var he=G.type;return he===O?Z(B,U,G.props.children,ne,G.key):U!==null&&(U.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===A&&L_(he)===U.type)?(U=h(U,G.props),Ql(U,G),U.return=B,U):(U=zc(G.type,G.key,G.props,null,B.mode,ne),Ql(U,G),U.return=B,U)}function $(B,U,G,ne){return U===null||U.tag!==4||U.stateNode.containerInfo!==G.containerInfo||U.stateNode.implementation!==G.implementation?(U=zd(G,B.mode,ne),U.return=B,U):(U=h(U,G.children||[]),U.return=B,U)}function Z(B,U,G,ne,he){return U===null||U.tag!==7?(U=fs(G,B.mode,ne,he),U.return=B,U):(U=h(U,G),U.return=B,U)}function ie(B,U,G){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=jd(""+U,B.mode,G),U.return=B,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case T:return G=zc(U.type,U.key,U.props,null,B.mode,G),Ql(G,U),G.return=B,G;case R:return U=zd(U,B.mode,G),U.return=B,U;case A:var ne=U._init;return U=ne(U._payload),ie(B,U,G)}if(He(U)||x(U))return U=fs(U,B.mode,G,null),U.return=B,U;if(typeof U.then=="function")return ie(B,rf(U),G);if(U.$$typeof===H)return ie(B,qc(B,U),G);af(B,U)}return null}function Y(B,U,G,ne){var he=U!==null?U.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return he!==null?null:w(B,U,""+G,ne);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case T:return G.key===he?P(B,U,G,ne):null;case R:return G.key===he?$(B,U,G,ne):null;case A:return he=G._init,G=he(G._payload),Y(B,U,G,ne)}if(He(G)||x(G))return he!==null?null:Z(B,U,G,ne,null);if(typeof G.then=="function")return Y(B,U,rf(G),ne);if(G.$$typeof===H)return Y(B,U,qc(B,G),ne);af(B,G)}return null}function W(B,U,G,ne,he){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return B=B.get(G)||null,w(U,B,""+ne,he);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case T:return B=B.get(ne.key===null?G:ne.key)||null,P(U,B,ne,he);case R:return B=B.get(ne.key===null?G:ne.key)||null,$(U,B,ne,he);case A:var Me=ne._init;return ne=Me(ne._payload),W(B,U,G,ne,he)}if(He(ne)||x(ne))return B=B.get(G)||null,Z(U,B,ne,he,null);if(typeof ne.then=="function")return W(B,U,G,rf(ne),he);if(ne.$$typeof===H)return W(B,U,G,qc(U,ne),he);af(U,ne)}return null}function we(B,U,G,ne){for(var he=null,Me=null,pe=U,Ee=U=0,Yt=null;pe!==null&&Ee<G.length;Ee++){pe.index>Ee?(Yt=pe,pe=null):Yt=pe.sibling;var $e=Y(B,pe,G[Ee],ne);if($e===null){pe===null&&(pe=Yt);break}r&&pe&&$e.alternate===null&&a(B,pe),U=p($e,U,Ee),Me===null?he=$e:Me.sibling=$e,Me=$e,pe=Yt}if(Ee===G.length)return o(B,pe),Ke&&ds(B,Ee),he;if(pe===null){for(;Ee<G.length;Ee++)pe=ie(B,G[Ee],ne),pe!==null&&(U=p(pe,U,Ee),Me===null?he=pe:Me.sibling=pe,Me=pe);return Ke&&ds(B,Ee),he}for(pe=u(pe);Ee<G.length;Ee++)Yt=W(pe,B,Ee,G[Ee],ne),Yt!==null&&(r&&Yt.alternate!==null&&pe.delete(Yt.key===null?Ee:Yt.key),U=p(Yt,U,Ee),Me===null?he=Yt:Me.sibling=Yt,Me=Yt);return r&&pe.forEach(function(ba){return a(B,ba)}),Ke&&ds(B,Ee),he}function _e(B,U,G,ne){if(G==null)throw Error(i(151));for(var he=null,Me=null,pe=U,Ee=U=0,Yt=null,$e=G.next();pe!==null&&!$e.done;Ee++,$e=G.next()){pe.index>Ee?(Yt=pe,pe=null):Yt=pe.sibling;var ba=Y(B,pe,$e.value,ne);if(ba===null){pe===null&&(pe=Yt);break}r&&pe&&ba.alternate===null&&a(B,pe),U=p(ba,U,Ee),Me===null?he=ba:Me.sibling=ba,Me=ba,pe=Yt}if($e.done)return o(B,pe),Ke&&ds(B,Ee),he;if(pe===null){for(;!$e.done;Ee++,$e=G.next())$e=ie(B,$e.value,ne),$e!==null&&(U=p($e,U,Ee),Me===null?he=$e:Me.sibling=$e,Me=$e);return Ke&&ds(B,Ee),he}for(pe=u(pe);!$e.done;Ee++,$e=G.next())$e=W(pe,B,Ee,$e.value,ne),$e!==null&&(r&&$e.alternate!==null&&pe.delete($e.key===null?Ee:$e.key),U=p($e,U,Ee),Me===null?he=$e:Me.sibling=$e,Me=$e);return r&&pe.forEach(function(LI){return a(B,LI)}),Ke&&ds(B,Ee),he}function rt(B,U,G,ne){if(typeof G=="object"&&G!==null&&G.type===O&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case T:e:{for(var he=G.key;U!==null;){if(U.key===he){if(he=G.type,he===O){if(U.tag===7){o(B,U.sibling),ne=h(U,G.props.children),ne.return=B,B=ne;break e}}else if(U.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===A&&L_(he)===U.type){o(B,U.sibling),ne=h(U,G.props),Ql(ne,G),ne.return=B,B=ne;break e}o(B,U);break}else a(B,U);U=U.sibling}G.type===O?(ne=fs(G.props.children,B.mode,ne,G.key),ne.return=B,B=ne):(ne=zc(G.type,G.key,G.props,null,B.mode,ne),Ql(ne,G),ne.return=B,B=ne)}return E(B);case R:e:{for(he=G.key;U!==null;){if(U.key===he)if(U.tag===4&&U.stateNode.containerInfo===G.containerInfo&&U.stateNode.implementation===G.implementation){o(B,U.sibling),ne=h(U,G.children||[]),ne.return=B,B=ne;break e}else{o(B,U);break}else a(B,U);U=U.sibling}ne=zd(G,B.mode,ne),ne.return=B,B=ne}return E(B);case A:return he=G._init,G=he(G._payload),rt(B,U,G,ne)}if(He(G))return we(B,U,G,ne);if(x(G)){if(he=x(G),typeof he!="function")throw Error(i(150));return G=he.call(G),_e(B,U,G,ne)}if(typeof G.then=="function")return rt(B,U,rf(G),ne);if(G.$$typeof===H)return rt(B,U,qc(B,G),ne);af(B,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,U!==null&&U.tag===6?(o(B,U.sibling),ne=h(U,G),ne.return=B,B=ne):(o(B,U),ne=jd(G,B.mode,ne),ne.return=B,B=ne),E(B)):o(B,U)}return function(B,U,G,ne){try{Wl=0;var he=rt(B,U,G,ne);return Co=null,he}catch(pe){if(pe===zl||pe===$c)throw pe;var Me=Mn(29,pe,null,B.mode);return Me.lanes=ne,Me.return=B,Me}finally{}}}var Oo=U_(!0),j_=U_(!1),rr=re(null),Br=null;function sa(r){var a=r.alternate;oe(jt,jt.current&1),oe(rr,r),Br===null&&(a===null||So.current!==null||a.memoizedState!==null)&&(Br=r)}function z_(r){if(r.tag===22){if(oe(jt,jt.current),oe(rr,r),Br===null){var a=r.alternate;a!==null&&a.memoizedState!==null&&(Br=r)}}else oa()}function oa(){oe(jt,jt.current),oe(rr,rr.current)}function Ri(r){ue(rr),Br===r&&(Br=null),ue(jt)}var jt=re(0);function sf(r){for(var a=r;a!==null;){if(a.tag===13){var o=a.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||lp(o)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function _m(r,a,o,u){a=r.memoizedState,o=o(u,a),o=o==null?a:v({},a,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var Em={enqueueSetState:function(r,a,o){r=r._reactInternals;var u=Un(),h=ra(u);h.payload=a,o!=null&&(h.callback=o),a=ia(r,h,u),a!==null&&(jn(a,r,u),Fl(a,r,u))},enqueueReplaceState:function(r,a,o){r=r._reactInternals;var u=Un(),h=ra(u);h.tag=1,h.payload=a,o!=null&&(h.callback=o),a=ia(r,h,u),a!==null&&(jn(a,r,u),Fl(a,r,u))},enqueueForceUpdate:function(r,a){r=r._reactInternals;var o=Un(),u=ra(o);u.tag=2,a!=null&&(u.callback=a),a=ia(r,u,o),a!==null&&(jn(a,r,o),Fl(a,r,o))}};function B_(r,a,o,u,h,p,E){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,p,E):a.prototype&&a.prototype.isPureReactComponent?!xl(o,u)||!xl(h,p):!0}function F_(r,a,o,u){r=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(o,u),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(o,u),a.state!==r&&Em.enqueueReplaceState(a,a.state,null)}function Es(r,a){var o=a;if("ref"in a){o={};for(var u in a)u!=="ref"&&(o[u]=a[u])}if(r=r.defaultProps){o===a&&(o=v({},o));for(var h in r)o[h]===void 0&&(o[h]=r[h])}return o}var of=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function H_(r){of(r)}function q_(r){console.error(r)}function G_(r){of(r)}function lf(r,a){try{var o=r.onUncaughtError;o(a.value,{componentStack:a.stack})}catch(u){setTimeout(function(){throw u})}}function $_(r,a,o){try{var u=r.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function bm(r,a,o){return o=ra(o),o.tag=3,o.payload={element:null},o.callback=function(){lf(r,a)},o}function Y_(r){return r=ra(r),r.tag=3,r}function K_(r,a,o,u){var h=o.type.getDerivedStateFromError;if(typeof h=="function"){var p=u.value;r.payload=function(){return h(p)},r.callback=function(){$_(a,o,u)}}var E=o.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(r.callback=function(){$_(a,o,u),typeof h!="function"&&(da===null?da=new Set([this]):da.add(this));var w=u.stack;this.componentDidCatch(u.value,{componentStack:w!==null?w:""})})}function LR(r,a,o,u,h){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(a=o.alternate,a!==null&&Ll(a,o,h,!0),o=rr.current,o!==null){switch(o.tag){case 13:return Br===null?Gm():o.alternate===null&&Tt===0&&(Tt=3),o.flags&=-257,o.flags|=65536,o.lanes=h,u===Qd?o.flags|=16384:(a=o.updateQueue,a===null?o.updateQueue=new Set([u]):a.add(u),Ym(r,u,h)),!1;case 22:return o.flags|=65536,u===Qd?o.flags|=16384:(a=o.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=a):(o=a.retryQueue,o===null?a.retryQueue=new Set([u]):o.add(u)),Ym(r,u,h)),!1}throw Error(i(435,o.tag))}return Ym(r,u,h),Gm(),!1}if(Ke)return a=rr.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=h,u!==Hd&&(r=Error(i(422),{cause:u}),Vl(Zn(r,o)))):(u!==Hd&&(a=Error(i(423),{cause:u}),Vl(Zn(a,o))),r=r.current.alternate,r.flags|=65536,h&=-h,r.lanes|=h,u=Zn(u,o),h=bm(r.stateNode,u,h),Zd(r,h),Tt!==4&&(Tt=2)),!1;var p=Error(i(520),{cause:u});if(p=Zn(p,o),ru===null?ru=[p]:ru.push(p),Tt!==4&&(Tt=2),a===null)return!0;u=Zn(u,o),o=a;do{switch(o.tag){case 3:return o.flags|=65536,r=h&-h,o.lanes|=r,r=bm(o.stateNode,u,r),Zd(o,r),!1;case 1:if(a=o.type,p=o.stateNode,(o.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(da===null||!da.has(p))))return o.flags|=65536,h&=-h,o.lanes|=h,h=Y_(h),K_(h,r,o,u),Zd(o,h),!1}o=o.return}while(o!==null);return!1}var W_=Error(i(461)),Gt=!1;function rn(r,a,o,u){a.child=r===null?j_(a,null,o,u):Oo(a,r.child,o,u)}function Q_(r,a,o,u,h){o=o.render;var p=a.ref;if("ref"in u){var E={};for(var w in u)w!=="ref"&&(E[w]=u[w])}else E=u;return ys(a),u=im(r,a,o,E,p,h),w=am(),r!==null&&!Gt?(sm(r,a,h),Ii(r,a,h)):(Ke&&w&&Bd(a),a.flags|=1,rn(r,a,u,h),a.child)}function X_(r,a,o,u,h){if(r===null){var p=o.type;return typeof p=="function"&&!Ud(p)&&p.defaultProps===void 0&&o.compare===null?(a.tag=15,a.type=p,J_(r,a,p,u,h)):(r=zc(o.type,null,u,a,a.mode,h),r.ref=a.ref,r.return=a,a.child=r)}if(p=r.child,!Om(r,h)){var E=p.memoizedProps;if(o=o.compare,o=o!==null?o:xl,o(E,u)&&r.ref===a.ref)return Ii(r,a,h)}return a.flags|=1,r=Ei(p,u),r.ref=a.ref,r.return=a,a.child=r}function J_(r,a,o,u,h){if(r!==null){var p=r.memoizedProps;if(xl(p,u)&&r.ref===a.ref)if(Gt=!1,a.pendingProps=u=p,Om(r,h))(r.flags&131072)!==0&&(Gt=!0);else return a.lanes=r.lanes,Ii(r,a,h)}return Tm(r,a,o,u,h)}function Z_(r,a,o){var u=a.pendingProps,h=u.children,p=r!==null?r.memoizedState:null;if(u.mode==="hidden"){if((a.flags&128)!==0){if(u=p!==null?p.baseLanes|o:o,r!==null){for(h=a.child=r.child,p=0;h!==null;)p=p|h.lanes|h.childLanes,h=h.sibling;a.childLanes=p&~u}else a.childLanes=0,a.child=null;return e0(r,a,u,o)}if((o&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},r!==null&&Gc(a,p!==null?p.cachePool:null),p!==null?Jv(a,p):tm(),z_(a);else return a.lanes=a.childLanes=536870912,e0(r,a,p!==null?p.baseLanes|o:o,o)}else p!==null?(Gc(a,p.cachePool),Jv(a,p),oa(),a.memoizedState=null):(r!==null&&Gc(a,null),tm(),oa());return rn(r,a,h,o),a.child}function e0(r,a,o,u){var h=Wd();return h=h===null?null:{parent:Ut._currentValue,pool:h},a.memoizedState={baseLanes:o,cachePool:h},r!==null&&Gc(a,null),tm(),z_(a),r!==null&&Ll(r,a,u,!0),null}function uf(r,a){var o=a.ref;if(o===null)r!==null&&r.ref!==null&&(a.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(r===null||r.ref!==o)&&(a.flags|=4194816)}}function Tm(r,a,o,u,h){return ys(a),o=im(r,a,o,u,void 0,h),u=am(),r!==null&&!Gt?(sm(r,a,h),Ii(r,a,h)):(Ke&&u&&Bd(a),a.flags|=1,rn(r,a,o,h),a.child)}function t0(r,a,o,u,h,p){return ys(a),a.updateQueue=null,o=e_(a,u,o,h),Zv(r),u=am(),r!==null&&!Gt?(sm(r,a,p),Ii(r,a,p)):(Ke&&u&&Bd(a),a.flags|=1,rn(r,a,o,p),a.child)}function n0(r,a,o,u,h){if(ys(a),a.stateNode===null){var p=_o,E=o.contextType;typeof E=="object"&&E!==null&&(p=mn(E)),p=new o(u,p),a.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Em,a.stateNode=p,p._reactInternals=a,p=a.stateNode,p.props=u,p.state=a.memoizedState,p.refs={},Xd(a),E=o.contextType,p.context=typeof E=="object"&&E!==null?mn(E):_o,p.state=a.memoizedState,E=o.getDerivedStateFromProps,typeof E=="function"&&(_m(a,o,E,u),p.state=a.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(E=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),E!==p.state&&Em.enqueueReplaceState(p,p.state,null),ql(a,u,p,h),Hl(),p.state=a.memoizedState),typeof p.componentDidMount=="function"&&(a.flags|=4194308),u=!0}else if(r===null){p=a.stateNode;var w=a.memoizedProps,P=Es(o,w);p.props=P;var $=p.context,Z=o.contextType;E=_o,typeof Z=="object"&&Z!==null&&(E=mn(Z));var ie=o.getDerivedStateFromProps;Z=typeof ie=="function"||typeof p.getSnapshotBeforeUpdate=="function",w=a.pendingProps!==w,Z||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(w||$!==E)&&F_(a,p,u,E),na=!1;var Y=a.memoizedState;p.state=Y,ql(a,u,p,h),Hl(),$=a.memoizedState,w||Y!==$||na?(typeof ie=="function"&&(_m(a,o,ie,u),$=a.memoizedState),(P=na||B_(a,o,P,u,Y,$,E))?(Z||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(a.flags|=4194308)):(typeof p.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=u,a.memoizedState=$),p.props=u,p.state=$,p.context=E,u=P):(typeof p.componentDidMount=="function"&&(a.flags|=4194308),u=!1)}else{p=a.stateNode,Jd(r,a),E=a.memoizedProps,Z=Es(o,E),p.props=Z,ie=a.pendingProps,Y=p.context,$=o.contextType,P=_o,typeof $=="object"&&$!==null&&(P=mn($)),w=o.getDerivedStateFromProps,($=typeof w=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(E!==ie||Y!==P)&&F_(a,p,u,P),na=!1,Y=a.memoizedState,p.state=Y,ql(a,u,p,h),Hl();var W=a.memoizedState;E!==ie||Y!==W||na||r!==null&&r.dependencies!==null&&Hc(r.dependencies)?(typeof w=="function"&&(_m(a,o,w,u),W=a.memoizedState),(Z=na||B_(a,o,Z,u,Y,W,P)||r!==null&&r.dependencies!==null&&Hc(r.dependencies))?($||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(u,W,P),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(u,W,P)),typeof p.componentDidUpdate=="function"&&(a.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof p.componentDidUpdate!="function"||E===r.memoizedProps&&Y===r.memoizedState||(a.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&Y===r.memoizedState||(a.flags|=1024),a.memoizedProps=u,a.memoizedState=W),p.props=u,p.state=W,p.context=P,u=Z):(typeof p.componentDidUpdate!="function"||E===r.memoizedProps&&Y===r.memoizedState||(a.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&Y===r.memoizedState||(a.flags|=1024),u=!1)}return p=u,uf(r,a),u=(a.flags&128)!==0,p||u?(p=a.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:p.render(),a.flags|=1,r!==null&&u?(a.child=Oo(a,r.child,null,h),a.child=Oo(a,null,o,h)):rn(r,a,o,h),a.memoizedState=p.state,r=a.child):r=Ii(r,a,h),r}function r0(r,a,o,u){return kl(),a.flags|=256,rn(r,a,o,u),a.child}var wm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Sm(r){return{baseLanes:r,cachePool:qv()}}function Am(r,a,o){return r=r!==null?r.childLanes&~o:0,a&&(r|=ir),r}function i0(r,a,o){var u=a.pendingProps,h=!1,p=(a.flags&128)!==0,E;if((E=p)||(E=r!==null&&r.memoizedState===null?!1:(jt.current&2)!==0),E&&(h=!0,a.flags&=-129),E=(a.flags&32)!==0,a.flags&=-33,r===null){if(Ke){if(h?sa(a):oa(),Ke){var w=bt,P;if(P=w){e:{for(P=w,w=zr;P.nodeType!==8;){if(!w){w=null;break e}if(P=br(P.nextSibling),P===null){w=null;break e}}w=P}w!==null?(a.memoizedState={dehydrated:w,treeContext:hs!==null?{id:bi,overflow:Ti}:null,retryLane:536870912,hydrationErrors:null},P=Mn(18,null,null,0),P.stateNode=w,P.return=a,a.child=P,Sn=a,bt=null,P=!0):P=!1}P||ps(a)}if(w=a.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return lp(w)?a.lanes=32:a.lanes=536870912,null;Ri(a)}return w=u.children,u=u.fallback,h?(oa(),h=a.mode,w=cf({mode:"hidden",children:w},h),u=fs(u,h,o,null),w.return=a,u.return=a,w.sibling=u,a.child=w,h=a.child,h.memoizedState=Sm(o),h.childLanes=Am(r,E,o),a.memoizedState=wm,u):(sa(a),Rm(a,w))}if(P=r.memoizedState,P!==null&&(w=P.dehydrated,w!==null)){if(p)a.flags&256?(sa(a),a.flags&=-257,a=Im(r,a,o)):a.memoizedState!==null?(oa(),a.child=r.child,a.flags|=128,a=null):(oa(),h=u.fallback,w=a.mode,u=cf({mode:"visible",children:u.children},w),h=fs(h,w,o,null),h.flags|=2,u.return=a,h.return=a,u.sibling=h,a.child=u,Oo(a,r.child,null,o),u=a.child,u.memoizedState=Sm(o),u.childLanes=Am(r,E,o),a.memoizedState=wm,a=h);else if(sa(a),lp(w)){if(E=w.nextSibling&&w.nextSibling.dataset,E)var $=E.dgst;E=$,u=Error(i(419)),u.stack="",u.digest=E,Vl({value:u,source:null,stack:null}),a=Im(r,a,o)}else if(Gt||Ll(r,a,o,!1),E=(o&r.childLanes)!==0,Gt||E){if(E=lt,E!==null&&(u=o&-o,u=(u&42)!==0?1:Ge(u),u=(u&(E.suspendedLanes|o))!==0?0:u,u!==0&&u!==P.retryLane))throw P.retryLane=u,vo(r,u),jn(E,r,u),W_;w.data==="$?"||Gm(),a=Im(r,a,o)}else w.data==="$?"?(a.flags|=192,a.child=r.child,a=null):(r=P.treeContext,bt=br(w.nextSibling),Sn=a,Ke=!0,ms=null,zr=!1,r!==null&&(tr[nr++]=bi,tr[nr++]=Ti,tr[nr++]=hs,bi=r.id,Ti=r.overflow,hs=a),a=Rm(a,u.children),a.flags|=4096);return a}return h?(oa(),h=u.fallback,w=a.mode,P=r.child,$=P.sibling,u=Ei(P,{mode:"hidden",children:u.children}),u.subtreeFlags=P.subtreeFlags&65011712,$!==null?h=Ei($,h):(h=fs(h,w,o,null),h.flags|=2),h.return=a,u.return=a,u.sibling=h,a.child=u,u=h,h=a.child,w=r.child.memoizedState,w===null?w=Sm(o):(P=w.cachePool,P!==null?($=Ut._currentValue,P=P.parent!==$?{parent:$,pool:$}:P):P=qv(),w={baseLanes:w.baseLanes|o,cachePool:P}),h.memoizedState=w,h.childLanes=Am(r,E,o),a.memoizedState=wm,u):(sa(a),o=r.child,r=o.sibling,o=Ei(o,{mode:"visible",children:u.children}),o.return=a,o.sibling=null,r!==null&&(E=a.deletions,E===null?(a.deletions=[r],a.flags|=16):E.push(r)),a.child=o,a.memoizedState=null,o)}function Rm(r,a){return a=cf({mode:"visible",children:a},r.mode),a.return=r,r.child=a}function cf(r,a){return r=Mn(22,r,null,a),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function Im(r,a,o){return Oo(a,r.child,null,o),r=Rm(a,a.pendingProps.children),r.flags|=2,a.memoizedState=null,r}function a0(r,a,o){r.lanes|=a;var u=r.alternate;u!==null&&(u.lanes|=a),Gd(r.return,a,o)}function Cm(r,a,o,u,h){var p=r.memoizedState;p===null?r.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:h}:(p.isBackwards=a,p.rendering=null,p.renderingStartTime=0,p.last=u,p.tail=o,p.tailMode=h)}function s0(r,a,o){var u=a.pendingProps,h=u.revealOrder,p=u.tail;if(rn(r,a,u.children,o),u=jt.current,(u&2)!==0)u=u&1|2,a.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=a.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&a0(r,o,a);else if(r.tag===19)a0(r,o,a);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===a)break e;for(;r.sibling===null;){if(r.return===null||r.return===a)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}u&=1}switch(oe(jt,u),h){case"forwards":for(o=a.child,h=null;o!==null;)r=o.alternate,r!==null&&sf(r)===null&&(h=o),o=o.sibling;o=h,o===null?(h=a.child,a.child=null):(h=o.sibling,o.sibling=null),Cm(a,!1,h,o,p);break;case"backwards":for(o=null,h=a.child,a.child=null;h!==null;){if(r=h.alternate,r!==null&&sf(r)===null){a.child=h;break}r=h.sibling,h.sibling=o,o=h,h=r}Cm(a,!0,o,null,p);break;case"together":Cm(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Ii(r,a,o){if(r!==null&&(a.dependencies=r.dependencies),ha|=a.lanes,(o&a.childLanes)===0)if(r!==null){if(Ll(r,a,o,!1),(o&a.childLanes)===0)return null}else return null;if(r!==null&&a.child!==r.child)throw Error(i(153));if(a.child!==null){for(r=a.child,o=Ei(r,r.pendingProps),a.child=o,o.return=a;r.sibling!==null;)r=r.sibling,o=o.sibling=Ei(r,r.pendingProps),o.return=a;o.sibling=null}return a.child}function Om(r,a){return(r.lanes&a)!==0?!0:(r=r.dependencies,!!(r!==null&&Hc(r)))}function UR(r,a,o){switch(a.tag){case 3:qe(a,a.stateNode.containerInfo),ta(a,Ut,r.memoizedState.cache),kl();break;case 27:case 5:Hn(a);break;case 4:qe(a,a.stateNode.containerInfo);break;case 10:ta(a,a.type,a.memoizedProps.value);break;case 13:var u=a.memoizedState;if(u!==null)return u.dehydrated!==null?(sa(a),a.flags|=128,null):(o&a.child.childLanes)!==0?i0(r,a,o):(sa(a),r=Ii(r,a,o),r!==null?r.sibling:null);sa(a);break;case 19:var h=(r.flags&128)!==0;if(u=(o&a.childLanes)!==0,u||(Ll(r,a,o,!1),u=(o&a.childLanes)!==0),h){if(u)return s0(r,a,o);a.flags|=128}if(h=a.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),oe(jt,jt.current),u)break;return null;case 22:case 23:return a.lanes=0,Z_(r,a,o);case 24:ta(a,Ut,r.memoizedState.cache)}return Ii(r,a,o)}function o0(r,a,o){if(r!==null)if(r.memoizedProps!==a.pendingProps)Gt=!0;else{if(!Om(r,o)&&(a.flags&128)===0)return Gt=!1,UR(r,a,o);Gt=(r.flags&131072)!==0}else Gt=!1,Ke&&(a.flags&1048576)!==0&&Lv(a,Fc,a.index);switch(a.lanes=0,a.tag){case 16:e:{r=a.pendingProps;var u=a.elementType,h=u._init;if(u=h(u._payload),a.type=u,typeof u=="function")Ud(u)?(r=Es(u,r),a.tag=1,a=n0(null,a,u,r,o)):(a.tag=0,a=Tm(null,a,u,r,o));else{if(u!=null){if(h=u.$$typeof,h===K){a.tag=11,a=Q_(null,a,u,r,o);break e}else if(h===D){a.tag=14,a=X_(null,a,u,r,o);break e}}throw a=it(u)||u,Error(i(306,a,""))}}return a;case 0:return Tm(r,a,a.type,a.pendingProps,o);case 1:return u=a.type,h=Es(u,a.pendingProps),n0(r,a,u,h,o);case 3:e:{if(qe(a,a.stateNode.containerInfo),r===null)throw Error(i(387));u=a.pendingProps;var p=a.memoizedState;h=p.element,Jd(r,a),ql(a,u,null,o);var E=a.memoizedState;if(u=E.cache,ta(a,Ut,u),u!==p.cache&&$d(a,[Ut],o,!0),Hl(),u=E.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:E.cache},a.updateQueue.baseState=p,a.memoizedState=p,a.flags&256){a=r0(r,a,u,o);break e}else if(u!==h){h=Zn(Error(i(424)),a),Vl(h),a=r0(r,a,u,o);break e}else{switch(r=a.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(bt=br(r.firstChild),Sn=a,Ke=!0,ms=null,zr=!0,o=j_(a,null,u,o),a.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(kl(),u===h){a=Ii(r,a,o);break e}rn(r,a,u,o)}a=a.child}return a;case 26:return uf(r,a),r===null?(o=fE(a.type,null,a.pendingProps,null))?a.memoizedState=o:Ke||(o=a.type,r=a.pendingProps,u=Sf(ve.current).createElement(o),u[Et]=a,u[dt]=r,sn(u,o,r),Ce(u),a.stateNode=u):a.memoizedState=fE(a.type,r.memoizedProps,a.pendingProps,r.memoizedState),null;case 27:return Hn(a),r===null&&Ke&&(u=a.stateNode=lE(a.type,a.pendingProps,ve.current),Sn=a,zr=!0,h=bt,ga(a.type)?(up=h,bt=br(u.firstChild)):bt=h),rn(r,a,a.pendingProps.children,o),uf(r,a),r===null&&(a.flags|=4194304),a.child;case 5:return r===null&&Ke&&((h=u=bt)&&(u=hI(u,a.type,a.pendingProps,zr),u!==null?(a.stateNode=u,Sn=a,bt=br(u.firstChild),zr=!1,h=!0):h=!1),h||ps(a)),Hn(a),h=a.type,p=a.pendingProps,E=r!==null?r.memoizedProps:null,u=p.children,ap(h,p)?u=null:E!==null&&ap(h,E)&&(a.flags|=32),a.memoizedState!==null&&(h=im(r,a,DR,null,null,o),hu._currentValue=h),uf(r,a),rn(r,a,u,o),a.child;case 6:return r===null&&Ke&&((r=o=bt)&&(o=dI(o,a.pendingProps,zr),o!==null?(a.stateNode=o,Sn=a,bt=null,r=!0):r=!1),r||ps(a)),null;case 13:return i0(r,a,o);case 4:return qe(a,a.stateNode.containerInfo),u=a.pendingProps,r===null?a.child=Oo(a,null,u,o):rn(r,a,u,o),a.child;case 11:return Q_(r,a,a.type,a.pendingProps,o);case 7:return rn(r,a,a.pendingProps,o),a.child;case 8:return rn(r,a,a.pendingProps.children,o),a.child;case 12:return rn(r,a,a.pendingProps.children,o),a.child;case 10:return u=a.pendingProps,ta(a,a.type,u.value),rn(r,a,u.children,o),a.child;case 9:return h=a.type._context,u=a.pendingProps.children,ys(a),h=mn(h),u=u(h),a.flags|=1,rn(r,a,u,o),a.child;case 14:return X_(r,a,a.type,a.pendingProps,o);case 15:return J_(r,a,a.type,a.pendingProps,o);case 19:return s0(r,a,o);case 31:return u=a.pendingProps,o=a.mode,u={mode:u.mode,children:u.children},r===null?(o=cf(u,o),o.ref=a.ref,a.child=o,o.return=a,a=o):(o=Ei(r.child,u),o.ref=a.ref,a.child=o,o.return=a,a=o),a;case 22:return Z_(r,a,o);case 24:return ys(a),u=mn(Ut),r===null?(h=Wd(),h===null&&(h=lt,p=Yd(),h.pooledCache=p,p.refCount++,p!==null&&(h.pooledCacheLanes|=o),h=p),a.memoizedState={parent:u,cache:h},Xd(a),ta(a,Ut,h)):((r.lanes&o)!==0&&(Jd(r,a),ql(a,null,null,o),Hl()),h=r.memoizedState,p=a.memoizedState,h.parent!==u?(h={parent:u,cache:u},a.memoizedState=h,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=h),ta(a,Ut,u)):(u=p.cache,ta(a,Ut,u),u!==h.cache&&$d(a,[Ut],o,!0))),rn(r,a,a.pendingProps.children,o),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function Ci(r){r.flags|=4}function l0(r,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!gE(a)){if(a=rr.current,a!==null&&((Be&4194048)===Be?Br!==null:(Be&62914560)!==Be&&(Be&536870912)===0||a!==Br))throw Bl=Qd,Gv;r.flags|=8192}}function ff(r,a){a!==null&&(r.flags|=4),r.flags&16384&&(a=r.tag!==22?Qi():536870912,r.lanes|=a,Po|=a)}function Xl(r,a){if(!Ke)switch(r.tailMode){case"hidden":a=r.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?a||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function gt(r){var a=r.alternate!==null&&r.alternate.child===r.child,o=0,u=0;if(a)for(var h=r.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags&65011712,u|=h.flags&65011712,h.return=r,h=h.sibling;else for(h=r.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=r,h=h.sibling;return r.subtreeFlags|=u,r.childLanes=o,a}function jR(r,a,o){var u=a.pendingProps;switch(Fd(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(a),null;case 1:return gt(a),null;case 3:return o=a.stateNode,u=null,r!==null&&(u=r.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),Si(Ut),kt(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(Ml(a)?Ci(a):r===null||r.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,zv())),gt(a),null;case 26:return o=a.memoizedState,r===null?(Ci(a),o!==null?(gt(a),l0(a,o)):(gt(a),a.flags&=-16777217)):o?o!==r.memoizedState?(Ci(a),gt(a),l0(a,o)):(gt(a),a.flags&=-16777217):(r.memoizedProps!==u&&Ci(a),gt(a),a.flags&=-16777217),null;case 27:Dn(a),o=ve.current;var h=a.type;if(r!==null&&a.stateNode!=null)r.memoizedProps!==u&&Ci(a);else{if(!u){if(a.stateNode===null)throw Error(i(166));return gt(a),null}r=me.current,Ml(a)?Uv(a):(r=lE(h,u,o),a.stateNode=r,Ci(a))}return gt(a),null;case 5:if(Dn(a),o=a.type,r!==null&&a.stateNode!=null)r.memoizedProps!==u&&Ci(a);else{if(!u){if(a.stateNode===null)throw Error(i(166));return gt(a),null}if(r=me.current,Ml(a))Uv(a);else{switch(h=Sf(ve.current),r){case 1:r=h.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:r=h.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":r=h.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":r=h.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":r=h.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof u.is=="string"?h.createElement("select",{is:u.is}):h.createElement("select"),u.multiple?r.multiple=!0:u.size&&(r.size=u.size);break;default:r=typeof u.is=="string"?h.createElement(o,{is:u.is}):h.createElement(o)}}r[Et]=a,r[dt]=u;e:for(h=a.child;h!==null;){if(h.tag===5||h.tag===6)r.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===a)break e;for(;h.sibling===null;){if(h.return===null||h.return===a)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}a.stateNode=r;e:switch(sn(r,o,u),o){case"button":case"input":case"select":case"textarea":r=!!u.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Ci(a)}}return gt(a),a.flags&=-16777217,null;case 6:if(r&&a.stateNode!=null)r.memoizedProps!==u&&Ci(a);else{if(typeof u!="string"&&a.stateNode===null)throw Error(i(166));if(r=ve.current,Ml(a)){if(r=a.stateNode,o=a.memoizedProps,u=null,h=Sn,h!==null)switch(h.tag){case 27:case 5:u=h.memoizedProps}r[Et]=a,r=!!(r.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||tE(r.nodeValue,o)),r||ps(a)}else r=Sf(r).createTextNode(u),r[Et]=a,a.stateNode=r}return gt(a),null;case 13:if(u=a.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(h=Ml(a),u!==null&&u.dehydrated!==null){if(r===null){if(!h)throw Error(i(318));if(h=a.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(i(317));h[Et]=a}else kl(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;gt(a),h=!1}else h=zv(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=h),h=!0;if(!h)return a.flags&256?(Ri(a),a):(Ri(a),null)}if(Ri(a),(a.flags&128)!==0)return a.lanes=o,a;if(o=u!==null,r=r!==null&&r.memoizedState!==null,o){u=a.child,h=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(h=u.alternate.memoizedState.cachePool.pool);var p=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),p!==h&&(u.flags|=2048)}return o!==r&&o&&(a.child.flags|=8192),ff(a,a.updateQueue),gt(a),null;case 4:return kt(),r===null&&ep(a.stateNode.containerInfo),gt(a),null;case 10:return Si(a.type),gt(a),null;case 19:if(ue(jt),h=a.memoizedState,h===null)return gt(a),null;if(u=(a.flags&128)!==0,p=h.rendering,p===null)if(u)Xl(h,!1);else{if(Tt!==0||r!==null&&(r.flags&128)!==0)for(r=a.child;r!==null;){if(p=sf(r),p!==null){for(a.flags|=128,Xl(h,!1),r=p.updateQueue,a.updateQueue=r,ff(a,r),a.subtreeFlags=0,r=o,o=a.child;o!==null;)Vv(o,r),o=o.sibling;return oe(jt,jt.current&1|2),a.child}r=r.sibling}h.tail!==null&&Xt()>mf&&(a.flags|=128,u=!0,Xl(h,!1),a.lanes=4194304)}else{if(!u)if(r=sf(p),r!==null){if(a.flags|=128,u=!0,r=r.updateQueue,a.updateQueue=r,ff(a,r),Xl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!p.alternate&&!Ke)return gt(a),null}else 2*Xt()-h.renderingStartTime>mf&&o!==536870912&&(a.flags|=128,u=!0,Xl(h,!1),a.lanes=4194304);h.isBackwards?(p.sibling=a.child,a.child=p):(r=h.last,r!==null?r.sibling=p:a.child=p,h.last=p)}return h.tail!==null?(a=h.tail,h.rendering=a,h.tail=a.sibling,h.renderingStartTime=Xt(),a.sibling=null,r=jt.current,oe(jt,u?r&1|2:r&1),a):(gt(a),null);case 22:case 23:return Ri(a),nm(),u=a.memoizedState!==null,r!==null?r.memoizedState!==null!==u&&(a.flags|=8192):u&&(a.flags|=8192),u?(o&536870912)!==0&&(a.flags&128)===0&&(gt(a),a.subtreeFlags&6&&(a.flags|=8192)):gt(a),o=a.updateQueue,o!==null&&ff(a,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),u=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),u!==o&&(a.flags|=2048),r!==null&&ue(vs),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),a.memoizedState.cache!==o&&(a.flags|=2048),Si(Ut),gt(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function zR(r,a){switch(Fd(a),a.tag){case 1:return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 3:return Si(Ut),kt(),r=a.flags,(r&65536)!==0&&(r&128)===0?(a.flags=r&-65537|128,a):null;case 26:case 27:case 5:return Dn(a),null;case 13:if(Ri(a),r=a.memoizedState,r!==null&&r.dehydrated!==null){if(a.alternate===null)throw Error(i(340));kl()}return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 19:return ue(jt),null;case 4:return kt(),null;case 10:return Si(a.type),null;case 22:case 23:return Ri(a),nm(),r!==null&&ue(vs),r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 24:return Si(Ut),null;case 25:return null;default:return null}}function u0(r,a){switch(Fd(a),a.tag){case 3:Si(Ut),kt();break;case 26:case 27:case 5:Dn(a);break;case 4:kt();break;case 13:Ri(a);break;case 19:ue(jt);break;case 10:Si(a.type);break;case 22:case 23:Ri(a),nm(),r!==null&&ue(vs);break;case 24:Si(Ut)}}function Jl(r,a){try{var o=a.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var h=u.next;o=h;do{if((o.tag&r)===r){u=void 0;var p=o.create,E=o.inst;u=p(),E.destroy=u}o=o.next}while(o!==h)}}catch(w){ot(a,a.return,w)}}function la(r,a,o){try{var u=a.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var p=h.next;u=p;do{if((u.tag&r)===r){var E=u.inst,w=E.destroy;if(w!==void 0){E.destroy=void 0,h=a;var P=o,$=w;try{$()}catch(Z){ot(h,P,Z)}}}u=u.next}while(u!==p)}}catch(Z){ot(a,a.return,Z)}}function c0(r){var a=r.updateQueue;if(a!==null){var o=r.stateNode;try{Xv(a,o)}catch(u){ot(r,r.return,u)}}}function f0(r,a,o){o.props=Es(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(u){ot(r,a,u)}}function Zl(r,a){try{var o=r.ref;if(o!==null){switch(r.tag){case 26:case 27:case 5:var u=r.stateNode;break;case 30:u=r.stateNode;break;default:u=r.stateNode}typeof o=="function"?r.refCleanup=o(u):o.current=u}}catch(h){ot(r,a,h)}}function Fr(r,a){var o=r.ref,u=r.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(h){ot(r,a,h)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(h){ot(r,a,h)}else o.current=null}function h0(r){var a=r.type,o=r.memoizedProps,u=r.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(h){ot(r,r.return,h)}}function Dm(r,a,o){try{var u=r.stateNode;oI(u,r.type,o,a),u[dt]=a}catch(h){ot(r,r.return,h)}}function d0(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&ga(r.type)||r.tag===4}function Nm(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||d0(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&ga(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function xm(r,a,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,a?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(r,a):(a=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,a.appendChild(r),o=o._reactRootContainer,o!=null||a.onclick!==null||(a.onclick=wf));else if(u!==4&&(u===27&&ga(r.type)&&(o=r.stateNode,a=null),r=r.child,r!==null))for(xm(r,a,o),r=r.sibling;r!==null;)xm(r,a,o),r=r.sibling}function hf(r,a,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,a?o.insertBefore(r,a):o.appendChild(r);else if(u!==4&&(u===27&&ga(r.type)&&(o=r.stateNode),r=r.child,r!==null))for(hf(r,a,o),r=r.sibling;r!==null;)hf(r,a,o),r=r.sibling}function m0(r){var a=r.stateNode,o=r.memoizedProps;try{for(var u=r.type,h=a.attributes;h.length;)a.removeAttributeNode(h[0]);sn(a,u,o),a[Et]=r,a[dt]=o}catch(p){ot(r,r.return,p)}}var Oi=!1,St=!1,Pm=!1,p0=typeof WeakSet=="function"?WeakSet:Set,$t=null;function BR(r,a){if(r=r.containerInfo,rp=Df,r=Rv(r),Nd(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var h=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var E=0,w=-1,P=-1,$=0,Z=0,ie=r,Y=null;t:for(;;){for(var W;ie!==o||h!==0&&ie.nodeType!==3||(w=E+h),ie!==p||u!==0&&ie.nodeType!==3||(P=E+u),ie.nodeType===3&&(E+=ie.nodeValue.length),(W=ie.firstChild)!==null;)Y=ie,ie=W;for(;;){if(ie===r)break t;if(Y===o&&++$===h&&(w=E),Y===p&&++Z===u&&(P=E),(W=ie.nextSibling)!==null)break;ie=Y,Y=ie.parentNode}ie=W}o=w===-1||P===-1?null:{start:w,end:P}}else o=null}o=o||{start:0,end:0}}else o=null;for(ip={focusedElem:r,selectionRange:o},Df=!1,$t=a;$t!==null;)if(a=$t,r=a.child,(a.subtreeFlags&1024)!==0&&r!==null)r.return=a,$t=r;else for(;$t!==null;){switch(a=$t,p=a.alternate,r=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&p!==null){r=void 0,o=a,h=p.memoizedProps,p=p.memoizedState,u=o.stateNode;try{var we=Es(o.type,h,o.elementType===o.type);r=u.getSnapshotBeforeUpdate(we,p),u.__reactInternalSnapshotBeforeUpdate=r}catch(_e){ot(o,o.return,_e)}}break;case 3:if((r&1024)!==0){if(r=a.stateNode.containerInfo,o=r.nodeType,o===9)op(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":op(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=a.sibling,r!==null){r.return=a.return,$t=r;break}$t=a.return}}function g0(r,a,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:ua(r,o),u&4&&Jl(5,o);break;case 1:if(ua(r,o),u&4)if(r=o.stateNode,a===null)try{r.componentDidMount()}catch(E){ot(o,o.return,E)}else{var h=Es(o.type,a.memoizedProps);a=a.memoizedState;try{r.componentDidUpdate(h,a,r.__reactInternalSnapshotBeforeUpdate)}catch(E){ot(o,o.return,E)}}u&64&&c0(o),u&512&&Zl(o,o.return);break;case 3:if(ua(r,o),u&64&&(r=o.updateQueue,r!==null)){if(a=null,o.child!==null)switch(o.child.tag){case 27:case 5:a=o.child.stateNode;break;case 1:a=o.child.stateNode}try{Xv(r,a)}catch(E){ot(o,o.return,E)}}break;case 27:a===null&&u&4&&m0(o);case 26:case 5:ua(r,o),a===null&&u&4&&h0(o),u&512&&Zl(o,o.return);break;case 12:ua(r,o);break;case 13:ua(r,o),u&4&&_0(r,o),u&64&&(r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(o=QR.bind(null,o),mI(r,o))));break;case 22:if(u=o.memoizedState!==null||Oi,!u){a=a!==null&&a.memoizedState!==null||St,h=Oi;var p=St;Oi=u,(St=a)&&!p?ca(r,o,(o.subtreeFlags&8772)!==0):ua(r,o),Oi=h,St=p}break;case 30:break;default:ua(r,o)}}function y0(r){var a=r.alternate;a!==null&&(r.alternate=null,y0(a)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(a=r.stateNode,a!==null&&pr(a)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var mt=null,Rn=!1;function Di(r,a,o){for(o=o.child;o!==null;)v0(r,a,o),o=o.sibling}function v0(r,a,o){if(Ye&&typeof Ye.onCommitFiberUnmount=="function")try{Ye.onCommitFiberUnmount(ht,o)}catch{}switch(o.tag){case 26:St||Fr(o,a),Di(r,a,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:St||Fr(o,a);var u=mt,h=Rn;ga(o.type)&&(mt=o.stateNode,Rn=!1),Di(r,a,o),lu(o.stateNode),mt=u,Rn=h;break;case 5:St||Fr(o,a);case 6:if(u=mt,h=Rn,mt=null,Di(r,a,o),mt=u,Rn=h,mt!==null)if(Rn)try{(mt.nodeType===9?mt.body:mt.nodeName==="HTML"?mt.ownerDocument.body:mt).removeChild(o.stateNode)}catch(p){ot(o,a,p)}else try{mt.removeChild(o.stateNode)}catch(p){ot(o,a,p)}break;case 18:mt!==null&&(Rn?(r=mt,sE(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,o.stateNode),gu(r)):sE(mt,o.stateNode));break;case 4:u=mt,h=Rn,mt=o.stateNode.containerInfo,Rn=!0,Di(r,a,o),mt=u,Rn=h;break;case 0:case 11:case 14:case 15:St||la(2,o,a),St||la(4,o,a),Di(r,a,o);break;case 1:St||(Fr(o,a),u=o.stateNode,typeof u.componentWillUnmount=="function"&&f0(o,a,u)),Di(r,a,o);break;case 21:Di(r,a,o);break;case 22:St=(u=St)||o.memoizedState!==null,Di(r,a,o),St=u;break;default:Di(r,a,o)}}function _0(r,a){if(a.memoizedState===null&&(r=a.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{gu(r)}catch(o){ot(a,a.return,o)}}function FR(r){switch(r.tag){case 13:case 19:var a=r.stateNode;return a===null&&(a=r.stateNode=new p0),a;case 22:return r=r.stateNode,a=r._retryCache,a===null&&(a=r._retryCache=new p0),a;default:throw Error(i(435,r.tag))}}function Mm(r,a){var o=FR(r);a.forEach(function(u){var h=XR.bind(null,r,u);o.has(u)||(o.add(u),u.then(h,h))})}function kn(r,a){var o=a.deletions;if(o!==null)for(var u=0;u<o.length;u++){var h=o[u],p=r,E=a,w=E;e:for(;w!==null;){switch(w.tag){case 27:if(ga(w.type)){mt=w.stateNode,Rn=!1;break e}break;case 5:mt=w.stateNode,Rn=!1;break e;case 3:case 4:mt=w.stateNode.containerInfo,Rn=!0;break e}w=w.return}if(mt===null)throw Error(i(160));v0(p,E,h),mt=null,Rn=!1,p=h.alternate,p!==null&&(p.return=null),h.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)E0(a,r),a=a.sibling}var Er=null;function E0(r,a){var o=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:kn(a,r),Vn(r),u&4&&(la(3,r,r.return),Jl(3,r),la(5,r,r.return));break;case 1:kn(a,r),Vn(r),u&512&&(St||o===null||Fr(o,o.return)),u&64&&Oi&&(r=r.updateQueue,r!==null&&(u=r.callbacks,u!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var h=Er;if(kn(a,r),Vn(r),u&512&&(St||o===null||Fr(o,o.return)),u&4){var p=o!==null?o.memoizedState:null;if(u=r.memoizedState,o===null)if(u===null)if(r.stateNode===null){e:{u=r.type,o=r.memoizedProps,h=h.ownerDocument||h;t:switch(u){case"title":p=h.getElementsByTagName("title")[0],(!p||p[mr]||p[Et]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=h.createElement(u),h.head.insertBefore(p,h.querySelector("head > title"))),sn(p,u,o),p[Et]=r,Ce(p),u=p;break e;case"link":var E=mE("link","href",h).get(u+(o.href||""));if(E){for(var w=0;w<E.length;w++)if(p=E[w],p.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&p.getAttribute("rel")===(o.rel==null?null:o.rel)&&p.getAttribute("title")===(o.title==null?null:o.title)&&p.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){E.splice(w,1);break t}}p=h.createElement(u),sn(p,u,o),h.head.appendChild(p);break;case"meta":if(E=mE("meta","content",h).get(u+(o.content||""))){for(w=0;w<E.length;w++)if(p=E[w],p.getAttribute("content")===(o.content==null?null:""+o.content)&&p.getAttribute("name")===(o.name==null?null:o.name)&&p.getAttribute("property")===(o.property==null?null:o.property)&&p.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&p.getAttribute("charset")===(o.charSet==null?null:o.charSet)){E.splice(w,1);break t}}p=h.createElement(u),sn(p,u,o),h.head.appendChild(p);break;default:throw Error(i(468,u))}p[Et]=r,Ce(p),u=p}r.stateNode=u}else pE(h,r.type,r.stateNode);else r.stateNode=dE(h,u,r.memoizedProps);else p!==u?(p===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):p.count--,u===null?pE(h,r.type,r.stateNode):dE(h,u,r.memoizedProps)):u===null&&r.stateNode!==null&&Dm(r,r.memoizedProps,o.memoizedProps)}break;case 27:kn(a,r),Vn(r),u&512&&(St||o===null||Fr(o,o.return)),o!==null&&u&4&&Dm(r,r.memoizedProps,o.memoizedProps);break;case 5:if(kn(a,r),Vn(r),u&512&&(St||o===null||Fr(o,o.return)),r.flags&32){h=r.stateNode;try{Wn(h,"")}catch(W){ot(r,r.return,W)}}u&4&&r.stateNode!=null&&(h=r.memoizedProps,Dm(r,h,o!==null?o.memoizedProps:h)),u&1024&&(Pm=!0);break;case 6:if(kn(a,r),Vn(r),u&4){if(r.stateNode===null)throw Error(i(162));u=r.memoizedProps,o=r.stateNode;try{o.nodeValue=u}catch(W){ot(r,r.return,W)}}break;case 3:if(If=null,h=Er,Er=Af(a.containerInfo),kn(a,r),Er=h,Vn(r),u&4&&o!==null&&o.memoizedState.isDehydrated)try{gu(a.containerInfo)}catch(W){ot(r,r.return,W)}Pm&&(Pm=!1,b0(r));break;case 4:u=Er,Er=Af(r.stateNode.containerInfo),kn(a,r),Vn(r),Er=u;break;case 12:kn(a,r),Vn(r);break;case 13:kn(a,r),Vn(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(zm=Xt()),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,Mm(r,u)));break;case 22:h=r.memoizedState!==null;var P=o!==null&&o.memoizedState!==null,$=Oi,Z=St;if(Oi=$||h,St=Z||P,kn(a,r),St=Z,Oi=$,Vn(r),u&8192)e:for(a=r.stateNode,a._visibility=h?a._visibility&-2:a._visibility|1,h&&(o===null||P||Oi||St||bs(r)),o=null,a=r;;){if(a.tag===5||a.tag===26){if(o===null){P=o=a;try{if(p=P.stateNode,h)E=p.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{w=P.stateNode;var ie=P.memoizedProps.style,Y=ie!=null&&ie.hasOwnProperty("display")?ie.display:null;w.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(W){ot(P,P.return,W)}}}else if(a.tag===6){if(o===null){P=a;try{P.stateNode.nodeValue=h?"":P.memoizedProps}catch(W){ot(P,P.return,W)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===r)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break e;for(;a.sibling===null;){if(a.return===null||a.return===r)break e;o===a&&(o=null),a=a.return}o===a&&(o=null),a.sibling.return=a.return,a=a.sibling}u&4&&(u=r.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Mm(r,o))));break;case 19:kn(a,r),Vn(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,Mm(r,u)));break;case 30:break;case 21:break;default:kn(a,r),Vn(r)}}function Vn(r){var a=r.flags;if(a&2){try{for(var o,u=r.return;u!==null;){if(d0(u)){o=u;break}u=u.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var h=o.stateNode,p=Nm(r);hf(r,p,h);break;case 5:var E=o.stateNode;o.flags&32&&(Wn(E,""),o.flags&=-33);var w=Nm(r);hf(r,w,E);break;case 3:case 4:var P=o.stateNode.containerInfo,$=Nm(r);xm(r,$,P);break;default:throw Error(i(161))}}catch(Z){ot(r,r.return,Z)}r.flags&=-3}a&4096&&(r.flags&=-4097)}function b0(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var a=r;b0(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),r=r.sibling}}function ua(r,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)g0(r,a.alternate,a),a=a.sibling}function bs(r){for(r=r.child;r!==null;){var a=r;switch(a.tag){case 0:case 11:case 14:case 15:la(4,a,a.return),bs(a);break;case 1:Fr(a,a.return);var o=a.stateNode;typeof o.componentWillUnmount=="function"&&f0(a,a.return,o),bs(a);break;case 27:lu(a.stateNode);case 26:case 5:Fr(a,a.return),bs(a);break;case 22:a.memoizedState===null&&bs(a);break;case 30:bs(a);break;default:bs(a)}r=r.sibling}}function ca(r,a,o){for(o=o&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var u=a.alternate,h=r,p=a,E=p.flags;switch(p.tag){case 0:case 11:case 15:ca(h,p,o),Jl(4,p);break;case 1:if(ca(h,p,o),u=p,h=u.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch($){ot(u,u.return,$)}if(u=p,h=u.updateQueue,h!==null){var w=u.stateNode;try{var P=h.shared.hiddenCallbacks;if(P!==null)for(h.shared.hiddenCallbacks=null,h=0;h<P.length;h++)Qv(P[h],w)}catch($){ot(u,u.return,$)}}o&&E&64&&c0(p),Zl(p,p.return);break;case 27:m0(p);case 26:case 5:ca(h,p,o),o&&u===null&&E&4&&h0(p),Zl(p,p.return);break;case 12:ca(h,p,o);break;case 13:ca(h,p,o),o&&E&4&&_0(h,p);break;case 22:p.memoizedState===null&&ca(h,p,o),Zl(p,p.return);break;case 30:break;default:ca(h,p,o)}a=a.sibling}}function km(r,a){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(r=a.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&Ul(o))}function Vm(r,a){r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&Ul(r))}function Hr(r,a,o,u){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)T0(r,a,o,u),a=a.sibling}function T0(r,a,o,u){var h=a.flags;switch(a.tag){case 0:case 11:case 15:Hr(r,a,o,u),h&2048&&Jl(9,a);break;case 1:Hr(r,a,o,u);break;case 3:Hr(r,a,o,u),h&2048&&(r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&Ul(r)));break;case 12:if(h&2048){Hr(r,a,o,u),r=a.stateNode;try{var p=a.memoizedProps,E=p.id,w=p.onPostCommit;typeof w=="function"&&w(E,a.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(P){ot(a,a.return,P)}}else Hr(r,a,o,u);break;case 13:Hr(r,a,o,u);break;case 23:break;case 22:p=a.stateNode,E=a.alternate,a.memoizedState!==null?p._visibility&2?Hr(r,a,o,u):eu(r,a):p._visibility&2?Hr(r,a,o,u):(p._visibility|=2,Do(r,a,o,u,(a.subtreeFlags&10256)!==0)),h&2048&&km(E,a);break;case 24:Hr(r,a,o,u),h&2048&&Vm(a.alternate,a);break;default:Hr(r,a,o,u)}}function Do(r,a,o,u,h){for(h=h&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var p=r,E=a,w=o,P=u,$=E.flags;switch(E.tag){case 0:case 11:case 15:Do(p,E,w,P,h),Jl(8,E);break;case 23:break;case 22:var Z=E.stateNode;E.memoizedState!==null?Z._visibility&2?Do(p,E,w,P,h):eu(p,E):(Z._visibility|=2,Do(p,E,w,P,h)),h&&$&2048&&km(E.alternate,E);break;case 24:Do(p,E,w,P,h),h&&$&2048&&Vm(E.alternate,E);break;default:Do(p,E,w,P,h)}a=a.sibling}}function eu(r,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var o=r,u=a,h=u.flags;switch(u.tag){case 22:eu(o,u),h&2048&&km(u.alternate,u);break;case 24:eu(o,u),h&2048&&Vm(u.alternate,u);break;default:eu(o,u)}a=a.sibling}}var tu=8192;function No(r){if(r.subtreeFlags&tu)for(r=r.child;r!==null;)w0(r),r=r.sibling}function w0(r){switch(r.tag){case 26:No(r),r.flags&tu&&r.memoizedState!==null&&II(Er,r.memoizedState,r.memoizedProps);break;case 5:No(r);break;case 3:case 4:var a=Er;Er=Af(r.stateNode.containerInfo),No(r),Er=a;break;case 22:r.memoizedState===null&&(a=r.alternate,a!==null&&a.memoizedState!==null?(a=tu,tu=16777216,No(r),tu=a):No(r));break;default:No(r)}}function S0(r){var a=r.alternate;if(a!==null&&(r=a.child,r!==null)){a.child=null;do a=r.sibling,r.sibling=null,r=a;while(r!==null)}}function nu(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var o=0;o<a.length;o++){var u=a[o];$t=u,R0(u,r)}S0(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)A0(r),r=r.sibling}function A0(r){switch(r.tag){case 0:case 11:case 15:nu(r),r.flags&2048&&la(9,r,r.return);break;case 3:nu(r);break;case 12:nu(r);break;case 22:var a=r.stateNode;r.memoizedState!==null&&a._visibility&2&&(r.return===null||r.return.tag!==13)?(a._visibility&=-3,df(r)):nu(r);break;default:nu(r)}}function df(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var o=0;o<a.length;o++){var u=a[o];$t=u,R0(u,r)}S0(r)}for(r=r.child;r!==null;){switch(a=r,a.tag){case 0:case 11:case 15:la(8,a,a.return),df(a);break;case 22:o=a.stateNode,o._visibility&2&&(o._visibility&=-3,df(a));break;default:df(a)}r=r.sibling}}function R0(r,a){for(;$t!==null;){var o=$t;switch(o.tag){case 0:case 11:case 15:la(8,o,a);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Ul(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,$t=u;else e:for(o=r;$t!==null;){u=$t;var h=u.sibling,p=u.return;if(y0(u),u===o){$t=null;break e}if(h!==null){h.return=p,$t=h;break e}$t=p}}}var HR={getCacheForType:function(r){var a=mn(Ut),o=a.data.get(r);return o===void 0&&(o=r(),a.data.set(r,o)),o}},qR=typeof WeakMap=="function"?WeakMap:Map,Je=0,lt=null,ke=null,Be=0,Ze=0,Ln=null,fa=!1,xo=!1,Lm=!1,Ni=0,Tt=0,ha=0,Ts=0,Um=0,ir=0,Po=0,ru=null,In=null,jm=!1,zm=0,mf=1/0,pf=null,da=null,an=0,ma=null,Mo=null,ko=0,Bm=0,Fm=null,I0=null,iu=0,Hm=null;function Un(){if((Je&2)!==0&&Be!==0)return Be&-Be;if(X.T!==null){var r=To;return r!==0?r:Qm()}return Nr()}function C0(){ir===0&&(ir=(Be&536870912)===0||Ke?Ka():536870912);var r=rr.current;return r!==null&&(r.flags|=32),ir}function jn(r,a,o){(r===lt&&(Ze===2||Ze===9)||r.cancelPendingCommit!==null)&&(Vo(r,0),pa(r,Be,ir,!1)),$n(r,o),((Je&2)===0||r!==lt)&&(r===lt&&((Je&2)===0&&(Ts|=o),Tt===4&&pa(r,Be,ir,!1)),qr(r))}function O0(r,a,o){if((Je&6)!==0)throw Error(i(327));var u=!o&&(a&124)===0&&(a&r.expiredLanes)===0||Or(r,a),h=u?YR(r,a):$m(r,a,!0),p=u;do{if(h===0){xo&&!u&&pa(r,a,0,!1);break}else{if(o=r.current.alternate,p&&!GR(o)){h=$m(r,a,!1),p=!1;continue}if(h===2){if(p=a,r.errorRecoveryDisabledLanes&p)var E=0;else E=r.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){a=E;e:{var w=r;h=ru;var P=w.current.memoizedState.isDehydrated;if(P&&(Vo(w,E).flags|=256),E=$m(w,E,!1),E!==2){if(Lm&&!P){w.errorRecoveryDisabledLanes|=p,Ts|=p,h=4;break e}p=In,In=h,p!==null&&(In===null?In=p:In.push.apply(In,p))}h=E}if(p=!1,h!==2)continue}}if(h===1){Vo(r,0),pa(r,a,0,!0);break}e:{switch(u=r,p=h,p){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:pa(u,a,ir,!fa);break e;case 2:In=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(h=zm+300-Xt(),10<h)){if(pa(u,a,ir,!fa),ui(u,0,!0)!==0)break e;u.timeoutHandle=iE(D0.bind(null,u,o,In,pf,jm,a,ir,Ts,Po,fa,p,2,-0,0),h);break e}D0(u,o,In,pf,jm,a,ir,Ts,Po,fa,p,0,-0,0)}}break}while(!0);qr(r)}function D0(r,a,o,u,h,p,E,w,P,$,Z,ie,Y,W){if(r.timeoutHandle=-1,ie=a.subtreeFlags,(ie&8192||(ie&16785408)===16785408)&&(fu={stylesheets:null,count:0,unsuspend:RI},w0(a),ie=CI(),ie!==null)){r.cancelPendingCommit=ie(L0.bind(null,r,a,p,o,u,h,E,w,P,Z,1,Y,W)),pa(r,p,E,!$);return}L0(r,a,p,o,u,h,E,w,P)}function GR(r){for(var a=r;;){var o=a.tag;if((o===0||o===11||o===15)&&a.flags&16384&&(o=a.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var h=o[u],p=h.getSnapshot;h=h.value;try{if(!Pn(p(),h))return!1}catch{return!1}}if(o=a.child,a.subtreeFlags&16384&&o!==null)o.return=a,a=o;else{if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function pa(r,a,o,u){a&=~Um,a&=~Ts,r.suspendedLanes|=a,r.pingedLanes&=~a,u&&(r.warmLanes|=a),u=r.expirationTimes;for(var h=a;0<h;){var p=31-Rt(h),E=1<<p;u[p]=-1,h&=~E}o!==0&&ut(r,o,a)}function gf(){return(Je&6)===0?(au(0),!1):!0}function qm(){if(ke!==null){if(Ze===0)var r=ke.return;else r=ke,wi=gs=null,om(r),Co=null,Wl=0,r=ke;for(;r!==null;)u0(r.alternate,r),r=r.return;ke=null}}function Vo(r,a){var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,uI(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),qm(),lt=r,ke=o=Ei(r.current,null),Be=a,Ze=0,Ln=null,fa=!1,xo=Or(r,a),Lm=!1,Po=ir=Um=Ts=ha=Tt=0,In=ru=null,jm=!1,(a&8)!==0&&(a|=a&32);var u=r.entangledLanes;if(u!==0)for(r=r.entanglements,u&=a;0<u;){var h=31-Rt(u),p=1<<h;a|=r[h],u&=~p}return Ni=a,Lc(),o}function N0(r,a){Ne=null,X.H=nf,a===zl||a===$c?(a=Kv(),Ze=3):a===Gv?(a=Kv(),Ze=4):Ze=a===W_?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Ln=a,ke===null&&(Tt=1,lf(r,Zn(a,r.current)))}function x0(){var r=X.H;return X.H=nf,r===null?nf:r}function P0(){var r=X.A;return X.A=HR,r}function Gm(){Tt=4,fa||(Be&4194048)!==Be&&rr.current!==null||(xo=!0),(ha&134217727)===0&&(Ts&134217727)===0||lt===null||pa(lt,Be,ir,!1)}function $m(r,a,o){var u=Je;Je|=2;var h=x0(),p=P0();(lt!==r||Be!==a)&&(pf=null,Vo(r,a)),a=!1;var E=Tt;e:do try{if(Ze!==0&&ke!==null){var w=ke,P=Ln;switch(Ze){case 8:qm(),E=6;break e;case 3:case 2:case 9:case 6:rr.current===null&&(a=!0);var $=Ze;if(Ze=0,Ln=null,Lo(r,w,P,$),o&&xo){E=0;break e}break;default:$=Ze,Ze=0,Ln=null,Lo(r,w,P,$)}}$R(),E=Tt;break}catch(Z){N0(r,Z)}while(!0);return a&&r.shellSuspendCounter++,wi=gs=null,Je=u,X.H=h,X.A=p,ke===null&&(lt=null,Be=0,Lc()),E}function $R(){for(;ke!==null;)M0(ke)}function YR(r,a){var o=Je;Je|=2;var u=x0(),h=P0();lt!==r||Be!==a?(pf=null,mf=Xt()+500,Vo(r,a)):xo=Or(r,a);e:do try{if(Ze!==0&&ke!==null){a=ke;var p=Ln;t:switch(Ze){case 1:Ze=0,Ln=null,Lo(r,a,p,1);break;case 2:case 9:if($v(p)){Ze=0,Ln=null,k0(a);break}a=function(){Ze!==2&&Ze!==9||lt!==r||(Ze=7),qr(r)},p.then(a,a);break e;case 3:Ze=7;break e;case 4:Ze=5;break e;case 7:$v(p)?(Ze=0,Ln=null,k0(a)):(Ze=0,Ln=null,Lo(r,a,p,7));break;case 5:var E=null;switch(ke.tag){case 26:E=ke.memoizedState;case 5:case 27:var w=ke;if(!E||gE(E)){Ze=0,Ln=null;var P=w.sibling;if(P!==null)ke=P;else{var $=w.return;$!==null?(ke=$,yf($)):ke=null}break t}}Ze=0,Ln=null,Lo(r,a,p,5);break;case 6:Ze=0,Ln=null,Lo(r,a,p,6);break;case 8:qm(),Tt=6;break e;default:throw Error(i(462))}}KR();break}catch(Z){N0(r,Z)}while(!0);return wi=gs=null,X.H=u,X.A=h,Je=o,ke!==null?0:(lt=null,Be=0,Lc(),Tt)}function KR(){for(;ke!==null&&!hr();)M0(ke)}function M0(r){var a=o0(r.alternate,r,Ni);r.memoizedProps=r.pendingProps,a===null?yf(r):ke=a}function k0(r){var a=r,o=a.alternate;switch(a.tag){case 15:case 0:a=t0(o,a,a.pendingProps,a.type,void 0,Be);break;case 11:a=t0(o,a,a.pendingProps,a.type.render,a.ref,Be);break;case 5:om(a);default:u0(o,a),a=ke=Vv(a,Ni),a=o0(o,a,Ni)}r.memoizedProps=r.pendingProps,a===null?yf(r):ke=a}function Lo(r,a,o,u){wi=gs=null,om(a),Co=null,Wl=0;var h=a.return;try{if(LR(r,h,a,o,Be)){Tt=1,lf(r,Zn(o,r.current)),ke=null;return}}catch(p){if(h!==null)throw ke=h,p;Tt=1,lf(r,Zn(o,r.current)),ke=null;return}a.flags&32768?(Ke||u===1?r=!0:xo||(Be&536870912)!==0?r=!1:(fa=r=!0,(u===2||u===9||u===3||u===6)&&(u=rr.current,u!==null&&u.tag===13&&(u.flags|=16384))),V0(a,r)):yf(a)}function yf(r){var a=r;do{if((a.flags&32768)!==0){V0(a,fa);return}r=a.return;var o=jR(a.alternate,a,Ni);if(o!==null){ke=o;return}if(a=a.sibling,a!==null){ke=a;return}ke=a=r}while(a!==null);Tt===0&&(Tt=5)}function V0(r,a){do{var o=zR(r.alternate,r);if(o!==null){o.flags&=32767,ke=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!a&&(r=r.sibling,r!==null)){ke=r;return}ke=r=o}while(r!==null);Tt=6,ke=null}function L0(r,a,o,u,h,p,E,w,P){r.cancelPendingCommit=null;do vf();while(an!==0);if((Je&6)!==0)throw Error(i(327));if(a!==null){if(a===r.current)throw Error(i(177));if(p=a.lanes|a.childLanes,p|=Vd,It(r,o,p,E,w,P),r===lt&&(ke=lt=null,Be=0),Mo=a,ma=r,ko=o,Bm=p,Fm=h,I0=u,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,JR(si,function(){return F0(),null})):(r.callbackNode=null,r.callbackPriority=0),u=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||u){u=X.T,X.T=null,h=ce.p,ce.p=2,E=Je,Je|=4;try{BR(r,a,o)}finally{Je=E,ce.p=h,X.T=u}}an=1,U0(),j0(),z0()}}function U0(){if(an===1){an=0;var r=ma,a=Mo,o=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||o){o=X.T,X.T=null;var u=ce.p;ce.p=2;var h=Je;Je|=4;try{E0(a,r);var p=ip,E=Rv(r.containerInfo),w=p.focusedElem,P=p.selectionRange;if(E!==w&&w&&w.ownerDocument&&Av(w.ownerDocument.documentElement,w)){if(P!==null&&Nd(w)){var $=P.start,Z=P.end;if(Z===void 0&&(Z=$),"selectionStart"in w)w.selectionStart=$,w.selectionEnd=Math.min(Z,w.value.length);else{var ie=w.ownerDocument||document,Y=ie&&ie.defaultView||window;if(Y.getSelection){var W=Y.getSelection(),we=w.textContent.length,_e=Math.min(P.start,we),rt=P.end===void 0?_e:Math.min(P.end,we);!W.extend&&_e>rt&&(E=rt,rt=_e,_e=E);var B=Sv(w,_e),U=Sv(w,rt);if(B&&U&&(W.rangeCount!==1||W.anchorNode!==B.node||W.anchorOffset!==B.offset||W.focusNode!==U.node||W.focusOffset!==U.offset)){var G=ie.createRange();G.setStart(B.node,B.offset),W.removeAllRanges(),_e>rt?(W.addRange(G),W.extend(U.node,U.offset)):(G.setEnd(U.node,U.offset),W.addRange(G))}}}}for(ie=[],W=w;W=W.parentNode;)W.nodeType===1&&ie.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<ie.length;w++){var ne=ie[w];ne.element.scrollLeft=ne.left,ne.element.scrollTop=ne.top}}Df=!!rp,ip=rp=null}finally{Je=h,ce.p=u,X.T=o}}r.current=a,an=2}}function j0(){if(an===2){an=0;var r=ma,a=Mo,o=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||o){o=X.T,X.T=null;var u=ce.p;ce.p=2;var h=Je;Je|=4;try{g0(r,a.alternate,a)}finally{Je=h,ce.p=u,X.T=o}}an=3}}function z0(){if(an===4||an===3){an=0,Qt();var r=ma,a=Mo,o=ko,u=I0;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?an=5:(an=0,Mo=ma=null,B0(r,r.pendingLanes));var h=r.pendingLanes;if(h===0&&(da=null),Jt(o),a=a.stateNode,Ye&&typeof Ye.onCommitFiberRoot=="function")try{Ye.onCommitFiberRoot(ht,a,void 0,(a.current.flags&128)===128)}catch{}if(u!==null){a=X.T,h=ce.p,ce.p=2,X.T=null;try{for(var p=r.onRecoverableError,E=0;E<u.length;E++){var w=u[E];p(w.value,{componentStack:w.stack})}}finally{X.T=a,ce.p=h}}(ko&3)!==0&&vf(),qr(r),h=r.pendingLanes,(o&4194090)!==0&&(h&42)!==0?r===Hm?iu++:(iu=0,Hm=r):iu=0,au(0)}}function B0(r,a){(r.pooledCacheLanes&=a)===0&&(a=r.pooledCache,a!=null&&(r.pooledCache=null,Ul(a)))}function vf(r){return U0(),j0(),z0(),F0()}function F0(){if(an!==5)return!1;var r=ma,a=Bm;Bm=0;var o=Jt(ko),u=X.T,h=ce.p;try{ce.p=32>o?32:o,X.T=null,o=Fm,Fm=null;var p=ma,E=ko;if(an=0,Mo=ma=null,ko=0,(Je&6)!==0)throw Error(i(331));var w=Je;if(Je|=4,A0(p.current),T0(p,p.current,E,o),Je=w,au(0,!1),Ye&&typeof Ye.onPostCommitFiberRoot=="function")try{Ye.onPostCommitFiberRoot(ht,p)}catch{}return!0}finally{ce.p=h,X.T=u,B0(r,a)}}function H0(r,a,o){a=Zn(o,a),a=bm(r.stateNode,a,2),r=ia(r,a,2),r!==null&&($n(r,2),qr(r))}function ot(r,a,o){if(r.tag===3)H0(r,r,o);else for(;a!==null;){if(a.tag===3){H0(a,r,o);break}else if(a.tag===1){var u=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(da===null||!da.has(u))){r=Zn(o,r),o=Y_(2),u=ia(a,o,2),u!==null&&(K_(o,u,a,r),$n(u,2),qr(u));break}}a=a.return}}function Ym(r,a,o){var u=r.pingCache;if(u===null){u=r.pingCache=new qR;var h=new Set;u.set(a,h)}else h=u.get(a),h===void 0&&(h=new Set,u.set(a,h));h.has(o)||(Lm=!0,h.add(o),r=WR.bind(null,r,a,o),a.then(r,r))}function WR(r,a,o){var u=r.pingCache;u!==null&&u.delete(a),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,lt===r&&(Be&o)===o&&(Tt===4||Tt===3&&(Be&62914560)===Be&&300>Xt()-zm?(Je&2)===0&&Vo(r,0):Um|=o,Po===Be&&(Po=0)),qr(r)}function q0(r,a){a===0&&(a=Qi()),r=vo(r,a),r!==null&&($n(r,a),qr(r))}function QR(r){var a=r.memoizedState,o=0;a!==null&&(o=a.retryLane),q0(r,o)}function XR(r,a){var o=0;switch(r.tag){case 13:var u=r.stateNode,h=r.memoizedState;h!==null&&(o=h.retryLane);break;case 19:u=r.stateNode;break;case 22:u=r.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(a),q0(r,o)}function JR(r,a){return fr(r,a)}var _f=null,Uo=null,Km=!1,Ef=!1,Wm=!1,ws=0;function qr(r){r!==Uo&&r.next===null&&(Uo===null?_f=Uo=r:Uo=Uo.next=r),Ef=!0,Km||(Km=!0,eI())}function au(r,a){if(!Wm&&Ef){Wm=!0;do for(var o=!1,u=_f;u!==null;){if(r!==0){var h=u.pendingLanes;if(h===0)var p=0;else{var E=u.suspendedLanes,w=u.pingedLanes;p=(1<<31-Rt(42|r)+1)-1,p&=h&~(E&~w),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(o=!0,K0(u,p))}else p=Be,p=ui(u,u===lt?p:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(p&3)===0||Or(u,p)||(o=!0,K0(u,p));u=u.next}while(o);Wm=!1}}function ZR(){G0()}function G0(){Ef=Km=!1;var r=0;ws!==0&&(lI()&&(r=ws),ws=0);for(var a=Xt(),o=null,u=_f;u!==null;){var h=u.next,p=$0(u,a);p===0?(u.next=null,o===null?_f=h:o.next=h,h===null&&(Uo=o)):(o=u,(r!==0||(p&3)!==0)&&(Ef=!0)),u=h}au(r)}function $0(r,a){for(var o=r.suspendedLanes,u=r.pingedLanes,h=r.expirationTimes,p=r.pendingLanes&-62914561;0<p;){var E=31-Rt(p),w=1<<E,P=h[E];P===-1?((w&o)===0||(w&u)!==0)&&(h[E]=ci(w,a)):P<=a&&(r.expiredLanes|=w),p&=~w}if(a=lt,o=Be,o=ui(r,r===a?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u=r.callbackNode,o===0||r===a&&(Ze===2||Ze===9)||r.cancelPendingCommit!==null)return u!==null&&u!==null&&at(u),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||Or(r,o)){if(a=o&-o,a===r.callbackPriority)return a;switch(u!==null&&at(u),Jt(o)){case 2:case 8:o=Wi;break;case 32:o=si;break;case 268435456:o=oi;break;default:o=si}return u=Y0.bind(null,r),o=fr(o,u),r.callbackPriority=a,r.callbackNode=o,a}return u!==null&&u!==null&&at(u),r.callbackPriority=2,r.callbackNode=null,2}function Y0(r,a){if(an!==0&&an!==5)return r.callbackNode=null,r.callbackPriority=0,null;var o=r.callbackNode;if(vf()&&r.callbackNode!==o)return null;var u=Be;return u=ui(r,r===lt?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u===0?null:(O0(r,u,a),$0(r,Xt()),r.callbackNode!=null&&r.callbackNode===o?Y0.bind(null,r):null)}function K0(r,a){if(vf())return null;O0(r,a,!0)}function eI(){cI(function(){(Je&6)!==0?fr(Ki,ZR):G0()})}function Qm(){return ws===0&&(ws=Ka()),ws}function W0(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:ao(""+r)}function Q0(r,a){var o=a.ownerDocument.createElement("input");return o.name=a.name,o.value=a.value,r.id&&o.setAttribute("form",r.id),a.parentNode.insertBefore(o,a),r=new FormData(r),o.parentNode.removeChild(o),r}function tI(r,a,o,u,h){if(a==="submit"&&o&&o.stateNode===h){var p=W0((h[dt]||null).action),E=u.submitter;E&&(a=(a=E[dt]||null)?W0(a.formAction):E.getAttribute("formAction"),a!==null&&(p=a,E=null));var w=new so("action","action",null,u,h);r.push({event:w,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(ws!==0){var P=E?Q0(h,E):new FormData(h);gm(o,{pending:!0,data:P,method:h.method,action:p},null,P)}}else typeof p=="function"&&(w.preventDefault(),P=E?Q0(h,E):new FormData(h),gm(o,{pending:!0,data:P,method:h.method,action:p},p,P))},currentTarget:h}]})}}for(var Xm=0;Xm<kd.length;Xm++){var Jm=kd[Xm],nI=Jm.toLowerCase(),rI=Jm[0].toUpperCase()+Jm.slice(1);_r(nI,"on"+rI)}_r(Ov,"onAnimationEnd"),_r(Dv,"onAnimationIteration"),_r(Nv,"onAnimationStart"),_r("dblclick","onDoubleClick"),_r("focusin","onFocus"),_r("focusout","onBlur"),_r(ER,"onTransitionRun"),_r(bR,"onTransitionStart"),_r(TR,"onTransitionCancel"),_r(xv,"onTransitionEnd"),yr("onMouseEnter",["mouseout","mouseover"]),yr("onMouseLeave",["mouseout","mouseover"]),yr("onPointerEnter",["pointerout","pointerover"]),yr("onPointerLeave",["pointerout","pointerover"]),bn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),bn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),bn("onBeforeInput",["compositionend","keypress","textInput","paste"]),bn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),bn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),bn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var su="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iI=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(su));function X0(r,a){a=(a&4)!==0;for(var o=0;o<r.length;o++){var u=r[o],h=u.event;u=u.listeners;e:{var p=void 0;if(a)for(var E=u.length-1;0<=E;E--){var w=u[E],P=w.instance,$=w.currentTarget;if(w=w.listener,P!==p&&h.isPropagationStopped())break e;p=w,h.currentTarget=$;try{p(h)}catch(Z){of(Z)}h.currentTarget=null,p=P}else for(E=0;E<u.length;E++){if(w=u[E],P=w.instance,$=w.currentTarget,w=w.listener,P!==p&&h.isPropagationStopped())break e;p=w,h.currentTarget=$;try{p(h)}catch(Z){of(Z)}h.currentTarget=null,p=P}}}}function Ve(r,a){var o=a[fi];o===void 0&&(o=a[fi]=new Set);var u=r+"__bubble";o.has(u)||(J0(a,r,2,!1),o.add(u))}function Zm(r,a,o){var u=0;a&&(u|=4),J0(o,r,u,a)}var bf="_reactListening"+Math.random().toString(36).slice(2);function ep(r){if(!r[bf]){r[bf]=!0,en.forEach(function(o){o!=="selectionchange"&&(iI.has(o)||Zm(o,!1,r),Zm(o,!0,r))});var a=r.nodeType===9?r:r.ownerDocument;a===null||a[bf]||(a[bf]=!0,Zm("selectionchange",!1,a))}}function J0(r,a,o,u){switch(TE(a)){case 2:var h=NI;break;case 8:h=xI;break;default:h=mp}o=h.bind(null,a,o,r),h=void 0,!Xn||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(h=!0),u?h!==void 0?r.addEventListener(a,o,{capture:!0,passive:h}):r.addEventListener(a,o,!0):h!==void 0?r.addEventListener(a,o,{passive:h}):r.addEventListener(a,o,!1)}function tp(r,a,o,u,h){var p=u;if((a&1)===0&&(a&2)===0&&u!==null)e:for(;;){if(u===null)return;var E=u.tag;if(E===3||E===4){var w=u.stateNode.containerInfo;if(w===h)break;if(E===4)for(E=u.return;E!==null;){var P=E.tag;if((P===3||P===4)&&E.stateNode.containerInfo===h)return;E=E.return}for(;w!==null;){if(E=gr(w),E===null)return;if(P=E.tag,P===5||P===6||P===26||P===27){u=p=E;continue e}w=w.parentNode}}u=u.return}Tc(function(){var $=p,Z=Qn(o),ie=[];e:{var Y=Pv.get(r);if(Y!==void 0){var W=so,we=r;switch(r){case"keypress":if(kr(o)===0)break e;case"keydown":case"keyup":W=ho;break;case"focusin":we="focus",W=uo;break;case"focusout":we="blur",W=uo;break;case"beforeblur":case"afterblur":W=uo;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=Jn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=Id;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=Dc;break;case Ov:case Dv:case Nv:W=co;break;case xv:W=xc;break;case"scroll":case"scrollend":W=wc;break;case"wheel":W=mo;break;case"copy":case"cut":case"paste":W=fo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=Dl;break;case"toggle":case"beforetoggle":W=Mc}var _e=(a&4)!==0,rt=!_e&&(r==="scroll"||r==="scrollend"),B=_e?Y!==null?Y+"Capture":null:Y;_e=[];for(var U=$,G;U!==null;){var ne=U;if(G=ne.stateNode,ne=ne.tag,ne!==5&&ne!==26&&ne!==27||G===null||B===null||(ne=ns(U,B),ne!=null&&_e.push(ou(U,ne,G))),rt)break;U=U.return}0<_e.length&&(Y=new W(Y,we,null,o,Z),ie.push({event:Y,listeners:_e}))}}if((a&7)===0){e:{if(Y=r==="mouseover"||r==="pointerover",W=r==="mouseout"||r==="pointerout",Y&&o!==mi&&(we=o.relatedTarget||o.fromElement)&&(gr(we)||we[Zt]))break e;if((W||Y)&&(Y=Z.window===Z?Z:(Y=Z.ownerDocument)?Y.defaultView||Y.parentWindow:window,W?(we=o.relatedTarget||o.toElement,W=$,we=we?gr(we):null,we!==null&&(rt=l(we),_e=we.tag,we!==rt||_e!==5&&_e!==27&&_e!==6)&&(we=null)):(W=null,we=$),W!==we)){if(_e=Jn,ne="onMouseLeave",B="onMouseEnter",U="mouse",(r==="pointerout"||r==="pointerover")&&(_e=Dl,ne="onPointerLeave",B="onPointerEnter",U="pointer"),rt=W==null?Y:Se(W),G=we==null?Y:Se(we),Y=new _e(ne,U+"leave",W,o,Z),Y.target=rt,Y.relatedTarget=G,ne=null,gr(Z)===$&&(_e=new _e(B,U+"enter",we,o,Z),_e.target=G,_e.relatedTarget=rt,ne=_e),rt=ne,W&&we)t:{for(_e=W,B=we,U=0,G=_e;G;G=jo(G))U++;for(G=0,ne=B;ne;ne=jo(ne))G++;for(;0<U-G;)_e=jo(_e),U--;for(;0<G-U;)B=jo(B),G--;for(;U--;){if(_e===B||B!==null&&_e===B.alternate)break t;_e=jo(_e),B=jo(B)}_e=null}else _e=null;W!==null&&Z0(ie,Y,W,_e,!1),we!==null&&rt!==null&&Z0(ie,rt,we,_e,!0)}}e:{if(Y=$?Se($):window,W=Y.nodeName&&Y.nodeName.toLowerCase(),W==="select"||W==="input"&&Y.type==="file")var he=vv;else if(Lt(Y))if(_v)he=yR;else{he=pR;var Me=mR}else W=Y.nodeName,!W||W.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?$&&wl($.elementType)&&(he=vv):he=gR;if(he&&(he=he(r,$))){_i(ie,he,o,Z);break e}Me&&Me(r,Y,$),r==="focusout"&&$&&Y.type==="number"&&$.memoizedProps.value!=null&&Zi(Y,"number",Y.value)}switch(Me=$?Se($):window,r){case"focusin":(Lt(Me)||Me.contentEditable==="true")&&(po=Me,xd=$,Pl=null);break;case"focusout":Pl=xd=po=null;break;case"mousedown":Pd=!0;break;case"contextmenu":case"mouseup":case"dragend":Pd=!1,Iv(ie,o,Z);break;case"selectionchange":if(_R)break;case"keydown":case"keyup":Iv(ie,o,Z)}var pe;if(Ur)e:{switch(r){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else je?Q(r,o)&&(Ee="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(Ee="onCompositionStart");Ee&&(_&&o.locale!=="ko"&&(je||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&je&&(pe=Al()):(Mr=Z,ea="value"in Mr?Mr.value:Mr.textContent,je=!0)),Me=Tf($,Ee),0<Me.length&&(Ee=new Cl(Ee,r,null,o,Z),ie.push({event:Ee,listeners:Me}),pe?Ee.data=pe:(pe=le(o),pe!==null&&(Ee.data=pe)))),(pe=y?Vt(r,o):ze(r,o))&&(Ee=Tf($,"onBeforeInput"),0<Ee.length&&(Me=new Cl("onBeforeInput","beforeinput",null,o,Z),ie.push({event:Me,listeners:Ee}),Me.data=pe)),tI(ie,r,$,o,Z)}X0(ie,a)})}function ou(r,a,o){return{instance:r,listener:a,currentTarget:o}}function Tf(r,a){for(var o=a+"Capture",u=[];r!==null;){var h=r,p=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||p===null||(h=ns(r,o),h!=null&&u.unshift(ou(r,h,p)),h=ns(r,a),h!=null&&u.push(ou(r,h,p))),r.tag===3)return u;r=r.return}return[]}function jo(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function Z0(r,a,o,u,h){for(var p=a._reactName,E=[];o!==null&&o!==u;){var w=o,P=w.alternate,$=w.stateNode;if(w=w.tag,P!==null&&P===u)break;w!==5&&w!==26&&w!==27||$===null||(P=$,h?($=ns(o,p),$!=null&&E.unshift(ou(o,$,P))):h||($=ns(o,p),$!=null&&E.push(ou(o,$,P)))),o=o.return}E.length!==0&&r.push({event:a,listeners:E})}var aI=/\r\n?/g,sI=/\u0000|\uFFFD/g;function eE(r){return(typeof r=="string"?r:""+r).replace(aI,`
`).replace(sI,"")}function tE(r,a){return a=eE(a),eE(r)===a}function wf(){}function nt(r,a,o,u,h,p){switch(o){case"children":typeof u=="string"?a==="body"||a==="textarea"&&u===""||Wn(r,u):(typeof u=="number"||typeof u=="bigint")&&a!=="body"&&Wn(r,""+u);break;case"className":xr(r,"class",u);break;case"tabIndex":xr(r,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":xr(r,o,u);break;case"style":Tl(r,u,p);break;case"data":if(a!=="object"){xr(r,"data",u);break}case"src":case"href":if(u===""&&(a!=="a"||o!=="href")){r.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=ao(""+u),r.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(o==="formAction"?(a!=="input"&&nt(r,a,"name",h.name,h,null),nt(r,a,"formEncType",h.formEncType,h,null),nt(r,a,"formMethod",h.formMethod,h,null),nt(r,a,"formTarget",h.formTarget,h,null)):(nt(r,a,"encType",h.encType,h,null),nt(r,a,"method",h.method,h,null),nt(r,a,"target",h.target,h,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=ao(""+u),r.setAttribute(o,u);break;case"onClick":u!=null&&(r.onclick=wf);break;case"onScroll":u!=null&&Ve("scroll",r);break;case"onScrollEnd":u!=null&&Ve("scrollend",r);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(h.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"multiple":r.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":r.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){r.removeAttribute("xlink:href");break}o=ao(""+u),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""+u):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":u===!0?r.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,u):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?r.setAttribute(o,u):r.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?r.removeAttribute(o):r.setAttribute(o,u);break;case"popover":Ve("beforetoggle",r),Ve("toggle",r),Ji(r,"popover",u);break;case"xlinkActuate":tn(r,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":tn(r,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":tn(r,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":tn(r,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":tn(r,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":tn(r,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":tn(r,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":tn(r,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":tn(r,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Ji(r,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Ad.get(o)||o,Ji(r,o,u))}}function np(r,a,o,u,h,p){switch(o){case"style":Tl(r,u,p);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(h.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"children":typeof u=="string"?Wn(r,u):(typeof u=="number"||typeof u=="bigint")&&Wn(r,""+u);break;case"onScroll":u!=null&&Ve("scroll",r);break;case"onScrollEnd":u!=null&&Ve("scrollend",r);break;case"onClick":u!=null&&(r.onclick=wf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ft.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(h=o.endsWith("Capture"),a=o.slice(2,h?o.length-7:void 0),p=r[dt]||null,p=p!=null?p[o]:null,typeof p=="function"&&r.removeEventListener(a,p,h),typeof u=="function")){typeof p!="function"&&p!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(a,u,h);break e}o in r?r[o]=u:u===!0?r.setAttribute(o,""):Ji(r,o,u)}}}function sn(r,a,o){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ve("error",r),Ve("load",r);var u=!1,h=!1,p;for(p in o)if(o.hasOwnProperty(p)){var E=o[p];if(E!=null)switch(p){case"src":u=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:nt(r,a,p,E,o,null)}}h&&nt(r,a,"srcSet",o.srcSet,o,null),u&&nt(r,a,"src",o.src,o,null);return;case"input":Ve("invalid",r);var w=p=E=h=null,P=null,$=null;for(u in o)if(o.hasOwnProperty(u)){var Z=o[u];if(Z!=null)switch(u){case"name":h=Z;break;case"type":E=Z;break;case"checked":P=Z;break;case"defaultChecked":$=Z;break;case"value":p=Z;break;case"defaultValue":w=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(i(137,a));break;default:nt(r,a,u,Z,o,null)}}Za(r,p,w,P,$,E,h,!1),io(r);return;case"select":Ve("invalid",r),u=E=p=null;for(h in o)if(o.hasOwnProperty(h)&&(w=o[h],w!=null))switch(h){case"value":p=w;break;case"defaultValue":E=w;break;case"multiple":u=w;default:nt(r,a,h,w,o,null)}a=p,o=E,r.multiple=!!u,a!=null?di(r,!!u,a,!1):o!=null&&di(r,!!u,o,!0);return;case"textarea":Ve("invalid",r),p=h=u=null;for(E in o)if(o.hasOwnProperty(E)&&(w=o[E],w!=null))switch(E){case"value":u=w;break;case"defaultValue":h=w;break;case"children":p=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(i(91));break;default:nt(r,a,E,w,o,null)}es(r,u,h,p),io(r);return;case"option":for(P in o)if(o.hasOwnProperty(P)&&(u=o[P],u!=null))switch(P){case"selected":r.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:nt(r,a,P,u,o,null)}return;case"dialog":Ve("beforetoggle",r),Ve("toggle",r),Ve("cancel",r),Ve("close",r);break;case"iframe":case"object":Ve("load",r);break;case"video":case"audio":for(u=0;u<su.length;u++)Ve(su[u],r);break;case"image":Ve("error",r),Ve("load",r);break;case"details":Ve("toggle",r);break;case"embed":case"source":case"link":Ve("error",r),Ve("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for($ in o)if(o.hasOwnProperty($)&&(u=o[$],u!=null))switch($){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:nt(r,a,$,u,o,null)}return;default:if(wl(a)){for(Z in o)o.hasOwnProperty(Z)&&(u=o[Z],u!==void 0&&np(r,a,Z,u,o,void 0));return}}for(w in o)o.hasOwnProperty(w)&&(u=o[w],u!=null&&nt(r,a,w,u,o,null))}function oI(r,a,o,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,p=null,E=null,w=null,P=null,$=null,Z=null;for(W in o){var ie=o[W];if(o.hasOwnProperty(W)&&ie!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":P=ie;default:u.hasOwnProperty(W)||nt(r,a,W,null,u,ie)}}for(var Y in u){var W=u[Y];if(ie=o[Y],u.hasOwnProperty(Y)&&(W!=null||ie!=null))switch(Y){case"type":p=W;break;case"name":h=W;break;case"checked":$=W;break;case"defaultChecked":Z=W;break;case"value":E=W;break;case"defaultValue":w=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(i(137,a));break;default:W!==ie&&nt(r,a,Y,W,u,ie)}}xn(r,E,w,P,$,Z,p,h);return;case"select":W=E=w=Y=null;for(p in o)if(P=o[p],o.hasOwnProperty(p)&&P!=null)switch(p){case"value":break;case"multiple":W=P;default:u.hasOwnProperty(p)||nt(r,a,p,null,u,P)}for(h in u)if(p=u[h],P=o[h],u.hasOwnProperty(h)&&(p!=null||P!=null))switch(h){case"value":Y=p;break;case"defaultValue":w=p;break;case"multiple":E=p;default:p!==P&&nt(r,a,h,p,u,P)}a=w,o=E,u=W,Y!=null?di(r,!!o,Y,!1):!!u!=!!o&&(a!=null?di(r,!!o,a,!0):di(r,!!o,o?[]:"",!1));return;case"textarea":W=Y=null;for(w in o)if(h=o[w],o.hasOwnProperty(w)&&h!=null&&!u.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:nt(r,a,w,null,u,h)}for(E in u)if(h=u[E],p=o[E],u.hasOwnProperty(E)&&(h!=null||p!=null))switch(E){case"value":Y=h;break;case"defaultValue":W=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(i(91));break;default:h!==p&&nt(r,a,E,h,u,p)}et(r,Y,W);return;case"option":for(var we in o)if(Y=o[we],o.hasOwnProperty(we)&&Y!=null&&!u.hasOwnProperty(we))switch(we){case"selected":r.selected=!1;break;default:nt(r,a,we,null,u,Y)}for(P in u)if(Y=u[P],W=o[P],u.hasOwnProperty(P)&&Y!==W&&(Y!=null||W!=null))switch(P){case"selected":r.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:nt(r,a,P,Y,u,W)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in o)Y=o[_e],o.hasOwnProperty(_e)&&Y!=null&&!u.hasOwnProperty(_e)&&nt(r,a,_e,null,u,Y);for($ in u)if(Y=u[$],W=o[$],u.hasOwnProperty($)&&Y!==W&&(Y!=null||W!=null))switch($){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(i(137,a));break;default:nt(r,a,$,Y,u,W)}return;default:if(wl(a)){for(var rt in o)Y=o[rt],o.hasOwnProperty(rt)&&Y!==void 0&&!u.hasOwnProperty(rt)&&np(r,a,rt,void 0,u,Y);for(Z in u)Y=u[Z],W=o[Z],!u.hasOwnProperty(Z)||Y===W||Y===void 0&&W===void 0||np(r,a,Z,Y,u,W);return}}for(var B in o)Y=o[B],o.hasOwnProperty(B)&&Y!=null&&!u.hasOwnProperty(B)&&nt(r,a,B,null,u,Y);for(ie in u)Y=u[ie],W=o[ie],!u.hasOwnProperty(ie)||Y===W||Y==null&&W==null||nt(r,a,ie,Y,u,W)}var rp=null,ip=null;function Sf(r){return r.nodeType===9?r:r.ownerDocument}function nE(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function rE(r,a){if(r===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&a==="foreignObject"?0:r}function ap(r,a){return r==="textarea"||r==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var sp=null;function lI(){var r=window.event;return r&&r.type==="popstate"?r===sp?!1:(sp=r,!0):(sp=null,!1)}var iE=typeof setTimeout=="function"?setTimeout:void 0,uI=typeof clearTimeout=="function"?clearTimeout:void 0,aE=typeof Promise=="function"?Promise:void 0,cI=typeof queueMicrotask=="function"?queueMicrotask:typeof aE<"u"?function(r){return aE.resolve(null).then(r).catch(fI)}:iE;function fI(r){setTimeout(function(){throw r})}function ga(r){return r==="head"}function sE(r,a){var o=a,u=0,h=0;do{var p=o.nextSibling;if(r.removeChild(o),p&&p.nodeType===8)if(o=p.data,o==="/$"){if(0<u&&8>u){o=u;var E=r.ownerDocument;if(o&1&&lu(E.documentElement),o&2&&lu(E.body),o&4)for(o=E.head,lu(o),E=o.firstChild;E;){var w=E.nextSibling,P=E.nodeName;E[mr]||P==="SCRIPT"||P==="STYLE"||P==="LINK"&&E.rel.toLowerCase()==="stylesheet"||o.removeChild(E),E=w}}if(h===0){r.removeChild(p),gu(a);return}h--}else o==="$"||o==="$?"||o==="$!"?h++:u=o.charCodeAt(0)-48;else u=0;o=p}while(o);gu(a)}function op(r){var a=r.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var o=a;switch(a=a.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":op(o),pr(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function hI(r,a,o,u){for(;r.nodeType===1;){var h=o;if(r.nodeName.toLowerCase()!==a.toLowerCase()){if(!u&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(u){if(!r[mr])switch(a){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(p=r.getAttribute("rel"),p==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(p!==h.rel||r.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||r.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||r.getAttribute("title")!==(h.title==null?null:h.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(p=r.getAttribute("src"),(p!==(h.src==null?null:h.src)||r.getAttribute("type")!==(h.type==null?null:h.type)||r.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&p&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(a==="input"&&r.type==="hidden"){var p=h.name==null?null:""+h.name;if(h.type==="hidden"&&r.getAttribute("name")===p)return r}else return r;if(r=br(r.nextSibling),r===null)break}return null}function dI(r,a,o){if(a==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=br(r.nextSibling),r===null))return null;return r}function lp(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function mI(r,a){var o=r.ownerDocument;if(r.data!=="$?"||o.readyState==="complete")a();else{var u=function(){a(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),r._reactRetry=u}}function br(r){for(;r!=null;r=r.nextSibling){var a=r.nodeType;if(a===1||a===3)break;if(a===8){if(a=r.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return r}var up=null;function oE(r){r=r.previousSibling;for(var a=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"){if(a===0)return r;a--}else o==="/$"&&a++}r=r.previousSibling}return null}function lE(r,a,o){switch(a=Sf(o),r){case"html":if(r=a.documentElement,!r)throw Error(i(452));return r;case"head":if(r=a.head,!r)throw Error(i(453));return r;case"body":if(r=a.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function lu(r){for(var a=r.attributes;a.length;)r.removeAttributeNode(a[0]);pr(r)}var ar=new Map,uE=new Set;function Af(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var xi=ce.d;ce.d={f:pI,r:gI,D:yI,C:vI,L:_I,m:EI,X:TI,S:bI,M:wI};function pI(){var r=xi.f(),a=gf();return r||a}function gI(r){var a=Kn(r);a!==null&&a.tag===5&&a.type==="form"?O_(a):xi.r(r)}var zo=typeof document>"u"?null:document;function cE(r,a,o){var u=zo;if(u&&typeof a=="string"&&a){var h=Ct(a);h='link[rel="'+r+'"][href="'+h+'"]',typeof o=="string"&&(h+='[crossorigin="'+o+'"]'),uE.has(h)||(uE.add(h),r={rel:r,crossOrigin:o,href:a},u.querySelector(h)===null&&(a=u.createElement("link"),sn(a,"link",r),Ce(a),u.head.appendChild(a)))}}function yI(r){xi.D(r),cE("dns-prefetch",r,null)}function vI(r,a){xi.C(r,a),cE("preconnect",r,a)}function _I(r,a,o){xi.L(r,a,o);var u=zo;if(u&&r&&a){var h='link[rel="preload"][as="'+Ct(a)+'"]';a==="image"&&o&&o.imageSrcSet?(h+='[imagesrcset="'+Ct(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(h+='[imagesizes="'+Ct(o.imageSizes)+'"]')):h+='[href="'+Ct(r)+'"]';var p=h;switch(a){case"style":p=Bo(r);break;case"script":p=Fo(r)}ar.has(p)||(r=v({rel:"preload",href:a==="image"&&o&&o.imageSrcSet?void 0:r,as:a},o),ar.set(p,r),u.querySelector(h)!==null||a==="style"&&u.querySelector(uu(p))||a==="script"&&u.querySelector(cu(p))||(a=u.createElement("link"),sn(a,"link",r),Ce(a),u.head.appendChild(a)))}}function EI(r,a){xi.m(r,a);var o=zo;if(o&&r){var u=a&&typeof a.as=="string"?a.as:"script",h='link[rel="modulepreload"][as="'+Ct(u)+'"][href="'+Ct(r)+'"]',p=h;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=Fo(r)}if(!ar.has(p)&&(r=v({rel:"modulepreload",href:r},a),ar.set(p,r),o.querySelector(h)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(cu(p)))return}u=o.createElement("link"),sn(u,"link",r),Ce(u),o.head.appendChild(u)}}}function bI(r,a,o){xi.S(r,a,o);var u=zo;if(u&&r){var h=Pe(u).hoistableStyles,p=Bo(r);a=a||"default";var E=h.get(p);if(!E){var w={loading:0,preload:null};if(E=u.querySelector(uu(p)))w.loading=5;else{r=v({rel:"stylesheet",href:r,"data-precedence":a},o),(o=ar.get(p))&&cp(r,o);var P=E=u.createElement("link");Ce(P),sn(P,"link",r),P._p=new Promise(function($,Z){P.onload=$,P.onerror=Z}),P.addEventListener("load",function(){w.loading|=1}),P.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Rf(E,a,u)}E={type:"stylesheet",instance:E,count:1,state:w},h.set(p,E)}}}function TI(r,a){xi.X(r,a);var o=zo;if(o&&r){var u=Pe(o).hoistableScripts,h=Fo(r),p=u.get(h);p||(p=o.querySelector(cu(h)),p||(r=v({src:r,async:!0},a),(a=ar.get(h))&&fp(r,a),p=o.createElement("script"),Ce(p),sn(p,"link",r),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(h,p))}}function wI(r,a){xi.M(r,a);var o=zo;if(o&&r){var u=Pe(o).hoistableScripts,h=Fo(r),p=u.get(h);p||(p=o.querySelector(cu(h)),p||(r=v({src:r,async:!0,type:"module"},a),(a=ar.get(h))&&fp(r,a),p=o.createElement("script"),Ce(p),sn(p,"link",r),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(h,p))}}function fE(r,a,o,u){var h=(h=ve.current)?Af(h):null;if(!h)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(a=Bo(o.href),o=Pe(h).hoistableStyles,u=o.get(a),u||(u={type:"style",instance:null,count:0,state:null},o.set(a,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=Bo(o.href);var p=Pe(h).hoistableStyles,E=p.get(r);if(E||(h=h.ownerDocument||h,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(r,E),(p=h.querySelector(uu(r)))&&!p._p&&(E.instance=p,E.state.loading=5),ar.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},ar.set(r,o),p||SI(h,r,o,E.state))),a&&u===null)throw Error(i(528,""));return E}if(a&&u!==null)throw Error(i(529,""));return null;case"script":return a=o.async,o=o.src,typeof o=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Fo(o),o=Pe(h).hoistableScripts,u=o.get(a),u||(u={type:"script",instance:null,count:0,state:null},o.set(a,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function Bo(r){return'href="'+Ct(r)+'"'}function uu(r){return'link[rel="stylesheet"]['+r+"]"}function hE(r){return v({},r,{"data-precedence":r.precedence,precedence:null})}function SI(r,a,o,u){r.querySelector('link[rel="preload"][as="style"]['+a+"]")?u.loading=1:(a=r.createElement("link"),u.preload=a,a.addEventListener("load",function(){return u.loading|=1}),a.addEventListener("error",function(){return u.loading|=2}),sn(a,"link",o),Ce(a),r.head.appendChild(a))}function Fo(r){return'[src="'+Ct(r)+'"]'}function cu(r){return"script[async]"+r}function dE(r,a,o){if(a.count++,a.instance===null)switch(a.type){case"style":var u=r.querySelector('style[data-href~="'+Ct(o.href)+'"]');if(u)return a.instance=u,Ce(u),u;var h=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(r.ownerDocument||r).createElement("style"),Ce(u),sn(u,"style",h),Rf(u,o.precedence,r),a.instance=u;case"stylesheet":h=Bo(o.href);var p=r.querySelector(uu(h));if(p)return a.state.loading|=4,a.instance=p,Ce(p),p;u=hE(o),(h=ar.get(h))&&cp(u,h),p=(r.ownerDocument||r).createElement("link"),Ce(p);var E=p;return E._p=new Promise(function(w,P){E.onload=w,E.onerror=P}),sn(p,"link",u),a.state.loading|=4,Rf(p,o.precedence,r),a.instance=p;case"script":return p=Fo(o.src),(h=r.querySelector(cu(p)))?(a.instance=h,Ce(h),h):(u=o,(h=ar.get(p))&&(u=v({},o),fp(u,h)),r=r.ownerDocument||r,h=r.createElement("script"),Ce(h),sn(h,"link",u),r.head.appendChild(h),a.instance=h);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(u=a.instance,a.state.loading|=4,Rf(u,o.precedence,r));return a.instance}function Rf(r,a,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=u.length?u[u.length-1]:null,p=h,E=0;E<u.length;E++){var w=u[E];if(w.dataset.precedence===a)p=w;else if(p!==h)break}p?p.parentNode.insertBefore(r,p.nextSibling):(a=o.nodeType===9?o.head:o,a.insertBefore(r,a.firstChild))}function cp(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.title==null&&(r.title=a.title)}function fp(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.integrity==null&&(r.integrity=a.integrity)}var If=null;function mE(r,a,o){if(If===null){var u=new Map,h=If=new Map;h.set(o,u)}else h=If,u=h.get(o),u||(u=new Map,h.set(o,u));if(u.has(r))return u;for(u.set(r,null),o=o.getElementsByTagName(r),h=0;h<o.length;h++){var p=o[h];if(!(p[mr]||p[Et]||r==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var E=p.getAttribute(a)||"";E=r+E;var w=u.get(E);w?w.push(p):u.set(E,[p])}}return u}function pE(r,a,o){r=r.ownerDocument||r,r.head.insertBefore(o,a==="title"?r.querySelector("head > title"):null)}function AI(r,a,o){if(o===1||a.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return r=a.disabled,typeof a.precedence=="string"&&r==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function gE(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var fu=null;function RI(){}function II(r,a,o){if(fu===null)throw Error(i(475));var u=fu;if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Bo(o.href),p=r.querySelector(uu(h));if(p){r=p._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(u.count++,u=Cf.bind(u),r.then(u,u)),a.state.loading|=4,a.instance=p,Ce(p);return}p=r.ownerDocument||r,o=hE(o),(h=ar.get(h))&&cp(o,h),p=p.createElement("link"),Ce(p);var E=p;E._p=new Promise(function(w,P){E.onload=w,E.onerror=P}),sn(p,"link",o),a.instance=p}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(u.count++,a=Cf.bind(u),r.addEventListener("load",a),r.addEventListener("error",a))}}function CI(){if(fu===null)throw Error(i(475));var r=fu;return r.stylesheets&&r.count===0&&hp(r,r.stylesheets),0<r.count?function(a){var o=setTimeout(function(){if(r.stylesheets&&hp(r,r.stylesheets),r.unsuspend){var u=r.unsuspend;r.unsuspend=null,u()}},6e4);return r.unsuspend=a,function(){r.unsuspend=null,clearTimeout(o)}}:null}function Cf(){if(this.count--,this.count===0){if(this.stylesheets)hp(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Of=null;function hp(r,a){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Of=new Map,a.forEach(OI,r),Of=null,Cf.call(r))}function OI(r,a){if(!(a.state.loading&4)){var o=Of.get(r);if(o)var u=o.get(null);else{o=new Map,Of.set(r,o);for(var h=r.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<h.length;p++){var E=h[p];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(o.set(E.dataset.precedence,E),u=E)}u&&o.set(null,u)}h=a.instance,E=h.getAttribute("data-precedence"),p=o.get(E)||u,p===u&&o.set(null,h),o.set(E,h),this.count++,u=Cf.bind(this),h.addEventListener("load",u),h.addEventListener("error",u),p?p.parentNode.insertBefore(h,p.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(h,r.firstChild)),a.state.loading|=4}}var hu={$$typeof:H,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function DI(r,a,o,u,h,p,E,w){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=dr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=dr(0),this.hiddenUpdates=dr(null),this.identifierPrefix=u,this.onUncaughtError=h,this.onCaughtError=p,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function yE(r,a,o,u,h,p,E,w,P,$,Z,ie){return r=new DI(r,a,o,E,w,P,$,ie),a=1,p===!0&&(a|=24),p=Mn(3,null,null,a),r.current=p,p.stateNode=r,a=Yd(),a.refCount++,r.pooledCache=a,a.refCount++,p.memoizedState={element:u,isDehydrated:o,cache:a},Xd(p),r}function vE(r){return r?(r=_o,r):_o}function _E(r,a,o,u,h,p){h=vE(h),u.context===null?u.context=h:u.pendingContext=h,u=ra(a),u.payload={element:o},p=p===void 0?null:p,p!==null&&(u.callback=p),o=ia(r,u,a),o!==null&&(jn(o,r,a),Fl(o,r,a))}function EE(r,a){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<a?o:a}}function dp(r,a){EE(r,a),(r=r.alternate)&&EE(r,a)}function bE(r){if(r.tag===13){var a=vo(r,67108864);a!==null&&jn(a,r,67108864),dp(r,67108864)}}var Df=!0;function NI(r,a,o,u){var h=X.T;X.T=null;var p=ce.p;try{ce.p=2,mp(r,a,o,u)}finally{ce.p=p,X.T=h}}function xI(r,a,o,u){var h=X.T;X.T=null;var p=ce.p;try{ce.p=8,mp(r,a,o,u)}finally{ce.p=p,X.T=h}}function mp(r,a,o,u){if(Df){var h=pp(u);if(h===null)tp(r,a,u,Nf,o),wE(r,u);else if(MI(h,r,a,o,u))u.stopPropagation();else if(wE(r,u),a&4&&-1<PI.indexOf(r)){for(;h!==null;){var p=Kn(h);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var E=Nn(p.pendingLanes);if(E!==0){var w=p;for(w.pendingLanes|=2,w.entangledLanes|=2;E;){var P=1<<31-Rt(E);w.entanglements[1]|=P,E&=~P}qr(p),(Je&6)===0&&(mf=Xt()+500,au(0))}}break;case 13:w=vo(p,2),w!==null&&jn(w,p,2),gf(),dp(p,2)}if(p=pp(u),p===null&&tp(r,a,u,Nf,o),p===h)break;h=p}h!==null&&u.stopPropagation()}else tp(r,a,u,null,o)}}function pp(r){return r=Qn(r),gp(r)}var Nf=null;function gp(r){if(Nf=null,r=gr(r),r!==null){var a=l(r);if(a===null)r=null;else{var o=a.tag;if(o===13){if(r=c(a),r!==null)return r;r=null}else if(o===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;r=null}else a!==r&&(r=null)}}return Nf=r,null}function TE(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Qs()){case Ki:return 2;case Wi:return 8;case si:case vl:return 32;case oi:return 268435456;default:return 32}default:return 32}}var yp=!1,ya=null,va=null,_a=null,du=new Map,mu=new Map,Ea=[],PI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function wE(r,a){switch(r){case"focusin":case"focusout":ya=null;break;case"dragenter":case"dragleave":va=null;break;case"mouseover":case"mouseout":_a=null;break;case"pointerover":case"pointerout":du.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":mu.delete(a.pointerId)}}function pu(r,a,o,u,h,p){return r===null||r.nativeEvent!==p?(r={blockedOn:a,domEventName:o,eventSystemFlags:u,nativeEvent:p,targetContainers:[h]},a!==null&&(a=Kn(a),a!==null&&bE(a)),r):(r.eventSystemFlags|=u,a=r.targetContainers,h!==null&&a.indexOf(h)===-1&&a.push(h),r)}function MI(r,a,o,u,h){switch(a){case"focusin":return ya=pu(ya,r,a,o,u,h),!0;case"dragenter":return va=pu(va,r,a,o,u,h),!0;case"mouseover":return _a=pu(_a,r,a,o,u,h),!0;case"pointerover":var p=h.pointerId;return du.set(p,pu(du.get(p)||null,r,a,o,u,h)),!0;case"gotpointercapture":return p=h.pointerId,mu.set(p,pu(mu.get(p)||null,r,a,o,u,h)),!0}return!1}function SE(r){var a=gr(r.target);if(a!==null){var o=l(a);if(o!==null){if(a=o.tag,a===13){if(a=c(o),a!==null){r.blockedOn=a,Xi(r.priority,function(){if(o.tag===13){var u=Un();u=Ge(u);var h=vo(o,u);h!==null&&jn(h,o,u),dp(o,u)}});return}}else if(a===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function xf(r){if(r.blockedOn!==null)return!1;for(var a=r.targetContainers;0<a.length;){var o=pp(r.nativeEvent);if(o===null){o=r.nativeEvent;var u=new o.constructor(o.type,o);mi=u,o.target.dispatchEvent(u),mi=null}else return a=Kn(o),a!==null&&bE(a),r.blockedOn=o,!1;a.shift()}return!0}function AE(r,a,o){xf(r)&&o.delete(a)}function kI(){yp=!1,ya!==null&&xf(ya)&&(ya=null),va!==null&&xf(va)&&(va=null),_a!==null&&xf(_a)&&(_a=null),du.forEach(AE),mu.forEach(AE)}function Pf(r,a){r.blockedOn===a&&(r.blockedOn=null,yp||(yp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,kI)))}var Mf=null;function RE(r){Mf!==r&&(Mf=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Mf===r&&(Mf=null);for(var a=0;a<r.length;a+=3){var o=r[a],u=r[a+1],h=r[a+2];if(typeof u!="function"){if(gp(u||o)===null)continue;break}var p=Kn(o);p!==null&&(r.splice(a,3),a-=3,gm(p,{pending:!0,data:h,method:o.method,action:u},u,h))}}))}function gu(r){function a(P){return Pf(P,r)}ya!==null&&Pf(ya,r),va!==null&&Pf(va,r),_a!==null&&Pf(_a,r),du.forEach(a),mu.forEach(a);for(var o=0;o<Ea.length;o++){var u=Ea[o];u.blockedOn===r&&(u.blockedOn=null)}for(;0<Ea.length&&(o=Ea[0],o.blockedOn===null);)SE(o),o.blockedOn===null&&Ea.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var h=o[u],p=o[u+1],E=h[dt]||null;if(typeof p=="function")E||RE(o);else if(E){var w=null;if(p&&p.hasAttribute("formAction")){if(h=p,E=p[dt]||null)w=E.formAction;else if(gp(h)!==null)continue}else w=E.action;typeof w=="function"?o[u+1]=w:(o.splice(u,3),u-=3),RE(o)}}}function vp(r){this._internalRoot=r}kf.prototype.render=vp.prototype.render=function(r){var a=this._internalRoot;if(a===null)throw Error(i(409));var o=a.current,u=Un();_E(o,u,r,a,null,null)},kf.prototype.unmount=vp.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var a=r.containerInfo;_E(r.current,2,null,r,null,null),gf(),a[Zt]=null}};function kf(r){this._internalRoot=r}kf.prototype.unstable_scheduleHydration=function(r){if(r){var a=Nr();r={blockedOn:null,target:r,priority:a};for(var o=0;o<Ea.length&&a!==0&&a<Ea[o].priority;o++);Ea.splice(o,0,r),o===0&&SE(r)}};var IE=e.version;if(IE!=="19.1.0")throw Error(i(527,IE,"19.1.0"));ce.findDOMNode=function(r){var a=r._reactInternals;if(a===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=m(a),r=r!==null?g(r):null,r=r===null?null:r.stateNode,r};var VI={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vf.isDisabled&&Vf.supportsFiber)try{ht=Vf.inject(VI),Ye=Vf}catch{}}return vu.createRoot=function(r,a){if(!s(r))throw Error(i(299));var o=!1,u="",h=H_,p=q_,E=G_,w=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(h=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(w=a.unstable_transitionCallbacks)),a=yE(r,1,!1,null,null,o,u,h,p,E,w,null),r[Zt]=a.current,ep(r),new vp(a)},vu.hydrateRoot=function(r,a,o){if(!s(r))throw Error(i(299));var u=!1,h="",p=H_,E=q_,w=G_,P=null,$=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(p=o.onUncaughtError),o.onCaughtError!==void 0&&(E=o.onCaughtError),o.onRecoverableError!==void 0&&(w=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(P=o.unstable_transitionCallbacks),o.formState!==void 0&&($=o.formState)),a=yE(r,1,!0,a,o??null,u,h,p,E,w,P,$),a.context=vE(null),o=a.current,u=Un(),u=Ge(u),h=ra(u),h.callback=null,ia(o,h,u),o=u,a.current.lanes=o,$n(a,o),qr(a),r[Zt]=a.current,ep(r),new kf(a)},vu.version="19.1.0",vu}var LE;function $I(){if(LE)return bp.exports;LE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),bp.exports=GI(),bp.exports}var YI=$I(),Ap={exports:{}},Rp={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UE;function KI(){if(UE)return Rp;UE=1;var t=Hh();function e(m,g){return m===g&&(m!==0||1/m===1/g)||m!==m&&g!==g}var n=typeof Object.is=="function"?Object.is:e,i=t.useSyncExternalStore,s=t.useRef,l=t.useEffect,c=t.useMemo,d=t.useDebugValue;return Rp.useSyncExternalStoreWithSelector=function(m,g,v,b,T){var R=s(null);if(R.current===null){var O={hasValue:!1,value:null};R.current=O}else O=R.current;R=c(function(){function L(J){if(!z){if(z=!0,te=J,J=b(J),T!==void 0&&O.hasValue){var ee=O.value;if(T(ee,J))return H=ee}return H=J}if(ee=H,n(te,J))return ee;var D=b(J);return T!==void 0&&T(ee,D)?(te=J,ee):(te=J,H=D)}var z=!1,te,H,K=v===void 0?null:v;return[function(){return L(g())},K===null?void 0:function(){return L(K())}]},[g,v,b,T]);var j=i(m,R[0],R[1]);return l(function(){O.hasValue=!0,O.value=j},[j]),d(j),j},Rp}var jE;function WI(){return jE||(jE=1,Ap.exports=KI()),Ap.exports}WI();function QI(t){t()}function XI(){let t=null,e=null;return{clear(){t=null,e=null},notify(){QI(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let i=t;for(;i;)n.push(i),i=i.next;return n},subscribe(n){let i=!0;const s=e={callback:n,next:null,prev:e};return s.prev?s.prev.next=s:t=s,function(){!i||t===null||(i=!1,s.next?s.next.prev=s.prev:e=s.prev,s.prev?s.prev.next=s.next:t=s.next)}}}}var zE={notify(){},get:()=>[]};function JI(t,e){let n,i=zE,s=0,l=!1;function c(j){v();const L=i.subscribe(j);let z=!1;return()=>{z||(z=!0,L(),b())}}function d(){i.notify()}function m(){O.onStateChange&&O.onStateChange()}function g(){return l}function v(){s++,n||(n=t.subscribe(m),i=XI())}function b(){s--,n&&s===0&&(n(),n=void 0,i.clear(),i=zE)}function T(){l||(l=!0,v())}function R(){l&&(l=!1,b())}const O={addNestedSub:c,notifyNestedSubs:d,handleChangeWrapper:m,isSubscribed:g,trySubscribe:T,tryUnsubscribe:R,getListeners:()=>i};return O}var ZI=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",e2=ZI(),t2=()=>typeof navigator<"u"&&navigator.product==="ReactNative",n2=t2(),r2=()=>e2||n2?F.useLayoutEffect:F.useEffect,i2=r2(),a2=Symbol.for("react-redux-context"),s2=typeof globalThis<"u"?globalThis:{};function o2(){if(!F.createContext)return{};const t=s2[a2]??=new Map;let e=t.get(F.createContext);return e||(e=F.createContext(null),t.set(F.createContext,e)),e}var l2=o2();function u2(t){const{children:e,context:n,serverState:i,store:s}=t,l=F.useMemo(()=>{const m=JI(s);return{store:s,subscription:m,getServerState:i?()=>i:void 0}},[s,i]),c=F.useMemo(()=>s.getState(),[s]);i2(()=>{const{subscription:m}=l;return m.onStateChange=m.notifyNestedSubs,m.trySubscribe(),c!==s.getState()&&m.notifyNestedSubs(),()=>{m.tryUnsubscribe(),m.onStateChange=void 0}},[l,c]);const d=n||l2;return F.createElement(d.Provider,{value:l},e)}var c2=u2;function Xf(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Xf=function(n){return typeof n}:Xf=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Xf(t)}function f2(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h2(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function d2(t,e,n){return e&&h2(t.prototype,e),t}function m2(t,e){return e&&(Xf(e)==="object"||typeof e=="function")?e:Jf(t)}function Qp(t){return Qp=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Qp(t)}function Jf(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p2(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Xp(t,e)}function Xp(t,e){return Xp=Object.setPrototypeOf||function(i,s){return i.__proto__=s,i},Xp(t,e)}function Zf(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var fT=function(t){p2(e,t);function e(){var n,i;f2(this,e);for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];return i=m2(this,(n=Qp(e)).call.apply(n,[this].concat(l))),Zf(Jf(i),"state",{bootstrapped:!1}),Zf(Jf(i),"_unsubscribe",void 0),Zf(Jf(i),"handlePersistorState",function(){var d=i.props.persistor,m=d.getState(),g=m.bootstrapped;g&&(i.props.onBeforeLift?Promise.resolve(i.props.onBeforeLift()).finally(function(){return i.setState({bootstrapped:!0})}):i.setState({bootstrapped:!0}),i._unsubscribe&&i._unsubscribe())}),i}return d2(e,[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return typeof this.props.children=="function"?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}]),e}(F.PureComponent);Zf(fT,"defaultProps",{children:null,loading:null});var _u={},BE;function g2(){if(BE)return _u;BE=1,Object.defineProperty(_u,"__esModule",{value:!0}),_u.parse=c,_u.serialize=g;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,l=(()=>{const T=function(){};return T.prototype=Object.create(null),T})();function c(T,R){const O=new l,j=T.length;if(j<2)return O;const L=R?.decode||v;let z=0;do{const te=T.indexOf("=",z);if(te===-1)break;const H=T.indexOf(";",z),K=H===-1?j:H;if(te>K){z=T.lastIndexOf(";",te-1)+1;continue}const J=d(T,z,te),ee=m(T,te,J),D=T.slice(J,ee);if(O[D]===void 0){let A=d(T,te+1,K),I=m(T,K,A);const k=L(T.slice(A,I));O[D]=k}z=K+1}while(z<j);return O}function d(T,R,O){do{const j=T.charCodeAt(R);if(j!==32&&j!==9)return R}while(++R<O);return O}function m(T,R,O){for(;R>O;){const j=T.charCodeAt(--R);if(j!==32&&j!==9)return R+1}return O}function g(T,R,O){const j=O?.encode||encodeURIComponent;if(!t.test(T))throw new TypeError(`argument name is invalid: ${T}`);const L=j(R);if(!e.test(L))throw new TypeError(`argument val is invalid: ${R}`);let z=T+"="+L;if(!O)return z;if(O.maxAge!==void 0){if(!Number.isInteger(O.maxAge))throw new TypeError(`option maxAge is invalid: ${O.maxAge}`);z+="; Max-Age="+O.maxAge}if(O.domain){if(!n.test(O.domain))throw new TypeError(`option domain is invalid: ${O.domain}`);z+="; Domain="+O.domain}if(O.path){if(!i.test(O.path))throw new TypeError(`option path is invalid: ${O.path}`);z+="; Path="+O.path}if(O.expires){if(!b(O.expires)||!Number.isFinite(O.expires.valueOf()))throw new TypeError(`option expires is invalid: ${O.expires}`);z+="; Expires="+O.expires.toUTCString()}if(O.httpOnly&&(z+="; HttpOnly"),O.secure&&(z+="; Secure"),O.partitioned&&(z+="; Partitioned"),O.priority)switch(typeof O.priority=="string"?O.priority.toLowerCase():void 0){case"low":z+="; Priority=Low";break;case"medium":z+="; Priority=Medium";break;case"high":z+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${O.priority}`)}if(O.sameSite)switch(typeof O.sameSite=="string"?O.sameSite.toLowerCase():O.sameSite){case!0:case"strict":z+="; SameSite=Strict";break;case"lax":z+="; SameSite=Lax";break;case"none":z+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${O.sameSite}`)}return z}function v(T){if(T.indexOf("%")===-1)return T;try{return decodeURIComponent(T)}catch{return T}}function b(T){return s.call(T)==="[object Date]"}return _u}g2();var FE="popstate";function y2(t={}){function e(i,s){let{pathname:l,search:c,hash:d}=i.location;return Jp("",{pathname:l,search:c,hash:d},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){return typeof s=="string"?s:Uu(s)}return _2(e,n,null,t)}function vt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ei(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function v2(){return Math.random().toString(36).substring(2,10)}function HE(t,e){return{usr:t.state,key:t.key,idx:e}}function Jp(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?ol(e):e,state:n,key:e&&e.key||i||v2()}}function Uu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ol(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function _2(t,e,n,i={}){let{window:s=document.defaultView,v5Compat:l=!1}=i,c=s.history,d="POP",m=null,g=v();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function v(){return(c.state||{idx:null}).idx}function b(){d="POP";let L=v(),z=L==null?null:L-g;g=L,m&&m({action:d,location:j.location,delta:z})}function T(L,z){d="PUSH";let te=Jp(j.location,L,z);g=v()+1;let H=HE(te,g),K=j.createHref(te);try{c.pushState(H,"",K)}catch(J){if(J instanceof DOMException&&J.name==="DataCloneError")throw J;s.location.assign(K)}l&&m&&m({action:d,location:j.location,delta:1})}function R(L,z){d="REPLACE";let te=Jp(j.location,L,z);g=v();let H=HE(te,g),K=j.createHref(te);c.replaceState(H,"",K),l&&m&&m({action:d,location:j.location,delta:0})}function O(L){return E2(L)}let j={get action(){return d},get location(){return t(s,c)},listen(L){if(m)throw new Error("A history only accepts one active listener");return s.addEventListener(FE,b),m=L,()=>{s.removeEventListener(FE,b),m=null}},createHref(L){return e(s,L)},createURL:O,encodeLocation(L){let z=O(L);return{pathname:z.pathname,search:z.search,hash:z.hash}},push:T,replace:R,go(L){return c.go(L)}};return j}function E2(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),vt(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:Uu(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function hT(t,e,n="/"){return b2(t,e,n,!1)}function b2(t,e,n,i){let s=typeof e=="string"?ol(e):e,l=zi(s.pathname||"/",n);if(l==null)return null;let c=dT(t);T2(c);let d=null;for(let m=0;d==null&&m<c.length;++m){let g=P2(l);d=N2(c[m],g,i)}return d}function dT(t,e=[],n=[],i=""){let s=(l,c,d)=>{let m={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};m.relativePath.startsWith("/")&&(vt(m.relativePath.startsWith(i),`Absolute route path "${m.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(i.length));let g=Vi([i,m.relativePath]),v=n.concat(m);l.children&&l.children.length>0&&(vt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),dT(l.children,e,v,g)),!(l.path==null&&!l.index)&&e.push({path:g,score:O2(g,l.index),routesMeta:v})};return t.forEach((l,c)=>{if(l.path===""||!l.path?.includes("?"))s(l,c);else for(let d of mT(l.path))s(l,c,d)}),e}function mT(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,s=n.endsWith("?"),l=n.replace(/\?$/,"");if(i.length===0)return s?[l,""]:[l];let c=mT(i.join("/")),d=[];return d.push(...c.map(m=>m===""?l:[l,m].join("/"))),s&&d.push(...c),d.map(m=>t.startsWith("/")&&m===""?"/":m)}function T2(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:D2(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var w2=/^:[\w-]+$/,S2=3,A2=2,R2=1,I2=10,C2=-2,qE=t=>t==="*";function O2(t,e){let n=t.split("/"),i=n.length;return n.some(qE)&&(i+=C2),e&&(i+=A2),n.filter(s=>!qE(s)).reduce((s,l)=>s+(w2.test(l)?S2:l===""?R2:I2),i)}function D2(t,e){return t.length===e.length&&t.slice(0,-1).every((i,s)=>i===e[s])?t[t.length-1]-e[e.length-1]:0}function N2(t,e,n=!1){let{routesMeta:i}=t,s={},l="/",c=[];for(let d=0;d<i.length;++d){let m=i[d],g=d===i.length-1,v=l==="/"?e:e.slice(l.length)||"/",b=mh({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},v),T=m.route;if(!b&&g&&n&&!i[i.length-1].route.index&&(b=mh({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},v)),!b)return null;Object.assign(s,b.params),c.push({params:s,pathname:Vi([l,b.pathname]),pathnameBase:L2(Vi([l,b.pathnameBase])),route:T}),b.pathnameBase!=="/"&&(l=Vi([l,b.pathnameBase]))}return c}function mh(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=x2(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let l=s[0],c=l.replace(/(.)\/+$/,"$1"),d=s.slice(1);return{params:i.reduce((g,{paramName:v,isOptional:b},T)=>{if(v==="*"){let O=d[T]||"";c=l.slice(0,l.length-O.length).replace(/(.)\/+$/,"$1")}const R=d[T];return b&&!R?g[v]=void 0:g[v]=(R||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:c,pattern:t}}function x2(t,e=!1,n=!0){ei(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,m)=>(i.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),i]}function P2(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ei(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function zi(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function M2(t,e="/"){let{pathname:n,search:i="",hash:s=""}=typeof t=="string"?ol(t):t;return{pathname:n?n.startsWith("/")?n:k2(n,e):e,search:U2(i),hash:j2(s)}}function k2(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Ip(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function V2(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function pT(t){let e=V2(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function gT(t,e,n,i=!1){let s;typeof t=="string"?s=ol(t):(s={...t},vt(!s.pathname||!s.pathname.includes("?"),Ip("?","pathname","search",s)),vt(!s.pathname||!s.pathname.includes("#"),Ip("#","pathname","hash",s)),vt(!s.search||!s.search.includes("#"),Ip("#","search","hash",s)));let l=t===""||s.pathname==="",c=l?"/":s.pathname,d;if(c==null)d=n;else{let b=e.length-1;if(!i&&c.startsWith("..")){let T=c.split("/");for(;T[0]==="..";)T.shift(),b-=1;s.pathname=T.join("/")}d=b>=0?e[b]:"/"}let m=M2(s,d),g=c&&c!=="/"&&c.endsWith("/"),v=(l||c===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(g||v)&&(m.pathname+="/"),m}var Vi=t=>t.join("/").replace(/\/\/+/g,"/"),L2=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),U2=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,j2=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function z2(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var yT=["POST","PUT","PATCH","DELETE"];new Set(yT);var B2=["GET",...yT];new Set(B2);var ll=F.createContext(null);ll.displayName="DataRouter";var qh=F.createContext(null);qh.displayName="DataRouterState";var vT=F.createContext({isTransitioning:!1});vT.displayName="ViewTransition";var F2=F.createContext(new Map);F2.displayName="Fetchers";var H2=F.createContext(null);H2.displayName="Await";var ii=F.createContext(null);ii.displayName="Navigation";var tc=F.createContext(null);tc.displayName="Location";var $i=F.createContext({outlet:null,matches:[],isDataRoute:!1});$i.displayName="Route";var Qg=F.createContext(null);Qg.displayName="RouteError";function q2(t,{relative:e}={}){vt(nc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=F.useContext(ii),{hash:s,pathname:l,search:c}=rc(t,{relative:e}),d=l;return n!=="/"&&(d=l==="/"?n:Vi([n,l])),i.createHref({pathname:d,search:c,hash:s})}function nc(){return F.useContext(tc)!=null}function js(){return vt(nc(),"useLocation() may be used only in the context of a <Router> component."),F.useContext(tc).location}var _T="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ET(t){F.useContext(ii).static||F.useLayoutEffect(t)}function Xg(){let{isDataRoute:t}=F.useContext($i);return t?rC():G2()}function G2(){vt(nc(),"useNavigate() may be used only in the context of a <Router> component.");let t=F.useContext(ll),{basename:e,navigator:n}=F.useContext(ii),{matches:i}=F.useContext($i),{pathname:s}=js(),l=JSON.stringify(pT(i)),c=F.useRef(!1);return ET(()=>{c.current=!0}),F.useCallback((m,g={})=>{if(ei(c.current,_T),!c.current)return;if(typeof m=="number"){n.go(m);return}let v=gT(m,JSON.parse(l),s,g.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Vi([e,v.pathname])),(g.replace?n.replace:n.push)(v,g.state,g)},[e,n,l,s,t])}F.createContext(null);function rc(t,{relative:e}={}){let{matches:n}=F.useContext($i),{pathname:i}=js(),s=JSON.stringify(pT(n));return F.useMemo(()=>gT(t,JSON.parse(s),i,e==="path"),[t,s,i,e])}function $2(t,e){return bT(t,e)}function bT(t,e,n,i){vt(nc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=F.useContext(ii),{matches:l}=F.useContext($i),c=l[l.length-1],d=c?c.params:{},m=c?c.pathname:"/",g=c?c.pathnameBase:"/",v=c&&c.route;{let z=v&&v.path||"";TT(m,!v||z.endsWith("*")||z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${z}"> to <Route path="${z==="/"?"*":`${z}/*`}">.`)}let b=js(),T;if(e){let z=typeof e=="string"?ol(e):e;vt(g==="/"||z.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${z.pathname}" was given in the \`location\` prop.`),T=z}else T=b;let R=T.pathname||"/",O=R;if(g!=="/"){let z=g.replace(/^\//,"").split("/");O="/"+R.replace(/^\//,"").split("/").slice(z.length).join("/")}let j=hT(t,{pathname:O});ei(v||j!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),ei(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let L=X2(j&&j.map(z=>Object.assign({},z,{params:Object.assign({},d,z.params),pathname:Vi([g,s.encodeLocation?s.encodeLocation(z.pathname).pathname:z.pathname]),pathnameBase:z.pathnameBase==="/"?g:Vi([g,s.encodeLocation?s.encodeLocation(z.pathnameBase).pathname:z.pathnameBase])})),l,n,i);return e&&L?F.createElement(tc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},L):L}function Y2(){let t=nC(),e=z2(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=F.createElement(F.Fragment,null,F.createElement("p",null," Hey developer "),F.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",F.createElement("code",{style:l},"ErrorBoundary")," or"," ",F.createElement("code",{style:l},"errorElement")," prop on your route.")),F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},e),n?F.createElement("pre",{style:s},n):null,c)}var K2=F.createElement(Y2,null),W2=class extends F.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?F.createElement($i.Provider,{value:this.props.routeContext},F.createElement(Qg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Q2({routeContext:t,match:e,children:n}){let i=F.useContext(ll);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),F.createElement($i.Provider,{value:t},n)}function X2(t,e=[],n=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,l=n?.errors;if(l!=null){let m=s.findIndex(g=>g.route.id&&l?.[g.route.id]!==void 0);vt(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),s=s.slice(0,Math.min(s.length,m+1))}let c=!1,d=-1;if(n)for(let m=0;m<s.length;m++){let g=s[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=m),g.route.id){let{loaderData:v,errors:b}=n,T=g.route.loader&&!v.hasOwnProperty(g.route.id)&&(!b||b[g.route.id]===void 0);if(g.route.lazy||T){c=!0,d>=0?s=s.slice(0,d+1):s=[s[0]];break}}}return s.reduceRight((m,g,v)=>{let b,T=!1,R=null,O=null;n&&(b=l&&g.route.id?l[g.route.id]:void 0,R=g.route.errorElement||K2,c&&(d<0&&v===0?(TT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,O=null):d===v&&(T=!0,O=g.route.hydrateFallbackElement||null)));let j=e.concat(s.slice(0,v+1)),L=()=>{let z;return b?z=R:T?z=O:g.route.Component?z=F.createElement(g.route.Component,null):g.route.element?z=g.route.element:z=m,F.createElement(Q2,{match:g,routeContext:{outlet:m,matches:j,isDataRoute:n!=null},children:z})};return n&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?F.createElement(W2,{location:n.location,revalidation:n.revalidation,component:R,error:b,children:L(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):L()},null)}function Jg(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function J2(t){let e=F.useContext(ll);return vt(e,Jg(t)),e}function Z2(t){let e=F.useContext(qh);return vt(e,Jg(t)),e}function eC(t){let e=F.useContext($i);return vt(e,Jg(t)),e}function Zg(t){let e=eC(t),n=e.matches[e.matches.length-1];return vt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function tC(){return Zg("useRouteId")}function nC(){let t=F.useContext(Qg),e=Z2("useRouteError"),n=Zg("useRouteError");return t!==void 0?t:e.errors?.[n]}function rC(){let{router:t}=J2("useNavigate"),e=Zg("useNavigate"),n=F.useRef(!1);return ET(()=>{n.current=!0}),F.useCallback(async(s,l={})=>{ei(n.current,_T),n.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...l}))},[t,e])}var GE={};function TT(t,e,n){!e&&!GE[t]&&(GE[t]=!0,ei(!1,n))}F.memo(iC);function iC({routes:t,future:e,state:n}){return bT(t,void 0,n,e)}function $r(t){vt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function aC({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:s,static:l=!1}){vt(!nc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),d=F.useMemo(()=>({basename:c,navigator:s,static:l,future:{}}),[c,s,l]);typeof n=="string"&&(n=ol(n));let{pathname:m="/",search:g="",hash:v="",state:b=null,key:T="default"}=n,R=F.useMemo(()=>{let O=zi(m,c);return O==null?null:{location:{pathname:O,search:g,hash:v,state:b,key:T},navigationType:i}},[c,m,g,v,b,T,i]);return ei(R!=null,`<Router basename="${c}"> is not able to match the URL "${m}${g}${v}" because it does not start with the basename, so the <Router> won't render anything.`),R==null?null:F.createElement(ii.Provider,{value:d},F.createElement(tc.Provider,{children:e,value:R}))}function $E({children:t,location:e}){return $2(Zp(t),e)}function Zp(t,e=[]){let n=[];return F.Children.forEach(t,(i,s)=>{if(!F.isValidElement(i))return;let l=[...e,s];if(i.type===F.Fragment){n.push.apply(n,Zp(i.props.children,l));return}vt(i.type===$r,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),vt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=Zp(i.props.children,l)),n.push(c)}),n}var eh="get",th="application/x-www-form-urlencoded";function Gh(t){return t!=null&&typeof t.tagName=="string"}function sC(t){return Gh(t)&&t.tagName.toLowerCase()==="button"}function oC(t){return Gh(t)&&t.tagName.toLowerCase()==="form"}function lC(t){return Gh(t)&&t.tagName.toLowerCase()==="input"}function uC(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function cC(t,e){return t.button===0&&(!e||e==="_self")&&!uC(t)}var Lf=null;function fC(){if(Lf===null)try{new FormData(document.createElement("form"),0),Lf=!1}catch{Lf=!0}return Lf}var hC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Cp(t){return t!=null&&!hC.has(t)?(ei(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${th}"`),null):t}function dC(t,e){let n,i,s,l,c;if(oC(t)){let d=t.getAttribute("action");i=d?zi(d,e):null,n=t.getAttribute("method")||eh,s=Cp(t.getAttribute("enctype"))||th,l=new FormData(t)}else if(sC(t)||lC(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=t.getAttribute("formaction")||d.getAttribute("action");if(i=m?zi(m,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||eh,s=Cp(t.getAttribute("formenctype"))||Cp(d.getAttribute("enctype"))||th,l=new FormData(d,t),!fC()){let{name:g,type:v,value:b}=t;if(v==="image"){let T=g?`${g}.`:"";l.append(`${T}x`,"0"),l.append(`${T}y`,"0")}else g&&l.append(g,b)}}else{if(Gh(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=eh,i=null,s=th,c=t}return l&&s==="text/plain"&&(c=l,l=void 0),{action:i,method:n.toLowerCase(),encType:s,formData:l,body:c}}function ey(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function mC(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function pC(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function gC(t,e,n){let i=await Promise.all(t.map(async s=>{let l=e.routes[s.route.id];if(l){let c=await mC(l,n);return c.links?c.links():[]}return[]}));return EC(i.flat(1).filter(pC).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function YE(t,e,n,i,s,l){let c=(m,g)=>n[g]?m.route.id!==n[g].route.id:!0,d=(m,g)=>n[g].pathname!==m.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==m.params["*"];return l==="assets"?e.filter((m,g)=>c(m,g)||d(m,g)):l==="data"?e.filter((m,g)=>{let v=i.routes[m.route.id];if(!v||!v.hasLoader)return!1;if(c(m,g)||d(m,g))return!0;if(m.route.shouldRevalidate){let b=m.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function yC(t,e,{includeHydrateFallback:n}={}){return vC(t.map(i=>{let s=e.routes[i.route.id];if(!s)return[];let l=[s.module];return s.clientActionModule&&(l=l.concat(s.clientActionModule)),s.clientLoaderModule&&(l=l.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(l=l.concat(s.hydrateFallbackModule)),s.imports&&(l=l.concat(s.imports)),l}).flat(1))}function vC(t){return[...new Set(t)]}function _C(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function EC(t,e){let n=new Set;return new Set(e),t.reduce((i,s)=>{let l=JSON.stringify(_C(s));return n.has(l)||(n.add(l),i.push({key:l,link:s})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var bC=new Set([100,101,204,205]);function TC(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&zi(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function wT(){let t=F.useContext(ll);return ey(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function wC(){let t=F.useContext(qh);return ey(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var ty=F.createContext(void 0);ty.displayName="FrameworkContext";function ST(){let t=F.useContext(ty);return ey(t,"You must render this element inside a <HydratedRouter> element"),t}function SC(t,e){let n=F.useContext(ty),[i,s]=F.useState(!1),[l,c]=F.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:g,onMouseLeave:v,onTouchStart:b}=e,T=F.useRef(null);F.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let j=z=>{z.forEach(te=>{c(te.isIntersecting)})},L=new IntersectionObserver(j,{threshold:.5});return T.current&&L.observe(T.current),()=>{L.disconnect()}}},[t]),F.useEffect(()=>{if(i){let j=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(j)}}},[i]);let R=()=>{s(!0)},O=()=>{s(!1),c(!1)};return n?t!=="intent"?[l,T,{}]:[l,T,{onFocus:Eu(d,R),onBlur:Eu(m,O),onMouseEnter:Eu(g,R),onMouseLeave:Eu(v,O),onTouchStart:Eu(b,R)}]:[!1,T,{}]}function Eu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function AC({page:t,...e}){let{router:n}=wT(),i=F.useMemo(()=>hT(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?F.createElement(IC,{page:t,matches:i,...e}):null}function RC(t){let{manifest:e,routeModules:n}=ST(),[i,s]=F.useState([]);return F.useEffect(()=>{let l=!1;return gC(t,e,n).then(c=>{l||s(c)}),()=>{l=!0}},[t,e,n]),i}function IC({page:t,matches:e,...n}){let i=js(),{manifest:s,routeModules:l}=ST(),{basename:c}=wT(),{loaderData:d,matches:m}=wC(),g=F.useMemo(()=>YE(t,e,m,s,i,"data"),[t,e,m,s,i]),v=F.useMemo(()=>YE(t,e,m,s,i,"assets"),[t,e,m,s,i]),b=F.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let O=new Set,j=!1;if(e.forEach(z=>{let te=s.routes[z.route.id];!te||!te.hasLoader||(!g.some(H=>H.route.id===z.route.id)&&z.route.id in d&&l[z.route.id]?.shouldRevalidate||te.hasClientLoader?j=!0:O.add(z.route.id))}),O.size===0)return[];let L=TC(t,c);return j&&O.size>0&&L.searchParams.set("_routes",e.filter(z=>O.has(z.route.id)).map(z=>z.route.id).join(",")),[L.pathname+L.search]},[c,d,i,s,g,e,t,l]),T=F.useMemo(()=>yC(v,s),[v,s]),R=RC(v);return F.createElement(F.Fragment,null,b.map(O=>F.createElement("link",{key:O,rel:"prefetch",as:"fetch",href:O,...n})),T.map(O=>F.createElement("link",{key:O,rel:"modulepreload",href:O,...n})),R.map(({key:O,link:j})=>F.createElement("link",{key:O,...j})))}function CC(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var AT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{AT&&(window.__reactRouterVersion="7.6.3")}catch{}function KE({basename:t,children:e,window:n}){let i=F.useRef();i.current==null&&(i.current=y2({window:n,v5Compat:!0}));let s=i.current,[l,c]=F.useState({action:s.action,location:s.location}),d=F.useCallback(m=>{F.startTransition(()=>c(m))},[c]);return F.useLayoutEffect(()=>s.listen(d),[s,d]),F.createElement(aC,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:s})}var RT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ny=F.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:s,reloadDocument:l,replace:c,state:d,target:m,to:g,preventScrollReset:v,viewTransition:b,...T},R){let{basename:O}=F.useContext(ii),j=typeof g=="string"&&RT.test(g),L,z=!1;if(typeof g=="string"&&j&&(L=g,AT))try{let I=new URL(window.location.href),k=g.startsWith("//")?new URL(I.protocol+g):new URL(g),N=zi(k.pathname,O);k.origin===I.origin&&N!=null?g=N+k.search+k.hash:z=!0}catch{ei(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let te=q2(g,{relative:s}),[H,K,J]=SC(i,T),ee=NC(g,{replace:c,state:d,target:m,preventScrollReset:v,relative:s,viewTransition:b});function D(I){e&&e(I),I.defaultPrevented||ee(I)}let A=F.createElement("a",{...T,...J,href:L||te,onClick:z||l?e:D,ref:CC(R,K),target:m,"data-discover":!j&&n==="render"?"true":void 0});return H&&!j?F.createElement(F.Fragment,null,A,F.createElement(AC,{page:te})):A});ny.displayName="Link";var Ho=F.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:s=!1,style:l,to:c,viewTransition:d,children:m,...g},v){let b=rc(c,{relative:g.relative}),T=js(),R=F.useContext(qh),{navigator:O,basename:j}=F.useContext(ii),L=R!=null&&VC(b)&&d===!0,z=O.encodeLocation?O.encodeLocation(b).pathname:b.pathname,te=T.pathname,H=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;n||(te=te.toLowerCase(),H=H?H.toLowerCase():null,z=z.toLowerCase()),H&&j&&(H=zi(H,j)||H);const K=z!=="/"&&z.endsWith("/")?z.length-1:z.length;let J=te===z||!s&&te.startsWith(z)&&te.charAt(K)==="/",ee=H!=null&&(H===z||!s&&H.startsWith(z)&&H.charAt(z.length)==="/"),D={isActive:J,isPending:ee,isTransitioning:L},A=J?e:void 0,I;typeof i=="function"?I=i(D):I=[i,J?"active":null,ee?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let k=typeof l=="function"?l(D):l;return F.createElement(ny,{...g,"aria-current":A,className:I,ref:v,style:k,to:c,viewTransition:d},typeof m=="function"?m(D):m)});Ho.displayName="NavLink";var OC=F.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:s,state:l,method:c=eh,action:d,onSubmit:m,relative:g,preventScrollReset:v,viewTransition:b,...T},R)=>{let O=MC(),j=kC(d,{relative:g}),L=c.toLowerCase()==="get"?"get":"post",z=typeof d=="string"&&RT.test(d),te=H=>{if(m&&m(H),H.defaultPrevented)return;H.preventDefault();let K=H.nativeEvent.submitter,J=K?.getAttribute("formmethod")||c;O(K||H.currentTarget,{fetcherKey:e,method:J,navigate:n,replace:s,state:l,relative:g,preventScrollReset:v,viewTransition:b})};return F.createElement("form",{ref:R,method:L,action:j,onSubmit:i?m:te,...T,"data-discover":!z&&t==="render"?"true":void 0})});OC.displayName="Form";function DC(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function IT(t){let e=F.useContext(ll);return vt(e,DC(t)),e}function NC(t,{target:e,replace:n,state:i,preventScrollReset:s,relative:l,viewTransition:c}={}){let d=Xg(),m=js(),g=rc(t,{relative:l});return F.useCallback(v=>{if(cC(v,e)){v.preventDefault();let b=n!==void 0?n:Uu(m)===Uu(g);d(t,{replace:b,state:i,preventScrollReset:s,relative:l,viewTransition:c})}},[m,d,g,n,i,e,t,s,l,c])}var xC=0,PC=()=>`__${String(++xC)}__`;function MC(){let{router:t}=IT("useSubmit"),{basename:e}=F.useContext(ii),n=tC();return F.useCallback(async(i,s={})=>{let{action:l,method:c,encType:d,formData:m,body:g}=dC(i,e);if(s.navigate===!1){let v=s.fetcherKey||PC();await t.fetch(v,n,s.action||l,{preventScrollReset:s.preventScrollReset,formData:m,body:g,formMethod:s.method||c,formEncType:s.encType||d,flushSync:s.flushSync})}else await t.navigate(s.action||l,{preventScrollReset:s.preventScrollReset,formData:m,body:g,formMethod:s.method||c,formEncType:s.encType||d,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,n])}function kC(t,{relative:e}={}){let{basename:n}=F.useContext(ii),i=F.useContext($i);vt(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),l={...rc(t||".",{relative:e})},c=js();if(t==null){l.search=c.search;let d=new URLSearchParams(l.search),m=d.getAll("index");if(m.some(v=>v==="")){d.delete("index"),m.filter(b=>b).forEach(b=>d.append("index",b));let v=d.toString();l.search=v?`?${v}`:""}}return(!t||t===".")&&s.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Vi([n,l.pathname])),Uu(l)}function VC(t,e={}){let n=F.useContext(vT);vt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=IT("useViewTransitionState"),s=rc(t,{relative:e.relative});if(!n.isTransitioning)return!1;let l=zi(n.currentLocation.pathname,i)||n.currentLocation.pathname,c=zi(n.nextLocation.pathname,i)||n.nextLocation.pathname;return mh(s.pathname,c)!=null||mh(s.pathname,l)!=null}[...bC];var CT={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},WE=Cs.createContext&&Cs.createContext(CT),Oa=function(){return Oa=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},Oa.apply(this,arguments)},LC=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n};function OT(t){return t&&t.map(function(e,n){return Cs.createElement(e.tag,Oa({key:n},e.attr),OT(e.child))})}function ai(t){return function(e){return Cs.createElement(UC,Oa({attr:Oa({},t.attr)},e),OT(t.child))}}function UC(t){var e=function(n){var i=t.attr,s=t.size,l=t.title,c=LC(t,["attr","size","title"]),d=s||n.size||"1em",m;return n.className&&(m=n.className),t.className&&(m=(m?m+" ":"")+t.className),Cs.createElement("svg",Oa({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,c,{className:m,style:Oa(Oa({color:t.color||n.color},n.style),t.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),l&&Cs.createElement("title",null,l),t.children)};return WE!==void 0?Cs.createElement(WE.Consumer,null,function(n){return e(n)}):e(CT)}function jC(t){return ai({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"}}]})(t)}function zC(t){return ai({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"}}]})(t)}function BC(t){return ai({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"}}]})(t)}function FC(t){return ai({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M480 192H365.71L260.61 8.06A16.014 16.014 0 0 0 246.71 0h-65.5c-10.63 0-18.3 10.17-15.38 20.39L214.86 192H112l-43.2-57.6c-3.02-4.03-7.77-6.4-12.8-6.4H16.01C5.6 128-2.04 137.78.49 147.88L32 256 .49 364.12C-2.04 374.22 5.6 384 16.01 384H56c5.04 0 9.78-2.37 12.8-6.4L112 320h102.86l-49.03 171.6c-2.92 10.22 4.75 20.4 15.38 20.4h65.5c5.74 0 11.04-3.08 13.89-8.06L365.71 320H480c35.35 0 96-28.65 96-64s-60.65-64-96-64z"}}]})(t)}function HC(t){return ai({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M201.5 174.8l55.7 55.8c3.1 3.1 3.1 8.2 0 11.3l-11.3 11.3c-3.1 3.1-8.2 3.1-11.3 0l-55.7-55.8-45.3 45.3 55.8 55.8c3.1 3.1 3.1 8.2 0 11.3l-11.3 11.3c-3.1 3.1-8.2 3.1-11.3 0L111 265.2l-26.4 26.4c-17.3 17.3-25.6 41.1-23 65.4l7.1 63.6L2.3 487c-3.1 3.1-3.1 8.2 0 11.3l11.3 11.3c3.1 3.1 8.2 3.1 11.3 0l66.3-66.3 63.6 7.1c23.9 2.6 47.9-5.4 65.4-23l181.9-181.9-135.7-135.7-64.9 65zm308.2-93.3L430.5 2.3c-3.1-3.1-8.2-3.1-11.3 0l-11.3 11.3c-3.1 3.1-3.1 8.2 0 11.3l28.3 28.3-45.3 45.3-56.6-56.6-17-17c-3.1-3.1-8.2-3.1-11.3 0l-33.9 33.9c-3.1 3.1-3.1 8.2 0 11.3l17 17L424.8 223l17 17c3.1 3.1 8.2 3.1 11.3 0l33.9-34c3.1-3.1 3.1-8.2 0-11.3l-73.5-73.5 45.3-45.3 28.3 28.3c3.1 3.1 8.2 3.1 11.3 0l11.3-11.3c3.1-3.2 3.1-8.2 0-11.4z"}}]})(t)}function eg(t){return ai({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M268 416h24a12 12 0 0 0 12-12V188a12 12 0 0 0-12-12h-24a12 12 0 0 0-12 12v216a12 12 0 0 0 12 12zM432 80h-82.41l-34-56.7A48 48 0 0 0 274.41 0H173.59a48 48 0 0 0-41.16 23.3L98.41 80H16A16 16 0 0 0 0 96v16a16 16 0 0 0 16 16h16v336a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128h16a16 16 0 0 0 16-16V96a16 16 0 0 0-16-16zM171.84 50.91A6 6 0 0 1 177 48h94a6 6 0 0 1 5.15 2.91L293.61 80H154.39zM368 464H80V128h288zm-212-48h24a12 12 0 0 0 12-12V188a12 12 0 0 0-12-12h-24a12 12 0 0 0-12 12v216a12 12 0 0 0 12 12z"}}]})(t)}function qC(t){return ai({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M217.4 27.43c-27.9.47-53.1 17.11-64.5 42.84l136.5 41.23c6-35.79-15.5-70.49-50.1-81.02-6.2-1.88-12.7-2.91-19.2-3.05h-2.7zm-69.7 60.08c-6.1 35.89 15.4 70.69 50.1 81.19 34.8 10.5 71.9-6.7 86.5-40zm265.5 44.29c-25.3.1-52.2 12.3-72.5 41L215.9 349.7c-33.5 47.4-18.9 97 14.1 120.4 33.1 23.5 84.6 20.8 118.1-26.6l124.7-176.8c33.5-47.5 18.9-97-14.1-120.5-12.4-8.8-27.3-13.9-43-14.4zm-1.8 17.3c1.3 0 2.6 0 3.8.1 12.1.5 23.5 4.8 33.1 11.7 25.7 18.2 38.6 54.5 9.7 95.4l-64.5 91.5c-35.8-9.6-81.8-42.3-102.7-73l64.7-91.6c16.9-23.9 37-33.7 55.9-34.1zM91.25 225.3c-9.62.1-19.11 2.1-27.93 6-33.11 14.5-50.34 51.5-40.24 86.3l130.72-57.1c-13.1-22.1-36.9-35.5-62.55-35.2zm69.65 51.6L30.2 334.1c18.45 31.4 57.3 44 90.6 29.5 33.2-14.6 50.4-51.8 40.1-86.7z"}}]})(t)}function tg(t){return ai({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M405.822 78.899l24.444 24.444L100.485 433.1 76.04 408.657zM168.32 255.677a87.704 87.704 0 0 1 117.196-82.575l43.402-43.402A236.362 236.362 0 0 0 256 118.452a239.715 239.715 0 0 0-84.454 15.616 270.752 270.752 0 0 0-38.861 18.59 293.179 293.179 0 0 0-34.816 23.821 311.884 311.884 0 0 0-29.423 26.507 336.397 336.397 0 0 0-22.681 25.355l-4.46 5.554-3.93 5.267c-2.443 3.204-4.518 6.224-6.2 8.678-1.683 2.455-2.974 4.541-3.85 5.855L26 255.758l1.325 2.063c.876 1.325 2.167 3.457 3.85 5.854 1.682 2.398 3.757 5.475 6.2 8.679l3.93 5.266 4.46 5.555a336.397 336.397 0 0 0 22.68 25.355 311.895 311.895 0 0 0 29.424 26.507q7.145 5.67 14.82 11.018l60.736-60.736a87.508 87.508 0 0 1-5.106-29.642zm316.367-2.086c-.876-1.337-2.166-3.515-3.85-5.889-1.682-2.374-3.756-5.509-6.2-8.736-2.443-3.457-5.255-6.995-8.39-10.867a339.52 339.52 0 0 0-22.68-25.459 311.768 311.768 0 0 0-29.423-26.564 306.188 306.188 0 0 0-17.587-12.954l-59.375 59.375a87.692 87.692 0 0 1-114.35 114.35l-43.31 43.31A240.015 240.015 0 0 0 256 392.913a236.834 236.834 0 0 0 84.454-15.258 269.046 269.046 0 0 0 38.861-18.544 290.32 290.32 0 0 0 34.816-23.822 311.768 311.768 0 0 0 29.423-26.564 339.52 339.52 0 0 0 22.681-25.458c3.146-3.884 5.947-7.457 8.39-10.868 2.443-3.227 4.518-6.247 6.2-8.736 1.683-2.49 2.974-4.61 3.85-5.89L486 255.69z"}}]})(t)}function GC(t){return ai({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}}]})(t)}function $C(t){return ai({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}}]})(t)}const YC="0.1.0048",DT="/MediTrack/assets/MediTrack_logo_svg-vypnj2Mg.svg",KC=()=>{};var QE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NT=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},WC=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const s=t[n++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const l=t[n++];e[i++]=String.fromCharCode((s&31)<<6|l&63)}else if(s>239&&s<365){const l=t[n++],c=t[n++],d=t[n++],m=((s&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(m>>10)),e[i++]=String.fromCharCode(56320+(m&1023))}else{const l=t[n++],c=t[n++];e[i++]=String.fromCharCode((s&15)<<12|(l&63)<<6|c&63)}}return e.join("")},xT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<t.length;s+=3){const l=t[s],c=s+1<t.length,d=c?t[s+1]:0,m=s+2<t.length,g=m?t[s+2]:0,v=l>>2,b=(l&3)<<4|d>>4;let T=(d&15)<<2|g>>6,R=g&63;m||(R=64,c||(T=64)),i.push(n[v],n[b],n[T],n[R])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(NT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):WC(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<t.length;){const l=n[t.charAt(s++)],d=s<t.length?n[t.charAt(s)]:0;++s;const g=s<t.length?n[t.charAt(s)]:64;++s;const b=s<t.length?n[t.charAt(s)]:64;if(++s,l==null||d==null||g==null||b==null)throw new QC;const T=l<<2|d>>4;if(i.push(T),g!==64){const R=d<<4&240|g>>2;if(i.push(R),b!==64){const O=g<<6&192|b;i.push(O)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class QC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const XC=function(t){const e=NT(t);return xT.encodeByteArray(e,!0)},ph=function(t){return XC(t).replace(/\./g,"")},PT=function(t){try{return xT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC=()=>JC().__FIREBASE_DEFAULTS__,eO=()=>{if(typeof process>"u"||typeof QE>"u")return;const t=QE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},tO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&PT(t[1]);return e&&JSON.parse(e)},$h=()=>{try{return KC()||ZC()||eO()||tO()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},MT=t=>{var e,n;return(n=(e=$h())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},nO=t=>{const e=MT(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},kT=()=>{var t;return(t=$h())===null||t===void 0?void 0:t.config},VT=t=>{var e;return(e=$h())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ul(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function LT(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iO(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",s=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},t);return[ph(JSON.stringify(n)),ph(JSON.stringify(c)),""].join(".")}const Du={};function aO(){const t={prod:[],emulator:[]};for(const e of Object.keys(Du))Du[e]?t.emulator.push(e):t.prod.push(e);return t}function sO(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let XE=!1;function UT(t,e){if(typeof window>"u"||typeof document>"u"||!ul(window.location.host)||Du[t]===e||Du[t]||XE)return;Du[t]=e;function n(T){return`__firebase__banner__${T}`}const i="__firebase__banner",l=aO().prod.length>0;function c(){const T=document.getElementById(i);T&&T.remove()}function d(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function m(T,R){T.setAttribute("width","24"),T.setAttribute("id",R),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function g(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{XE=!0,c()},T}function v(T,R){T.setAttribute("id",R),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function b(){const T=sO(i),R=n("text"),O=document.getElementById(R)||document.createElement("span"),j=n("learnmore"),L=document.getElementById(j)||document.createElement("a"),z=n("preprendIcon"),te=document.getElementById(z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const H=T.element;d(H),v(L,j);const K=g();m(te,z),H.append(te,O,L,K),document.body.appendChild(H)}l?(O.innerText="Preview backend disconnected.",te.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(te.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,O.innerText="Preview backend running in this workspace."),O.setAttribute("id",R)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _n(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function oO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_n())}function lO(){var t;const e=(t=$h())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function uO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function jT(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function cO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function fO(){const t=_n();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function hO(){return!lO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function zT(){try{return typeof indexedDB=="object"}catch{return!1}}function BT(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var l;e(((l=s.error)===null||l===void 0?void 0:l.message)||"")}}catch(n){e(n)}})}function dO(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mO="FirebaseError";class Ir extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=mO,Object.setPrototypeOf(this,Ir.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zs.prototype.create)}}class zs{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},s=`${this.service}/${e}`,l=this.errors[e],c=l?pO(l,i):"Error",d=`${this.serviceName}: ${c} (${s}).`;return new Ir(s,d,i)}}function pO(t,e){return t.replace(gO,(n,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const gO=/\{\$([^}]+)}/g;function yO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ma(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const s of n){if(!i.includes(s))return!1;const l=t[s],c=e[s];if(JE(l)&&JE(c)){if(!Ma(l,c))return!1}else if(l!==c)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function JE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ic(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Tu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[s,l]=i.split("=");e[decodeURIComponent(s)]=decodeURIComponent(l)}}),e}function wu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function vO(t,e){const n=new _O(t,e);return n.subscribe.bind(n)}class _O{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let s;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");EO(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:i},s.next===void 0&&(s.next=Op),s.error===void 0&&(s.error=Op),s.complete===void 0&&(s.complete=Op);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function EO(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Op(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bO=1e3,TO=2,wO=4*60*60*1e3,SO=.5;function ZE(t,e=bO,n=TO){const i=e*Math.pow(n,t),s=Math.round(SO*i*(Math.random()-.5)*2);return Math.min(wO,i+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hn(t){return t&&t._delegate?t._delegate:t}class Ar{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ss="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new rO;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e?.identifier),s=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(IO(e))try{this.getOrInitializeService({instanceIdentifier:Ss})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:s});i.resolve(l)}catch{}}}}clearInstance(e=Ss){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ss){return this.instances.has(e)}getOptions(e=Ss){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);i===d&&c.resolve(s)}return s}onInit(e,n){var i;const s=this.normalizeInstanceIdentifier(n),l=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(s,l);const c=this.instances.get(s);return c&&e(c,s),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const s of i)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:RO(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Ss){return this.component?this.component.multipleInstances?e:Ss:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function RO(t){return t===Ss?void 0:t}function IO(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new AO(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Le||(Le={}));const OO={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},DO=Le.INFO,NO={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},xO=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),s=NO[e];if(s)console[s](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Yh{constructor(e){this.name=e,this._logLevel=DO,this._logHandler=xO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?OO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const PO=(t,e)=>e.some(n=>t instanceof n);let eb,tb;function MO(){return eb||(eb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function kO(){return tb||(tb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const FT=new WeakMap,ng=new WeakMap,HT=new WeakMap,Dp=new WeakMap,ry=new WeakMap;function VO(t){const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{n(Da(t.result)),s()},c=()=>{i(t.error),s()};t.addEventListener("success",l),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&FT.set(n,t)}).catch(()=>{}),ry.set(e,t),e}function LO(t){if(ng.has(t))return;const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{n(),s()},c=()=>{i(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});ng.set(t,e)}let rg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ng.get(t);if(e==="objectStoreNames")return t.objectStoreNames||HT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Da(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function UO(t){rg=t(rg)}function jO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Np(this),e,...n);return HT.set(i,e.sort?e.sort():[e]),Da(i)}:kO().includes(t)?function(...e){return t.apply(Np(this),e),Da(FT.get(this))}:function(...e){return Da(t.apply(Np(this),e))}}function zO(t){return typeof t=="function"?jO(t):(t instanceof IDBTransaction&&LO(t),PO(t,MO())?new Proxy(t,rg):t)}function Da(t){if(t instanceof IDBRequest)return VO(t);if(Dp.has(t))return Dp.get(t);const e=zO(t);return e!==t&&(Dp.set(t,e),ry.set(e,t)),e}const Np=t=>ry.get(t);function qT(t,e,{blocked:n,upgrade:i,blocking:s,terminated:l}={}){const c=indexedDB.open(t,e),d=Da(c);return i&&c.addEventListener("upgradeneeded",m=>{i(Da(c.result),m.oldVersion,m.newVersion,Da(c.transaction),m)}),n&&c.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),d.then(m=>{l&&m.addEventListener("close",()=>l()),s&&m.addEventListener("versionchange",g=>s(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const BO=["get","getKey","getAll","getAllKeys","count"],FO=["put","add","delete","clear"],xp=new Map;function nb(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(xp.get(e))return xp.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,s=FO.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||BO.includes(n)))return;const l=async function(c,...d){const m=this.transaction(c,s?"readwrite":"readonly");let g=m.store;return i&&(g=g.index(d.shift())),(await Promise.all([g[n](...d),s&&m.done]))[0]};return xp.set(e,l),l}UO(t=>({...t,get:(e,n,i)=>nb(e,n)||t.get(e,n,i),has:(e,n)=>!!nb(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(qO(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function qO(t){const e=t.getComponent();return e?.type==="VERSION"}const ig="@firebase/app",rb="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bi=new Yh("@firebase/app"),GO="@firebase/app-compat",$O="@firebase/analytics-compat",YO="@firebase/analytics",KO="@firebase/app-check-compat",WO="@firebase/app-check",QO="@firebase/auth",XO="@firebase/auth-compat",JO="@firebase/database",ZO="@firebase/data-connect",eD="@firebase/database-compat",tD="@firebase/functions",nD="@firebase/functions-compat",rD="@firebase/installations",iD="@firebase/installations-compat",aD="@firebase/messaging",sD="@firebase/messaging-compat",oD="@firebase/performance",lD="@firebase/performance-compat",uD="@firebase/remote-config",cD="@firebase/remote-config-compat",fD="@firebase/storage",hD="@firebase/storage-compat",dD="@firebase/firestore",mD="@firebase/ai",pD="@firebase/firestore-compat",gD="firebase",yD="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ag="[DEFAULT]",vD={[ig]:"fire-core",[GO]:"fire-core-compat",[YO]:"fire-analytics",[$O]:"fire-analytics-compat",[WO]:"fire-app-check",[KO]:"fire-app-check-compat",[QO]:"fire-auth",[XO]:"fire-auth-compat",[JO]:"fire-rtdb",[ZO]:"fire-data-connect",[eD]:"fire-rtdb-compat",[tD]:"fire-fn",[nD]:"fire-fn-compat",[rD]:"fire-iid",[iD]:"fire-iid-compat",[aD]:"fire-fcm",[sD]:"fire-fcm-compat",[oD]:"fire-perf",[lD]:"fire-perf-compat",[uD]:"fire-rc",[cD]:"fire-rc-compat",[fD]:"fire-gcs",[hD]:"fire-gcs-compat",[dD]:"fire-fst",[pD]:"fire-fst-compat",[mD]:"fire-vertex","fire-js":"fire-js",[gD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gh=new Map,_D=new Map,sg=new Map;function ib(t,e){try{t.container.addComponent(e)}catch(n){Bi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ti(t){const e=t.name;if(sg.has(e))return Bi.debug(`There were multiple attempts to register component ${e}.`),!1;sg.set(e,t);for(const n of gh.values())ib(n,t);for(const n of _D.values())ib(n,t);return!0}function Bs(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function or(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ED={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Na=new zs("app","Firebase",ED);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ar("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Na.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cl=yD;function GT(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:ag,automaticDataCollectionEnabled:!0},e),s=i.name;if(typeof s!="string"||!s)throw Na.create("bad-app-name",{appName:String(s)});if(n||(n=kT()),!n)throw Na.create("no-options");const l=gh.get(s);if(l){if(Ma(n,l.options)&&Ma(i,l.config))return l;throw Na.create("duplicate-app",{appName:s})}const c=new CO(s);for(const m of sg.values())c.addComponent(m);const d=new bD(n,i,c);return gh.set(s,d),d}function iy(t=ag){const e=gh.get(t);if(!e&&t===ag&&kT())return GT();if(!e)throw Na.create("no-app",{appName:t});return e}function cr(t,e,n){var i;let s=(i=vD[t])!==null&&i!==void 0?i:t;n&&(s+=`-${n}`);const l=s.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${s}" with version "${e}":`];l&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Bi.warn(d.join(" "));return}ti(new Ar(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TD="firebase-heartbeat-database",wD=1,ju="firebase-heartbeat-store";let Pp=null;function $T(){return Pp||(Pp=qT(TD,wD,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ju)}catch(n){console.warn(n)}}}}).catch(t=>{throw Na.create("idb-open",{originalErrorMessage:t.message})})),Pp}async function SD(t){try{const n=(await $T()).transaction(ju),i=await n.objectStore(ju).get(YT(t));return await n.done,i}catch(e){if(e instanceof Ir)Bi.warn(e.message);else{const n=Na.create("idb-get",{originalErrorMessage:e?.message});Bi.warn(n.message)}}}async function ab(t,e){try{const i=(await $T()).transaction(ju,"readwrite");await i.objectStore(ju).put(e,YT(t)),await i.done}catch(n){if(n instanceof Ir)Bi.warn(n.message);else{const i=Na.create("idb-set",{originalErrorMessage:n?.message});Bi.warn(i.message)}}}function YT(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AD=1024,RD=30;class ID{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new OD(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=sb();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:s}),this._heartbeatsCache.heartbeats.length>RD){const c=DD(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Bi.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=sb(),{heartbeatsToSend:i,unsentEntries:s}=CD(this._heartbeatsCache.heartbeats),l=ph(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return Bi.warn(n),""}}}function sb(){return new Date().toISOString().substring(0,10)}function CD(t,e=AD){const n=[];let i=t.slice();for(const s of t){const l=n.find(c=>c.agent===s.agent);if(l){if(l.dates.push(s.date),ob(n)>e){l.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),ob(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class OD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return zT()?BT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await SD(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return ab(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return ab(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function ob(t){return ph(JSON.stringify({version:2,heartbeats:t})).length}function DD(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ND(t){ti(new Ar("platform-logger",e=>new HO(e),"PRIVATE")),ti(new Ar("heartbeat",e=>new ID(e),"PRIVATE")),cr(ig,rb,t),cr(ig,rb,"esm2017"),cr("fire-js","")}ND("");function ay(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n}function KT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const xD=KT,WT=new zs("auth","Firebase",KT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yh=new Yh("@firebase/auth");function PD(t,...e){yh.logLevel<=Le.WARN&&yh.warn(`Auth (${cl}): ${t}`,...e)}function nh(t,...e){yh.logLevel<=Le.ERROR&&yh.error(`Auth (${cl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rr(t,...e){throw sy(t,...e)}function Kr(t,...e){return sy(t,...e)}function QT(t,e,n){const i=Object.assign(Object.assign({},xD()),{[e]:n});return new zs("auth","Firebase",i).create(e,{appName:t.name})}function Li(t){return QT(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function sy(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return WT.create(t,...e)}function be(t,e,...n){if(!t)throw sy(e,...n)}function Mi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw nh(e),new Error(e)}function Fi(t,e){t||Mi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function og(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function MD(){return lb()==="http:"||lb()==="https:"}function lb(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(MD()||jT()||"connection"in navigator)?navigator.onLine:!0}function VD(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(e,n){this.shortDelay=e,this.longDelay=n,Fi(n>e,"Short delay should be less than long delay!"),this.isMobile=oO()||cO()}get(){return kD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oy(t,e){Fi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Mi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Mi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Mi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],jD=new ac(3e4,6e4);function Fa(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ha(t,e,n,i,s={}){return JT(t,s,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const d=ic(Object.assign({key:t.config.apiKey},c)).slice(1),m=await t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);const g=Object.assign({method:e,headers:m},l);return uO()||(g.referrerPolicy="no-referrer"),t.emulatorConfig&&ul(t.emulatorConfig.host)&&(g.credentials="include"),XT.fetch()(await ZT(t,t.config.apiHost,n,d),g)})}async function JT(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},LD),e);try{const s=new BD(t),l=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Uf(t,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[m,g]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Uf(t,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw Uf(t,"email-already-in-use",c);if(m==="USER_DISABLED")throw Uf(t,"user-disabled",c);const v=i[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw QT(t,v,g);Rr(t,v)}}catch(s){if(s instanceof Ir)throw s;Rr(t,"network-request-failed",{message:String(s)})}}async function sc(t,e,n,i,s={}){const l=await Ha(t,e,n,i,s);return"mfaPendingCredential"in l&&Rr(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function ZT(t,e,n,i){const s=`${e}${n}?${i}`,l=t,c=l.config.emulator?oy(t.config,s):`${t.config.apiScheme}://${s}`;return UD.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function zD(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class BD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Kr(this.auth,"network-request-failed")),jD.get())})}}function Uf(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const s=Kr(t,e,i);return s.customData._tokenResponse=n,s}function ub(t){return t!==void 0&&t.enterprise!==void 0}class FD{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return zD(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function HD(t,e){return Ha(t,"GET","/v2/recaptchaConfig",Fa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qD(t,e){return Ha(t,"POST","/v1/accounts:delete",e)}async function vh(t,e){return Ha(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function GD(t,e=!1){const n=hn(t),i=await n.getIdToken(e),s=ly(i);be(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const l=typeof s.firebase=="object"?s.firebase:void 0,c=l?.sign_in_provider;return{claims:s,token:i,authTime:Nu(Mp(s.auth_time)),issuedAtTime:Nu(Mp(s.iat)),expirationTime:Nu(Mp(s.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Mp(t){return Number(t)*1e3}function ly(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return nh("JWT malformed, contained fewer than 3 sections"),null;try{const s=PT(n);return s?JSON.parse(s):(nh("Failed to decode base64 JWT payload"),null)}catch(s){return nh("Caught error parsing JWT payload as JSON",s?.toString()),null}}function cb(t){const e=ly(t);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zu(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof Ir&&$D(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function $D({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Nu(this.lastLoginAt),this.creationTime=Nu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bu(t){var e;const n=t.auth,i=await t.getIdToken(),s=await zu(t,vh(n,{idToken:i}));be(s?.users.length,n,"internal-error");const l=s.users[0];t._notifyReloadListener(l);const c=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?ew(l.providerUserInfo):[],d=WD(t.providerData,c),m=t.isAnonymous,g=!(t.email&&l.passwordHash)&&!d?.length,v=m?g:!1,b={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new lg(l.createdAt,l.lastLoginAt),isAnonymous:v};Object.assign(t,b)}async function KD(t){const e=hn(t);await Bu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function WD(t,e){return[...t.filter(i=>!e.some(s=>s.providerId===i.providerId)),...e]}function ew(t){return t.map(e=>{var{providerId:n}=e,i=ay(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QD(t,e){const n=await JT(t,{},async()=>{const i=ic({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:l}=t.config,c=await ZT(t,s,"/v1/token",`key=${l}`),d=await t._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:d,body:i};return t.emulatorConfig&&ul(t.emulatorConfig.host)&&(m.credentials="include"),XT.fetch()(c,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function XD(t,e){return Ha(t,"POST","/v2/accounts:revokeToken",Fa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):cb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){be(e.length!==0,"internal-error");const n=cb(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:s,expiresIn:l}=await QD(e,n);this.updateTokensAndExpiration(i,s,Number(l))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:s,expirationTime:l}=n,c=new Xo;return i&&(be(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),s&&(be(typeof s=="string","internal-error",{appName:e}),c.accessToken=s),l&&(be(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Xo,this.toJSON())}_performRefresh(){return Mi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ta(t,e){be(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class wr{constructor(e){var{uid:n,auth:i,stsTokenManager:s}=e,l=ay(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new YD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new lg(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await zu(this,this.stsTokenManager.getToken(this.auth,e));return be(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return GD(this,e)}reload(){return KD(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new wr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await Bu(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(or(this.auth.app))return Promise.reject(Li(this.auth));const e=await this.getIdToken();return await zu(this,qD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,s,l,c,d,m,g,v;const b=(i=n.displayName)!==null&&i!==void 0?i:void 0,T=(s=n.email)!==null&&s!==void 0?s:void 0,R=(l=n.phoneNumber)!==null&&l!==void 0?l:void 0,O=(c=n.photoURL)!==null&&c!==void 0?c:void 0,j=(d=n.tenantId)!==null&&d!==void 0?d:void 0,L=(m=n._redirectEventId)!==null&&m!==void 0?m:void 0,z=(g=n.createdAt)!==null&&g!==void 0?g:void 0,te=(v=n.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:H,emailVerified:K,isAnonymous:J,providerData:ee,stsTokenManager:D}=n;be(H&&D,e,"internal-error");const A=Xo.fromJSON(this.name,D);be(typeof H=="string",e,"internal-error"),Ta(b,e.name),Ta(T,e.name),be(typeof K=="boolean",e,"internal-error"),be(typeof J=="boolean",e,"internal-error"),Ta(R,e.name),Ta(O,e.name),Ta(j,e.name),Ta(L,e.name),Ta(z,e.name),Ta(te,e.name);const I=new wr({uid:H,auth:e,email:T,emailVerified:K,displayName:b,isAnonymous:J,photoURL:O,phoneNumber:R,tenantId:j,stsTokenManager:A,createdAt:z,lastLoginAt:te});return ee&&Array.isArray(ee)&&(I.providerData=ee.map(k=>Object.assign({},k))),L&&(I._redirectEventId=L),I}static async _fromIdTokenResponse(e,n,i=!1){const s=new Xo;s.updateFromServerResponse(n);const l=new wr({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:i});return await Bu(l),l}static async _fromGetAccountInfoResponse(e,n,i){const s=n.users[0];be(s.localId!==void 0,"internal-error");const l=s.providerUserInfo!==void 0?ew(s.providerUserInfo):[],c=!(s.email&&s.passwordHash)&&!l?.length,d=new Xo;d.updateFromIdToken(i);const m=new wr({uid:s.localId,auth:e,stsTokenManager:d,isAnonymous:c}),g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new lg(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!l?.length};return Object.assign(m,g),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fb=new Map;function ki(t){Fi(t instanceof Function,"Expected a class definition");let e=fb.get(t);return e?(Fi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,fb.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}tw.type="NONE";const hb=tw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rh(t,e,n){return`firebase:${t}:${e}:${n}`}class Jo{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:s,name:l}=this.auth;this.fullUserKey=rh(this.userKey,s.apiKey,l),this.fullPersistenceKey=rh("persistence",s.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await vh(this.auth,{idToken:e}).catch(()=>{});return n?wr._fromGetAccountInfoResponse(this.auth,n,e):null}return wr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Jo(ki(hb),e,i);const s=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=s[0]||ki(hb);const c=rh(i,e.config.apiKey,e.name);let d=null;for(const g of n)try{const v=await g._get(c);if(v){let b;if(typeof v=="string"){const T=await vh(e,{idToken:v}).catch(()=>{});if(!T)break;b=await wr._fromGetAccountInfoResponse(e,T,v)}else b=wr._fromJSON(e,v);g!==l&&(d=b),l=g;break}}catch{}const m=s.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new Jo(l,e,i):(l=m[0],d&&await l._set(c,d.toJSON()),await Promise.all(n.map(async g=>{if(g!==l)try{await g._remove(c)}catch{}})),new Jo(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function db(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(aw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(nw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ow(e))return"Blackberry";if(lw(e))return"Webos";if(rw(e))return"Safari";if((e.includes("chrome/")||iw(e))&&!e.includes("edge/"))return"Chrome";if(sw(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if(i?.length===2)return i[1]}return"Other"}function nw(t=_n()){return/firefox\//i.test(t)}function rw(t=_n()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function iw(t=_n()){return/crios\//i.test(t)}function aw(t=_n()){return/iemobile/i.test(t)}function sw(t=_n()){return/android/i.test(t)}function ow(t=_n()){return/blackberry/i.test(t)}function lw(t=_n()){return/webos/i.test(t)}function uy(t=_n()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function JD(t=_n()){var e;return uy(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function ZD(){return fO()&&document.documentMode===10}function uw(t=_n()){return uy(t)||sw(t)||lw(t)||ow(t)||/windows phone/i.test(t)||aw(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cw(t,e=[]){let n;switch(t){case"Browser":n=db(_n());break;case"Worker":n=`${db(_n())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${cl}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=l=>new Promise((c,d)=>{try{const m=e(l);c(m)}catch(m){d(m)}});i.onAbort=n,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tN(t,e={}){return Ha(t,"GET","/v2/passwordPolicy",Fa(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nN=6;class rN{constructor(e){var n,i,s,l;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=c.minPasswordLength)!==null&&n!==void 0?n:nN,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,s,l,c,d;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,m),this.validatePasswordCharacterOptions(e,m),m.isValid&&(m.isValid=(n=m.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),m.isValid&&(m.isValid=(i=m.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),m.isValid&&(m.isValid=(s=m.containsLowercaseLetter)!==null&&s!==void 0?s:!0),m.isValid&&(m.isValid=(l=m.containsUppercaseLetter)!==null&&l!==void 0?l:!0),m.isValid&&(m.isValid=(c=m.containsNumericCharacter)!==null&&c!==void 0?c:!0),m.isValid&&(m.isValid=(d=m.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),m}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let s=0;s<e.length;s++)i=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,s,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(e,n,i,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new mb(this),this.idTokenSubscription=new mb(this),this.beforeStateQueue=new eN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=WT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ki(n)),this._initializationPromise=this.queue(async()=>{var i,s,l;if(!this._deleted&&(this.persistenceManager=await Jo.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await vh(this,{idToken:e}),i=await wr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(or(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,d=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!c||c===d)&&m?.user&&(s=m.user,l=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Bu(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=VD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(or(this.app))return Promise.reject(Li(this));const n=e?hn(e):null;return n&&be(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return or(this.app)?Promise.reject(Li(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return or(this.app)?Promise.reject(Li(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ki(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await tN(this),n=new rN(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new zs("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await XD(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ki(e)||this._popupRedirectResolver;be(n,this,"argument-error"),this.redirectPersistenceManager=await Jo.create(this,[ki(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,s){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const m=e.addObserver(n,i,s);return()=>{c=!0,m()}}else{const m=e.addObserver(n);return()=>{c=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=cw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(or(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n?.error&&PD(`Error while retrieving App Check token: ${n.error}`),n?.token}}function Fs(t){return hn(t)}class mb{constructor(e){this.auth=e,this.observer=null,this.addObserver=vO(n=>this.observer=n)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function aN(t){Kh=t}function fw(t){return Kh.loadJS(t)}function sN(){return Kh.recaptchaEnterpriseScript}function oN(){return Kh.gapiScript}function lN(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class uN{constructor(){this.enterprise=new cN}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class cN{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const fN="recaptcha-enterprise",hw="NO_RECAPTCHA";class hN{constructor(e){this.type=fN,this.auth=Fs(e)}async verify(e="verify",n=!1){async function i(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,d)=>{HD(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new FD(m);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,c(g.siteKey)}}).catch(m=>{d(m)})})}function s(l,c,d){const m=window.grecaptcha;ub(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:e}).then(g=>{c(g)}).catch(()=>{c(hw)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new uN().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{i(this.auth).then(d=>{if(!n&&ub(window.grecaptcha))s(d,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let m=sN();m.length!==0&&(m+=d),fw(m).then(()=>{s(d,l,c)}).catch(g=>{c(g)})}}).catch(d=>{c(d)})})}}async function pb(t,e,n,i=!1,s=!1){const l=new hN(t);let c;if(s)c=hw;else try{c=await l.verify(n)}catch{c=await l.verify(n,!0)}const d=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const m=d.phoneEnrollmentInfo.phoneNumber,g=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const m=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return i?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function ug(t,e,n,i,s){var l;if(!((l=t._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await pb(t,e,n,n==="getOobCode");return i(t,c)}else return i(t,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await pb(t,e,n,n==="getOobCode");return i(t,d)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dN(t,e){const n=Bs(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),l=n.getOptions();if(Ma(l,e??{}))return s;Rr(s,"already-initialized")}return n.initialize({options:e})}function mN(t,e){const n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(ki);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e?.popupRedirectResolver)}function pN(t,e,n){const i=Fs(t);be(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const s=!1,l=dw(e),{host:c,port:d}=gN(e),m=d===null?"":`:${d}`,g={url:`${l}//${c}${m}/`},v=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!i._canInitEmulator){be(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),be(Ma(g,i.config.emulator)&&Ma(v,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=g,i.emulatorConfig=v,i.settings.appVerificationDisabledForTesting=!0,ul(c)?(LT(`${l}//${c}${m}`),UT("Auth",!0)):yN()}function dw(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function gN(t){const e=dw(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const l=s[1];return{host:l,port:gb(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:gb(c)}}}function gb(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function yN(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cy{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Mi("not implemented")}_getIdTokenResponse(e){return Mi("not implemented")}_linkToIdToken(e,n){return Mi("not implemented")}_getReauthenticationResolver(e){return Mi("not implemented")}}async function vN(t,e){return Ha(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _N(t,e){return sc(t,"POST","/v1/accounts:signInWithPassword",Fa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EN(t,e){return sc(t,"POST","/v1/accounts:signInWithEmailLink",Fa(t,e))}async function bN(t,e){return sc(t,"POST","/v1/accounts:signInWithEmailLink",Fa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu extends cy{constructor(e,n,i,s=null){super("password",i),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Fu(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new Fu(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ug(e,n,"signInWithPassword",_N);case"emailLink":return EN(e,{email:this._email,oobCode:this._password});default:Rr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ug(e,i,"signUpPassword",vN);case"emailLink":return bN(e,{idToken:n,email:this._email,oobCode:this._password});default:Rr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zo(t,e){return sc(t,"POST","/v1/accounts:signInWithIdp",Fa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TN="http://localhost";class Ns extends cy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ns(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Rr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:s}=n,l=ay(n,["providerId","signInMethod"]);if(!i||!s)return null;const c=new Ns(i,s);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return Zo(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,Zo(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Zo(e,n)}buildRequest(){const e={requestUri:TN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ic(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wN(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function SN(t){const e=Tu(wu(t)).link,n=e?Tu(wu(e)).deep_link_id:null,i=Tu(wu(t)).deep_link_id;return(i?Tu(wu(i)).link:null)||i||n||e||t}class fy{constructor(e){var n,i,s,l,c,d;const m=Tu(wu(e)),g=(n=m.apiKey)!==null&&n!==void 0?n:null,v=(i=m.oobCode)!==null&&i!==void 0?i:null,b=wN((s=m.mode)!==null&&s!==void 0?s:null);be(g&&v&&b,"argument-error"),this.apiKey=g,this.operation=b,this.code=v,this.continueUrl=(l=m.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(c=m.lang)!==null&&c!==void 0?c:null,this.tenantId=(d=m.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const n=SN(e);try{return new fy(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(){this.providerId=Hs.PROVIDER_ID}static credential(e,n){return Fu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=fy.parseLink(n);return be(i,"argument-error"),Fu._fromEmailAndCode(e,i.code,i.tenantId)}}Hs.PROVIDER_ID="password";Hs.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Hs.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc extends mw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa extends oc{constructor(){super("facebook.com")}static credential(e){return Ns._fromParams({providerId:wa.PROVIDER_ID,signInMethod:wa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return wa.credentialFromTaggedObject(e)}static credentialFromError(e){return wa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return wa.credential(e.oauthAccessToken)}catch{return null}}}wa.FACEBOOK_SIGN_IN_METHOD="facebook.com";wa.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa extends oc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ns._fromParams({providerId:Sa.PROVIDER_ID,signInMethod:Sa.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Sa.credentialFromTaggedObject(e)}static credentialFromError(e){return Sa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Sa.credential(n,i)}catch{return null}}}Sa.GOOGLE_SIGN_IN_METHOD="google.com";Sa.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa extends oc{constructor(){super("github.com")}static credential(e){return Ns._fromParams({providerId:Aa.PROVIDER_ID,signInMethod:Aa.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Aa.credentialFromTaggedObject(e)}static credentialFromError(e){return Aa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Aa.credential(e.oauthAccessToken)}catch{return null}}}Aa.GITHUB_SIGN_IN_METHOD="github.com";Aa.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra extends oc{constructor(){super("twitter.com")}static credential(e,n){return Ns._fromParams({providerId:Ra.PROVIDER_ID,signInMethod:Ra.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ra.credentialFromTaggedObject(e)}static credentialFromError(e){return Ra.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return Ra.credential(n,i)}catch{return null}}}Ra.TWITTER_SIGN_IN_METHOD="twitter.com";Ra.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AN(t,e){return sc(t,"POST","/v1/accounts:signUp",Fa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,s=!1){const l=await wr._fromIdTokenResponse(e,i,s),c=yb(i);return new xs({user:l,providerId:c,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const s=yb(i);return new xs({user:e,providerId:s,_tokenResponse:i,operationType:n})}}function yb(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h extends Ir{constructor(e,n,i,s){var l;super(n.code,n.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,_h.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,s){return new _h(e,n,i,s)}}function pw(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?_h._fromErrorAndOperation(t,l,e,i):l})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RN(t){return new Set(t.map(({providerId:e})=>e).filter(e=>!!e))}async function gw(t,e,n=!1){const i=await zu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return xs._forOperation(t,"link",i)}async function IN(t,e,n){await Bu(e);const i=RN(e.providerData);be(i.has(n)===t,e.auth,"provider-already-linked")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CN(t,e,n=!1){const{auth:i}=t;if(or(i.app))return Promise.reject(Li(i));const s="reauthenticate";try{const l=await zu(t,pw(i,s,e,t),n);be(l.idToken,i,"internal-error");const c=ly(l.idToken);be(c,i,"internal-error");const{sub:d}=c;return be(t.uid===d,i,"user-mismatch"),xs._forOperation(t,s,l)}catch(l){throw l?.code==="auth/user-not-found"&&Rr(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yw(t,e,n=!1){if(or(t.app))return Promise.reject(Li(t));const i="signIn",s=await pw(t,i,e),l=await xs._fromIdTokenResponse(t,i,s);return n||await t._updateCurrentUser(l.user),l}async function ON(t,e){return yw(Fs(t),e)}async function DN(t,e){const n=hn(t);return await IN(!1,n,e.providerId),gw(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vw(t){const e=Fs(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function NN(t,e,n){if(or(t.app))return Promise.reject(Li(t));const i=Fs(t),c=await ug(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",AN).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&vw(t),m}),d=await xs._fromIdTokenResponse(i,"signIn",c);return await i._updateCurrentUser(d.user),d}function xN(t,e,n){return or(t.app)?Promise.reject(Li(t)):ON(hn(t),Hs.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&vw(t),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PN(t,e){return hn(t).setPersistence(e)}function MN(t,e,n,i){return hn(t).onIdTokenChanged(e,n,i)}function kN(t,e,n){return hn(t).beforeAuthStateChanged(e,n)}function VN(t,e,n,i){return hn(t).onAuthStateChanged(e,n,i)}function LN(t){return hn(t).signOut()}const Eh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Eh,"1"),this.storage.removeItem(Eh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UN=1e3,jN=10;class Ew extends _w{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=uw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),s=this.localCache[n];i!==s&&e(n,s,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,d,m)=>{this.notifyListeners(c,m)});return}const i=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const c=this.storage.getItem(i);!n&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);ZD()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,jN):s()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},UN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Ew.type="LOCAL";const bw=Ew;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw extends _w{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Tw.type="SESSION";const ww=Tw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zN(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const i=new Wh(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:s,data:l}=n.data,c=this.handlersMap[s];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const d=Array.from(c).map(async g=>g(n.origin,l)),m=await zN(d);n.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Wh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hy(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let l,c;return new Promise((d,m)=>{const g=hy("",20);s.port1.start();const v=setTimeout(()=>{m(new Error("unsupported_event"))},i);c={messageChannel:s,onMessage(b){const T=b;if(T.data.eventId===g)switch(T.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(T.data.response);break;default:clearTimeout(v),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),s.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[s.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wr(){return window}function FN(t){Wr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sw(){return typeof Wr().WorkerGlobalScope<"u"&&typeof Wr().importScripts=="function"}async function HN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function qN(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function GN(){return Sw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aw="firebaseLocalStorageDb",$N=1,bh="firebaseLocalStorage",Rw="fbase_key";class lc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Qh(t,e){return t.transaction([bh],e?"readwrite":"readonly").objectStore(bh)}function YN(){const t=indexedDB.deleteDatabase(Aw);return new lc(t).toPromise()}function cg(){const t=indexedDB.open(Aw,$N);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(bh,{keyPath:Rw})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(bh)?e(i):(i.close(),await YN(),e(await cg()))})})}async function vb(t,e,n){const i=Qh(t,!0).put({[Rw]:e,value:n});return new lc(i).toPromise()}async function KN(t,e){const n=Qh(t,!1).get(e),i=await new lc(n).toPromise();return i===void 0?null:i.value}function _b(t,e){const n=Qh(t,!0).delete(e);return new lc(n).toPromise()}const WN=800,QN=3;class Iw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await cg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>QN)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Sw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Wh._getInstance(GN()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await HN(),!this.activeServiceWorker)return;this.sender=new BN(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||qN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await cg();return await vb(e,Eh,"1"),await _b(e,Eh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>vb(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>KN(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>_b(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const l=Qh(s,!1).getAll();return new lc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:s,value:l}of e)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(l)&&(this.notifyListeners(s,l),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),WN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Iw.type="LOCAL";const XN=Iw;new ac(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JN(t,e){return e?ki(e):(be(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy extends cy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Zo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Zo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Zo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function ZN(t){return yw(t.auth,new dy(t),t.bypassAuthState)}function ex(t){const{auth:e,user:n}=t;return be(n,e,"internal-error"),CN(n,new dy(t),t.bypassAuthState)}async function tx(t){const{auth:e,user:n}=t;return be(n,e,"internal-error"),gw(n,new dy(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{constructor(e,n,i,s,l=!1){this.auth=e,this.resolver=i,this.user=s,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:s,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:n,sessionId:i,tenantId:l||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ZN;case"linkViaPopup":case"linkViaRedirect":return tx;case"reauthViaPopup":case"reauthViaRedirect":return ex;default:Rr(this.auth,"internal-error")}}resolve(e){Fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nx=new ac(2e3,1e4);class Ko extends Cw{constructor(e,n,i,s,l){super(e,n,s,l),this.provider=i,this.authWindow=null,this.pollId=null,Ko.currentPopupAction&&Ko.currentPopupAction.cancel(),Ko.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return be(e,this.auth,"internal-error"),e}async onExecution(){Fi(this.filter.length===1,"Popup operations only handle one event");const e=hy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Kr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Kr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ko.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Kr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,nx.get())};e()}}Ko.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rx="pendingRedirect",ih=new Map;class ix extends Cw{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=ih.get(this.auth._key());if(!e){try{const i=await ax(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}ih.set(this.auth._key(),e)}return this.bypassAuthState||ih.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ax(t,e){const n=lx(e),i=ox(t);if(!await i._isAvailable())return!1;const s=await i._get(n)==="true";return await i._remove(n),s}function sx(t,e){ih.set(t._key(),e)}function ox(t){return ki(t._redirectPersistence)}function lx(t){return rh(rx,t.config.apiKey,t.name)}async function ux(t,e,n=!1){if(or(t.app))return Promise.reject(Li(t));const i=Fs(t),s=JN(i,e),c=await new ix(i,s,n).execute();return c&&!n&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cx=10*60*1e3;class fx{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!hx(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!Ow(e)){const s=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(Kr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=cx&&this.cachedEventUids.clear(),this.cachedEventUids.has(Eb(e))}saveEventToCache(e){this.cachedEventUids.add(Eb(e)),this.lastProcessedEventTime=Date.now()}}function Eb(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Ow({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function hx(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ow(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dx(t,e={}){return Ha(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mx=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,px=/^https?/;async function gx(t){if(t.config.emulator)return;const{authorizedDomains:e}=await dx(t);for(const n of e)try{if(yx(n))return}catch{}Rr(t,"unauthorized-domain")}function yx(t){const e=og(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===i}if(!px.test(n))return!1;if(mx.test(t))return i===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vx=new ac(3e4,6e4);function bb(){const t=Wr().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function _x(t){return new Promise((e,n)=>{var i,s,l;function c(){bb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{bb(),n(Kr(t,"network-request-failed"))},timeout:vx.get()})}if(!((s=(i=Wr().gapi)===null||i===void 0?void 0:i.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((l=Wr().gapi)===null||l===void 0)&&l.load)c();else{const d=lN("iframefcb");return Wr()[d]=()=>{gapi.load?c():n(Kr(t,"network-request-failed"))},fw(`${oN()}?onload=${d}`).catch(m=>n(m))}}).catch(e=>{throw ah=null,e})}let ah=null;function Ex(t){return ah=ah||_x(t),ah}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bx=new ac(5e3,15e3),Tx="__/auth/iframe",wx="emulator/auth/iframe",Sx={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ax=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Rx(t){const e=t.config;be(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?oy(e,wx):`https://${t.config.authDomain}/${Tx}`,i={apiKey:e.apiKey,appName:t.name,v:cl},s=Ax.get(t.config.apiHost);s&&(i.eid=s);const l=t._getFrameworks();return l.length&&(i.fw=l.join(",")),`${n}?${ic(i).slice(1)}`}async function Ix(t){const e=await Ex(t),n=Wr().gapi;return be(n,t,"internal-error"),e.open({where:document.body,url:Rx(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Sx,dontclear:!0},i=>new Promise(async(s,l)=>{await i.restyle({setHideOnLeave:!1});const c=Kr(t,"network-request-failed"),d=Wr().setTimeout(()=>{l(c)},bx.get());function m(){Wr().clearTimeout(d),s(i)}i.ping(m).then(m,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cx={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Ox=500,Dx=600,Nx="_blank",xx="http://localhost";class Tb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Px(t,e,n,i=Ox,s=Dx){const l=Math.max((window.screen.availHeight-s)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const m=Object.assign(Object.assign({},Cx),{width:i.toString(),height:s.toString(),top:l,left:c}),g=_n().toLowerCase();n&&(d=iw(g)?Nx:n),nw(g)&&(e=e||xx,m.scrollbars="yes");const v=Object.entries(m).reduce((T,[R,O])=>`${T}${R}=${O},`,"");if(JD(g)&&d!=="_self")return Mx(e||"",d),new Tb(null);const b=window.open(e||"",d,v);be(b,t,"popup-blocked");try{b.focus()}catch{}return new Tb(b)}function Mx(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kx="__/auth/handler",Vx="emulator/auth/handler",Lx=encodeURIComponent("fac");async function wb(t,e,n,i,s,l){be(t.config.authDomain,t,"auth-domain-config-required"),be(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:cl,eventId:s};if(e instanceof mw){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",yO(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,b]of Object.entries({}))c[v]=b}if(e instanceof oc){const v=e.getScopes().filter(b=>b!=="");v.length>0&&(c.scopes=v.join(","))}t.tenantId&&(c.tid=t.tenantId);const d=c;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const m=await t._getAppCheckToken(),g=m?`#${Lx}=${encodeURIComponent(m)}`:"";return`${Ux(t)}?${ic(d).slice(1)}${g}`}function Ux({config:t}){return t.emulator?oy(t,Vx):`https://${t.authDomain}/${kx}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kp="webStorageSupport";class jx{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ww,this._completeRedirectFn=ux,this._overrideRedirectResult=sx}async _openPopup(e,n,i,s){var l;Fi((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await wb(e,n,i,og(),s);return Px(e,c,hy())}async _openRedirect(e,n,i,s){await this._originValidation(e);const l=await wb(e,n,i,og(),s);return FN(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:l}=this.eventManagers[n];return s?Promise.resolve(s):(Fi(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await Ix(e),i=new fx(e);return n.register("authEvent",s=>(be(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(kp,{type:kp},s=>{var l;const c=(l=s?.[0])===null||l===void 0?void 0:l[kp];c!==void 0&&n(!!c),Rr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=gx(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return uw()||rw()||uy()}}const zx=jx;var Sb="@firebase/auth",Ab="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fx(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Hx(t){ti(new Ar("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=i.options;be(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const m={apiKey:c,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:cw(t)},g=new iN(i,s,l,m);return mN(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),ti(new Ar("auth-internal",e=>{const n=Fs(e.getProvider("auth").getImmediate());return(i=>new Bx(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),cr(Sb,Ab,Fx(t)),cr(Sb,Ab,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qx=5*60,Gx=VT("authIdTokenMaxAge")||qx;let Rb=null;const $x=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>Gx)return;const s=n?.token;Rb!==s&&(Rb=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function Yx(t=iy()){const e=Bs(t,"auth");if(e.isInitialized())return e.getImmediate();const n=dN(t,{popupRedirectResolver:zx,persistence:[XN,bw,ww]}),i=VT("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=$x(l.toString());kN(n,c,()=>c(n.currentUser)),MN(n,d=>c(d))}}const s=MT("auth");return s&&pN(n,`http://${s}`),n}function Kx(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}aN({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=s=>{const l=Kr("internal-error");l.customData=s,n(l)},i.type="text/javascript",i.charset="UTF-8",Kx().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Hx("Browser");var Wx="firebase",Qx="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cr(Wx,Qx,"app");var Ib=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xa,Dw;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,A){function I(){}I.prototype=A.prototype,D.D=A.prototype,D.prototype=new I,D.prototype.constructor=D,D.C=function(k,N,x){for(var C=Array(arguments.length-2),it=2;it<arguments.length;it++)C[it-2]=arguments[it];return A.prototype[N].apply(k,C)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(D,A,I){I||(I=0);var k=Array(16);if(typeof A=="string")for(var N=0;16>N;++N)k[N]=A.charCodeAt(I++)|A.charCodeAt(I++)<<8|A.charCodeAt(I++)<<16|A.charCodeAt(I++)<<24;else for(N=0;16>N;++N)k[N]=A[I++]|A[I++]<<8|A[I++]<<16|A[I++]<<24;A=D.g[0],I=D.g[1],N=D.g[2];var x=D.g[3],C=A+(x^I&(N^x))+k[0]+3614090360&4294967295;A=I+(C<<7&4294967295|C>>>25),C=x+(N^A&(I^N))+k[1]+3905402710&4294967295,x=A+(C<<12&4294967295|C>>>20),C=N+(I^x&(A^I))+k[2]+606105819&4294967295,N=x+(C<<17&4294967295|C>>>15),C=I+(A^N&(x^A))+k[3]+3250441966&4294967295,I=N+(C<<22&4294967295|C>>>10),C=A+(x^I&(N^x))+k[4]+4118548399&4294967295,A=I+(C<<7&4294967295|C>>>25),C=x+(N^A&(I^N))+k[5]+1200080426&4294967295,x=A+(C<<12&4294967295|C>>>20),C=N+(I^x&(A^I))+k[6]+2821735955&4294967295,N=x+(C<<17&4294967295|C>>>15),C=I+(A^N&(x^A))+k[7]+4249261313&4294967295,I=N+(C<<22&4294967295|C>>>10),C=A+(x^I&(N^x))+k[8]+1770035416&4294967295,A=I+(C<<7&4294967295|C>>>25),C=x+(N^A&(I^N))+k[9]+2336552879&4294967295,x=A+(C<<12&4294967295|C>>>20),C=N+(I^x&(A^I))+k[10]+4294925233&4294967295,N=x+(C<<17&4294967295|C>>>15),C=I+(A^N&(x^A))+k[11]+2304563134&4294967295,I=N+(C<<22&4294967295|C>>>10),C=A+(x^I&(N^x))+k[12]+1804603682&4294967295,A=I+(C<<7&4294967295|C>>>25),C=x+(N^A&(I^N))+k[13]+4254626195&4294967295,x=A+(C<<12&4294967295|C>>>20),C=N+(I^x&(A^I))+k[14]+2792965006&4294967295,N=x+(C<<17&4294967295|C>>>15),C=I+(A^N&(x^A))+k[15]+1236535329&4294967295,I=N+(C<<22&4294967295|C>>>10),C=A+(N^x&(I^N))+k[1]+4129170786&4294967295,A=I+(C<<5&4294967295|C>>>27),C=x+(I^N&(A^I))+k[6]+3225465664&4294967295,x=A+(C<<9&4294967295|C>>>23),C=N+(A^I&(x^A))+k[11]+643717713&4294967295,N=x+(C<<14&4294967295|C>>>18),C=I+(x^A&(N^x))+k[0]+3921069994&4294967295,I=N+(C<<20&4294967295|C>>>12),C=A+(N^x&(I^N))+k[5]+3593408605&4294967295,A=I+(C<<5&4294967295|C>>>27),C=x+(I^N&(A^I))+k[10]+38016083&4294967295,x=A+(C<<9&4294967295|C>>>23),C=N+(A^I&(x^A))+k[15]+3634488961&4294967295,N=x+(C<<14&4294967295|C>>>18),C=I+(x^A&(N^x))+k[4]+3889429448&4294967295,I=N+(C<<20&4294967295|C>>>12),C=A+(N^x&(I^N))+k[9]+568446438&4294967295,A=I+(C<<5&4294967295|C>>>27),C=x+(I^N&(A^I))+k[14]+3275163606&4294967295,x=A+(C<<9&4294967295|C>>>23),C=N+(A^I&(x^A))+k[3]+4107603335&4294967295,N=x+(C<<14&4294967295|C>>>18),C=I+(x^A&(N^x))+k[8]+1163531501&4294967295,I=N+(C<<20&4294967295|C>>>12),C=A+(N^x&(I^N))+k[13]+2850285829&4294967295,A=I+(C<<5&4294967295|C>>>27),C=x+(I^N&(A^I))+k[2]+4243563512&4294967295,x=A+(C<<9&4294967295|C>>>23),C=N+(A^I&(x^A))+k[7]+1735328473&4294967295,N=x+(C<<14&4294967295|C>>>18),C=I+(x^A&(N^x))+k[12]+2368359562&4294967295,I=N+(C<<20&4294967295|C>>>12),C=A+(I^N^x)+k[5]+4294588738&4294967295,A=I+(C<<4&4294967295|C>>>28),C=x+(A^I^N)+k[8]+2272392833&4294967295,x=A+(C<<11&4294967295|C>>>21),C=N+(x^A^I)+k[11]+1839030562&4294967295,N=x+(C<<16&4294967295|C>>>16),C=I+(N^x^A)+k[14]+4259657740&4294967295,I=N+(C<<23&4294967295|C>>>9),C=A+(I^N^x)+k[1]+2763975236&4294967295,A=I+(C<<4&4294967295|C>>>28),C=x+(A^I^N)+k[4]+1272893353&4294967295,x=A+(C<<11&4294967295|C>>>21),C=N+(x^A^I)+k[7]+4139469664&4294967295,N=x+(C<<16&4294967295|C>>>16),C=I+(N^x^A)+k[10]+3200236656&4294967295,I=N+(C<<23&4294967295|C>>>9),C=A+(I^N^x)+k[13]+681279174&4294967295,A=I+(C<<4&4294967295|C>>>28),C=x+(A^I^N)+k[0]+3936430074&4294967295,x=A+(C<<11&4294967295|C>>>21),C=N+(x^A^I)+k[3]+3572445317&4294967295,N=x+(C<<16&4294967295|C>>>16),C=I+(N^x^A)+k[6]+76029189&4294967295,I=N+(C<<23&4294967295|C>>>9),C=A+(I^N^x)+k[9]+3654602809&4294967295,A=I+(C<<4&4294967295|C>>>28),C=x+(A^I^N)+k[12]+3873151461&4294967295,x=A+(C<<11&4294967295|C>>>21),C=N+(x^A^I)+k[15]+530742520&4294967295,N=x+(C<<16&4294967295|C>>>16),C=I+(N^x^A)+k[2]+3299628645&4294967295,I=N+(C<<23&4294967295|C>>>9),C=A+(N^(I|~x))+k[0]+4096336452&4294967295,A=I+(C<<6&4294967295|C>>>26),C=x+(I^(A|~N))+k[7]+1126891415&4294967295,x=A+(C<<10&4294967295|C>>>22),C=N+(A^(x|~I))+k[14]+2878612391&4294967295,N=x+(C<<15&4294967295|C>>>17),C=I+(x^(N|~A))+k[5]+4237533241&4294967295,I=N+(C<<21&4294967295|C>>>11),C=A+(N^(I|~x))+k[12]+1700485571&4294967295,A=I+(C<<6&4294967295|C>>>26),C=x+(I^(A|~N))+k[3]+2399980690&4294967295,x=A+(C<<10&4294967295|C>>>22),C=N+(A^(x|~I))+k[10]+4293915773&4294967295,N=x+(C<<15&4294967295|C>>>17),C=I+(x^(N|~A))+k[1]+2240044497&4294967295,I=N+(C<<21&4294967295|C>>>11),C=A+(N^(I|~x))+k[8]+1873313359&4294967295,A=I+(C<<6&4294967295|C>>>26),C=x+(I^(A|~N))+k[15]+4264355552&4294967295,x=A+(C<<10&4294967295|C>>>22),C=N+(A^(x|~I))+k[6]+2734768916&4294967295,N=x+(C<<15&4294967295|C>>>17),C=I+(x^(N|~A))+k[13]+1309151649&4294967295,I=N+(C<<21&4294967295|C>>>11),C=A+(N^(I|~x))+k[4]+4149444226&4294967295,A=I+(C<<6&4294967295|C>>>26),C=x+(I^(A|~N))+k[11]+3174756917&4294967295,x=A+(C<<10&4294967295|C>>>22),C=N+(A^(x|~I))+k[2]+718787259&4294967295,N=x+(C<<15&4294967295|C>>>17),C=I+(x^(N|~A))+k[9]+3951481745&4294967295,D.g[0]=D.g[0]+A&4294967295,D.g[1]=D.g[1]+(N+(C<<21&4294967295|C>>>11))&4294967295,D.g[2]=D.g[2]+N&4294967295,D.g[3]=D.g[3]+x&4294967295}i.prototype.u=function(D,A){A===void 0&&(A=D.length);for(var I=A-this.blockSize,k=this.B,N=this.h,x=0;x<A;){if(N==0)for(;x<=I;)s(this,D,x),x+=this.blockSize;if(typeof D=="string"){for(;x<A;)if(k[N++]=D.charCodeAt(x++),N==this.blockSize){s(this,k),N=0;break}}else for(;x<A;)if(k[N++]=D[x++],N==this.blockSize){s(this,k),N=0;break}}this.h=N,this.o+=A},i.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var A=1;A<D.length-8;++A)D[A]=0;var I=8*this.o;for(A=D.length-8;A<D.length;++A)D[A]=I&255,I/=256;for(this.u(D),D=Array(16),A=I=0;4>A;++A)for(var k=0;32>k;k+=8)D[I++]=this.g[A]>>>k&255;return D};function l(D,A){var I=d;return Object.prototype.hasOwnProperty.call(I,D)?I[D]:I[D]=A(D)}function c(D,A){this.h=A;for(var I=[],k=!0,N=D.length-1;0<=N;N--){var x=D[N]|0;k&&x==A||(I[N]=x,k=!1)}this.g=I}var d={};function m(D){return-128<=D&&128>D?l(D,function(A){return new c([A|0],0>A?-1:0)}):new c([D|0],0>D?-1:0)}function g(D){if(isNaN(D)||!isFinite(D))return b;if(0>D)return L(g(-D));for(var A=[],I=1,k=0;D>=I;k++)A[k]=D/I|0,I*=4294967296;return new c(A,0)}function v(D,A){if(D.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(D.charAt(0)=="-")return L(v(D.substring(1),A));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=g(Math.pow(A,8)),k=b,N=0;N<D.length;N+=8){var x=Math.min(8,D.length-N),C=parseInt(D.substring(N,N+x),A);8>x?(x=g(Math.pow(A,x)),k=k.j(x).add(g(C))):(k=k.j(I),k=k.add(g(C)))}return k}var b=m(0),T=m(1),R=m(16777216);t=c.prototype,t.m=function(){if(j(this))return-L(this).m();for(var D=0,A=1,I=0;I<this.g.length;I++){var k=this.i(I);D+=(0<=k?k:4294967296+k)*A,A*=4294967296}return D},t.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(O(this))return"0";if(j(this))return"-"+L(this).toString(D);for(var A=g(Math.pow(D,6)),I=this,k="";;){var N=K(I,A).g;I=z(I,N.j(A));var x=((0<I.g.length?I.g[0]:I.h)>>>0).toString(D);if(I=N,O(I))return x+k;for(;6>x.length;)x="0"+x;k=x+k}},t.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function O(D){if(D.h!=0)return!1;for(var A=0;A<D.g.length;A++)if(D.g[A]!=0)return!1;return!0}function j(D){return D.h==-1}t.l=function(D){return D=z(this,D),j(D)?-1:O(D)?0:1};function L(D){for(var A=D.g.length,I=[],k=0;k<A;k++)I[k]=~D.g[k];return new c(I,~D.h).add(T)}t.abs=function(){return j(this)?L(this):this},t.add=function(D){for(var A=Math.max(this.g.length,D.g.length),I=[],k=0,N=0;N<=A;N++){var x=k+(this.i(N)&65535)+(D.i(N)&65535),C=(x>>>16)+(this.i(N)>>>16)+(D.i(N)>>>16);k=C>>>16,x&=65535,C&=65535,I[N]=C<<16|x}return new c(I,I[I.length-1]&-2147483648?-1:0)};function z(D,A){return D.add(L(A))}t.j=function(D){if(O(this)||O(D))return b;if(j(this))return j(D)?L(this).j(L(D)):L(L(this).j(D));if(j(D))return L(this.j(L(D)));if(0>this.l(R)&&0>D.l(R))return g(this.m()*D.m());for(var A=this.g.length+D.g.length,I=[],k=0;k<2*A;k++)I[k]=0;for(k=0;k<this.g.length;k++)for(var N=0;N<D.g.length;N++){var x=this.i(k)>>>16,C=this.i(k)&65535,it=D.i(N)>>>16,He=D.i(N)&65535;I[2*k+2*N]+=C*He,te(I,2*k+2*N),I[2*k+2*N+1]+=x*He,te(I,2*k+2*N+1),I[2*k+2*N+1]+=C*it,te(I,2*k+2*N+1),I[2*k+2*N+2]+=x*it,te(I,2*k+2*N+2)}for(k=0;k<A;k++)I[k]=I[2*k+1]<<16|I[2*k];for(k=A;k<2*A;k++)I[k]=0;return new c(I,0)};function te(D,A){for(;(D[A]&65535)!=D[A];)D[A+1]+=D[A]>>>16,D[A]&=65535,A++}function H(D,A){this.g=D,this.h=A}function K(D,A){if(O(A))throw Error("division by zero");if(O(D))return new H(b,b);if(j(D))return A=K(L(D),A),new H(L(A.g),L(A.h));if(j(A))return A=K(D,L(A)),new H(L(A.g),A.h);if(30<D.g.length){if(j(D)||j(A))throw Error("slowDivide_ only works with positive integers.");for(var I=T,k=A;0>=k.l(D);)I=J(I),k=J(k);var N=ee(I,1),x=ee(k,1);for(k=ee(k,2),I=ee(I,2);!O(k);){var C=x.add(k);0>=C.l(D)&&(N=N.add(I),x=C),k=ee(k,1),I=ee(I,1)}return A=z(D,N.j(A)),new H(N,A)}for(N=b;0<=D.l(A);){for(I=Math.max(1,Math.floor(D.m()/A.m())),k=Math.ceil(Math.log(I)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),x=g(I),C=x.j(A);j(C)||0<C.l(D);)I-=k,x=g(I),C=x.j(A);O(x)&&(x=T),N=N.add(x),D=z(D,C)}return new H(N,D)}t.A=function(D){return K(this,D).h},t.and=function(D){for(var A=Math.max(this.g.length,D.g.length),I=[],k=0;k<A;k++)I[k]=this.i(k)&D.i(k);return new c(I,this.h&D.h)},t.or=function(D){for(var A=Math.max(this.g.length,D.g.length),I=[],k=0;k<A;k++)I[k]=this.i(k)|D.i(k);return new c(I,this.h|D.h)},t.xor=function(D){for(var A=Math.max(this.g.length,D.g.length),I=[],k=0;k<A;k++)I[k]=this.i(k)^D.i(k);return new c(I,this.h^D.h)};function J(D){for(var A=D.g.length+1,I=[],k=0;k<A;k++)I[k]=D.i(k)<<1|D.i(k-1)>>>31;return new c(I,D.h)}function ee(D,A){var I=A>>5;A%=32;for(var k=D.g.length-I,N=[],x=0;x<k;x++)N[x]=0<A?D.i(x+I)>>>A|D.i(x+I+1)<<32-A:D.i(x+I);return new c(N,D.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,Dw=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=v,xa=c}).apply(typeof Ib<"u"?Ib:typeof self<"u"?self:typeof window<"u"?window:{});var jf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Nw,Su,xw,sh,fg,Pw,Mw,kw;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,y,_){return f==Array.prototype||f==Object.prototype||(f[y]=_.value),f};function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof jf=="object"&&jf];for(var y=0;y<f.length;++y){var _=f[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var i=n(this);function s(f,y){if(y)e:{var _=i;f=f.split(".");for(var S=0;S<f.length-1;S++){var q=f[S];if(!(q in _))break e;_=_[q]}f=f[f.length-1],S=_[f],y=y(S),y!=S&&y!=null&&e(_,f,{configurable:!0,writable:!0,value:y})}}function l(f,y){f instanceof String&&(f+="");var _=0,S=!1,q={next:function(){if(!S&&_<f.length){var Q=_++;return{value:y(Q,f[Q]),done:!1}}return S=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}s("Array.prototype.values",function(f){return f||function(){return l(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function m(f){var y=typeof f;return y=y!="object"?y:f?Array.isArray(f)?"array":y:"null",y=="array"||y=="object"&&typeof f.length=="number"}function g(f){var y=typeof f;return y=="object"&&f!=null||y=="function"}function v(f,y,_){return f.call.apply(f.bind,arguments)}function b(f,y,_){if(!f)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,S),f.apply(y,q)}}return function(){return f.apply(y,arguments)}}function T(f,y,_){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:b,T.apply(null,arguments)}function R(f,y){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),f.apply(this,S)}}function O(f,y){function _(){}_.prototype=y.prototype,f.aa=y.prototype,f.prototype=new _,f.prototype.constructor=f,f.Qb=function(S,q,Q){for(var le=Array(arguments.length-2),je=2;je<arguments.length;je++)le[je-2]=arguments[je];return y.prototype[q].apply(S,le)}}function j(f){const y=f.length;if(0<y){const _=Array(y);for(let S=0;S<y;S++)_[S]=f[S];return _}return[]}function L(f,y){for(let _=1;_<arguments.length;_++){const S=arguments[_];if(m(S)){const q=f.length||0,Q=S.length||0;f.length=q+Q;for(let le=0;le<Q;le++)f[q+le]=S[le]}else f.push(S)}}class z{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function te(f){return/^[\s\xa0]*$/.test(f)}function H(){var f=d.navigator;return f&&(f=f.userAgent)?f:""}function K(f){return K[" "](f),f}K[" "]=function(){};var J=H().indexOf("Gecko")!=-1&&!(H().toLowerCase().indexOf("webkit")!=-1&&H().indexOf("Edge")==-1)&&!(H().indexOf("Trident")!=-1||H().indexOf("MSIE")!=-1)&&H().indexOf("Edge")==-1;function ee(f,y,_){for(const S in f)y.call(_,f[S],S,f)}function D(f,y){for(const _ in f)y.call(void 0,f[_],_,f)}function A(f){const y={};for(const _ in f)y[_]=f[_];return y}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(f,y){let _,S;for(let q=1;q<arguments.length;q++){S=arguments[q];for(_ in S)f[_]=S[_];for(let Q=0;Q<I.length;Q++)_=I[Q],Object.prototype.hasOwnProperty.call(S,_)&&(f[_]=S[_])}}function N(f){var y=1;f=f.split(":");const _=[];for(;0<y&&f.length;)_.push(f.shift()),y--;return f.length&&_.push(f.join(":")),_}function x(f){d.setTimeout(()=>{throw f},0)}function C(){var f=De;let y=null;return f.g&&(y=f.g,f.g=f.g.next,f.g||(f.h=null),y.next=null),y}class it{constructor(){this.h=this.g=null}add(y,_){const S=He.get();S.set(y,_),this.h?this.h.next=S:this.g=S,this.h=S}}var He=new z(()=>new X,f=>f.reset());class X{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ce,de=!1,De=new it,V=()=>{const f=d.Promise.resolve(void 0);ce=()=>{f.then(re)}};var re=()=>{for(var f;f=C();){try{f.h.call(f.g)}catch(_){x(_)}var y=He;y.j(f),100>y.h&&(y.h++,f.next=y.g,y.g=f)}de=!1};function ue(){this.s=this.s,this.C=this.C}ue.prototype.s=!1,ue.prototype.ma=function(){this.s||(this.s=!0,this.N())},ue.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function oe(f,y){this.type=f,this.g=this.target=y,this.defaultPrevented=!1}oe.prototype.h=function(){this.defaultPrevented=!0};var me=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var f=!1,y=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const _=()=>{};d.addEventListener("test",_,y),d.removeEventListener("test",_,y)}catch{}return f}();function Ie(f,y){if(oe.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var _=this.type=f.type,S=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=y,y=f.relatedTarget){if(J){e:{try{K(y.nodeName);var q=!0;break e}catch{}q=!1}q||(y=null)}}else _=="mouseover"?y=f.fromElement:_=="mouseout"&&(y=f.toElement);this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:ve[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&Ie.aa.h.call(this)}}O(Ie,oe);var ve={2:"touch",3:"pen",4:"mouse"};Ie.prototype.h=function(){Ie.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var ft="closure_listenable_"+(1e6*Math.random()|0),qe=0;function kt(f,y,_,S,q){this.listener=f,this.proxy=null,this.src=y,this.type=_,this.capture=!!S,this.ha=q,this.key=++qe,this.da=this.fa=!1}function Hn(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Dn(f){this.src=f,this.g={},this.h=0}Dn.prototype.add=function(f,y,_,S,q){var Q=f.toString();f=this.g[Q],f||(f=this.g[Q]=[],this.h++);var le=fr(f,y,S,q);return-1<le?(y=f[le],_||(y.fa=!1)):(y=new kt(y,this.src,Q,!!S,q),y.fa=_,f.push(y)),y};function qn(f,y){var _=y.type;if(_ in f.g){var S=f.g[_],q=Array.prototype.indexOf.call(S,y,void 0),Q;(Q=0<=q)&&Array.prototype.splice.call(S,q,1),Q&&(Hn(y),f.g[_].length==0&&(delete f.g[_],f.h--))}}function fr(f,y,_,S){for(var q=0;q<f.length;++q){var Q=f[q];if(!Q.da&&Q.listener==y&&Q.capture==!!_&&Q.ha==S)return q}return-1}var at="closure_lm_"+(1e6*Math.random()|0),hr={};function Qt(f,y,_,S,q){if(Array.isArray(y)){for(var Q=0;Q<y.length;Q++)Qt(f,y[Q],_,S,q);return null}return _=Xs(_),f&&f[ft]?f.K(y,_,g(S)?!!S.capture:!1,q):Xt(f,y,_,!1,S,q)}function Xt(f,y,_,S,q,Q){if(!y)throw Error("Invalid event type");var le=g(q)?!!q.capture:!!q,je=oi(f);if(je||(f[at]=je=new Dn(f)),_=je.add(y,_,S,le,Q),_.proxy)return _;if(S=Qs(),_.proxy=S,S.src=f,S.listener=_,f.addEventListener)me||(q=le),q===void 0&&(q=!1),f.addEventListener(y.toString(),S,q);else if(f.attachEvent)f.attachEvent(si(y.toString()),S);else if(f.addListener&&f.removeListener)f.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Qs(){function f(_){return y.call(f.src,f.listener,_)}const y=vl;return f}function Ki(f,y,_,S,q){if(Array.isArray(y))for(var Q=0;Q<y.length;Q++)Ki(f,y[Q],_,S,q);else S=g(S)?!!S.capture:!!S,_=Xs(_),f&&f[ft]?(f=f.i,y=String(y).toString(),y in f.g&&(Q=f.g[y],_=fr(Q,_,S,q),-1<_&&(Hn(Q[_]),Array.prototype.splice.call(Q,_,1),Q.length==0&&(delete f.g[y],f.h--)))):f&&(f=oi(f))&&(y=f.g[y.toString()],f=-1,y&&(f=fr(y,_,S,q)),(_=-1<f?y[f]:null)&&Wi(_))}function Wi(f){if(typeof f!="number"&&f&&!f.da){var y=f.src;if(y&&y[ft])qn(y.i,f);else{var _=f.type,S=f.proxy;y.removeEventListener?y.removeEventListener(_,S,f.capture):y.detachEvent?y.detachEvent(si(_),S):y.addListener&&y.removeListener&&y.removeListener(S),(_=oi(y))?(qn(_,f),_.h==0&&(_.src=null,y[at]=null)):Hn(f)}}}function si(f){return f in hr?hr[f]:hr[f]="on"+f}function vl(f,y){if(f.da)f=!0;else{y=new Ie(y,this);var _=f.listener,S=f.ha||f.src;f.fa&&Wi(f),f=_.call(S,y)}return f}function oi(f){return f=f[at],f instanceof Dn?f:null}var $a="__closure_events_fn_"+(1e9*Math.random()>>>0);function Xs(f){return typeof f=="function"?f:(f[$a]||(f[$a]=function(y){return f.handleEvent(y)}),f[$a])}function ht(){ue.call(this),this.i=new Dn(this),this.M=this,this.F=null}O(ht,ue),ht.prototype[ft]=!0,ht.prototype.removeEventListener=function(f,y,_,S){Ki(this,f,y,_,S)};function Ye(f,y){var _,S=f.F;if(S)for(_=[];S;S=S.F)_.push(S);if(f=f.M,S=y.type||y,typeof y=="string")y=new oe(y,f);else if(y instanceof oe)y.target=y.target||f;else{var q=y;y=new oe(S,f),k(y,q)}if(q=!0,_)for(var Q=_.length-1;0<=Q;Q--){var le=y.g=_[Q];q=En(le,S,!0,y)&&q}if(le=y.g=f,q=En(le,S,!0,y)&&q,q=En(le,S,!1,y)&&q,_)for(Q=0;Q<_.length;Q++)le=y.g=_[Q],q=En(le,S,!1,y)&&q}ht.prototype.N=function(){if(ht.aa.N.call(this),this.i){var f=this.i,y;for(y in f.g){for(var _=f.g[y],S=0;S<_.length;S++)Hn(_[S]);delete f.g[y],f.h--}}this.F=null},ht.prototype.K=function(f,y,_,S){return this.i.add(String(f),y,!1,_,S)},ht.prototype.L=function(f,y,_,S){return this.i.add(String(f),y,!0,_,S)};function En(f,y,_,S){if(y=f.i.g[String(y)],!y)return!0;y=y.concat();for(var q=!0,Q=0;Q<y.length;++Q){var le=y[Q];if(le&&!le.da&&le.capture==_){var je=le.listener,Vt=le.ha||le.src;le.fa&&qn(f.i,le),q=je.call(Vt,S)!==!1&&q}}return q&&!S.defaultPrevented}function Rt(f,y,_){if(typeof f=="function")_&&(f=T(f,_));else if(f&&typeof f.handleEvent=="function")f=T(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(f,y||0)}function Ya(f){f.g=Rt(()=>{f.g=null,f.i&&(f.i=!1,Ya(f))},f.l);const y=f.h;f.h=null,f.m.apply(null,y)}class Js extends ue{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Ya(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function li(f){ue.call(this),this.h=f,this.g={}}O(li,ue);var Gn=[];function Cr(f){ee(f.g,function(y,_){this.g.hasOwnProperty(_)&&Wi(y)},f),f.g={}}li.prototype.N=function(){li.aa.N.call(this),Cr(this)},li.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Nn=d.JSON.stringify,ui=d.JSON.parse,Or=class{stringify(f){return d.JSON.stringify(f,void 0)}parse(f){return d.JSON.parse(f,void 0)}};function ci(){}ci.prototype.h=null;function Ka(f){return f.h||(f.h=f.i())}function Qi(){}var dr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function $n(){oe.call(this,"d")}O($n,oe);function It(){oe.call(this,"c")}O(It,oe);var ut={},Dr=null;function Ge(){return Dr=Dr||new ht}ut.La="serverreachability";function Jt(f){oe.call(this,ut.La,f)}O(Jt,oe);function Nr(f){const y=Ge();Ye(y,new Jt(y))}ut.STAT_EVENT="statevent";function Xi(f,y){oe.call(this,ut.STAT_EVENT,f),this.stat=y}O(Xi,oe);function st(f){const y=Ge();Ye(y,new Xi(y,f))}ut.Ma="timingevent";function Et(f,y){oe.call(this,ut.Ma,f),this.size=y}O(Et,oe);function dt(f,y){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){f()},y)}function Zt(){this.g=!0}Zt.prototype.xa=function(){this.g=!1};function fi(f,y,_,S,q,Q){f.info(function(){if(f.g)if(Q)for(var le="",je=Q.split("&"),Vt=0;Vt<je.length;Vt++){var ze=je[Vt].split("=");if(1<ze.length){var qt=ze[0];ze=ze[1];var Lt=qt.split("_");le=2<=Lt.length&&Lt[1]=="type"?le+(qt+"="+ze+"&"):le+(qt+"=redacted&")}}else le=null;else le=Q;return"XMLHTTP REQ ("+S+") [attempt "+q+"]: "+y+`
`+_+`
`+le})}function Wa(f,y,_,S,q,Q,le){f.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+q+"]: "+y+`
`+_+`
`+Q+" "+le})}function Yn(f,y,_,S){f.info(function(){return"XMLHTTP TEXT ("+y+"): "+mr(f,_)+(S?" "+S:"")})}function Zs(f,y){f.info(function(){return"TIMEOUT: "+y})}Zt.prototype.info=function(){};function mr(f,y){if(!f.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(f=0;f<_.length;f++)if(Array.isArray(_[f])){var S=_[f];if(!(2>S.length)){var q=S[1];if(Array.isArray(q)&&!(1>q.length)){var Q=q[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var le=1;le<q.length;le++)q[le]=""}}}}return Nn(_)}catch{return y}}var pr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},gr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Kn;function Se(){}O(Se,ci),Se.prototype.g=function(){return new XMLHttpRequest},Se.prototype.i=function(){return{}},Kn=new Se;function Pe(f,y,_,S){this.j=f,this.i=y,this.l=_,this.R=S||1,this.U=new li(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ce}function Ce(){this.i=null,this.g="",this.h=!1}var en={},Ft={};function bn(f,y,_){f.L=1,f.v=es(xn(y)),f.m=_,f.P=!0,yr(f,null)}function yr(f,y){f.F=Date.now(),Qa(f),f.A=xn(f.v);var _=f.A,S=f.R;Array.isArray(S)||(S=[String(S)]),Sl(_.i,"t",S),f.C=0,_=f.j.J,f.h=new Ce,f.g=xc(f.j,_?y:null,!f.m),0<f.O&&(f.M=new Js(T(f.Y,f,f.g),f.O)),y=f.U,_=f.g,S=f.ca;var q="readystatechange";Array.isArray(q)||(q&&(Gn[0]=q.toString()),q=Gn);for(var Q=0;Q<q.length;Q++){var le=Qt(_,q[Q],S||y.handleEvent,!1,y.h||y);if(!le)break;y.g[le.key]=le}y=f.H?A(f.H):{},f.m?(f.u||(f.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,y)):(f.u="GET",f.g.ea(f.A,f.u,null,y)),Nr(),fi(f.i,f.u,f.A,f.l,f.R,f.m)}Pe.prototype.ca=function(f){f=f.target;const y=this.M;y&&Jn(f)==3?y.j():this.Y(f)},Pe.prototype.Y=function(f){try{if(f==this.g)e:{const Lt=Jn(this.g);var y=this.g.Ba();const _i=this.g.Z();if(!(3>Lt)&&(Lt!=3||this.g&&(this.h.h||this.g.oa()||Sc(this.g)))){this.J||Lt!=4||y==7||(y==8||0>=_i?Nr(3):Nr(2)),Ji(this);var _=this.g.Z();this.X=_;t:if(eo(this)){var S=Sc(this.g);f="";var q=S.length,Q=Jn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){tn(this),xr(this);var le="";break t}this.h.i=new d.TextDecoder}for(y=0;y<q;y++)this.h.h=!0,f+=this.h.i.decode(S[y],{stream:!(Q&&y==q-1)});S.length=0,this.h.g+=f,this.C=0,le=this.h.g}else le=this.g.oa();if(this.o=_==200,Wa(this.i,this.u,this.A,this.l,this.R,Lt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var je,Vt=this.g;if((je=Vt.g?Vt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!te(je)){var ze=je;break t}}ze=null}if(_=ze)Yn(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Xa(this,_);else{this.o=!1,this.s=3,st(12),tn(this),xr(this);break e}}if(this.P){_=!0;let nn;for(;!this.J&&this.C<le.length;)if(nn=vc(this,le),nn==Ft){Lt==4&&(this.s=4,st(14),_=!1),Yn(this.i,this.l,null,"[Incomplete Response]");break}else if(nn==en){this.s=4,st(15),Yn(this.i,this.l,le,"[Invalid Chunk]"),_=!1;break}else Yn(this.i,this.l,nn,null),Xa(this,nn);if(eo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Lt!=4||le.length!=0||this.h.h||(this.s=1,st(16),_=!1),this.o=this.o&&_,!_)Yn(this.i,this.l,le,"[Invalid Chunked Response]"),tn(this),xr(this);else if(0<le.length&&!this.W){this.W=!0;var qt=this.j;qt.g==this&&qt.ba&&!qt.M&&(qt.j.info("Great, no buffering proxy detected. Bytes received: "+le.length),ls(qt),qt.M=!0,st(11))}}else Yn(this.i,this.l,le,null),Xa(this,le);Lt==4&&tn(this),this.o&&!this.J&&(Lt==4?Oc(this.j,this):(this.o=!1,Qa(this)))}else Id(this.g),_==400&&0<le.indexOf("Unknown SID")?(this.s=3,st(12)):(this.s=0,st(13)),tn(this),xr(this)}}}catch{}finally{}};function eo(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function vc(f,y){var _=f.C,S=y.indexOf(`
`,_);return S==-1?Ft:(_=Number(y.substring(_,S)),isNaN(_)?en:(S+=1,S+_>y.length?Ft:(y=y.slice(S,S+_),f.C=S+_,y)))}Pe.prototype.cancel=function(){this.J=!0,tn(this)};function Qa(f){f.S=Date.now()+f.I,_c(f,f.I)}function _c(f,y){if(f.B!=null)throw Error("WatchDog timer not null");f.B=dt(T(f.ba,f),y)}function Ji(f){f.B&&(d.clearTimeout(f.B),f.B=null)}Pe.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(Zs(this.i,this.A),this.L!=2&&(Nr(),st(17)),tn(this),this.s=2,xr(this)):_c(this,this.S-f)};function xr(f){f.j.G==0||f.J||Oc(f.j,f)}function tn(f){Ji(f);var y=f.M;y&&typeof y.ma=="function"&&y.ma(),f.M=null,Cr(f.U),f.g&&(y=f.g,f.g=null,y.abort(),y.ma())}function Xa(f,y){try{var _=f.j;if(_.G!=0&&(_.g==f||_l(_.h,f))){if(!f.K&&_l(_.h,f)&&_.G==3){try{var S=_.Da.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var q=S;if(q[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<f.F)ho(_),co(_);else break e;Ol(_),st(18)}}else _.za=q[1],0<_.za-_.T&&37500>q[2]&&_.F&&_.v==0&&!_.C&&(_.C=dt(T(_.Za,_),6e3));if(1>=no(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else vi(_,11)}else if((f.K||_.g==f)&&ho(_),!te(y))for(q=_.Da.g.parse(y),y=0;y<q.length;y++){let ze=q[y];if(_.T=ze[0],ze=ze[1],_.G==2)if(ze[0]=="c"){_.K=ze[1],_.ia=ze[2];const qt=ze[3];qt!=null&&(_.la=qt,_.j.info("VER="+_.la));const Lt=ze[4];Lt!=null&&(_.Aa=Lt,_.j.info("SVER="+_.Aa));const _i=ze[5];_i!=null&&typeof _i=="number"&&0<_i&&(S=1.5*_i,_.L=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const nn=f.g;if(nn){const jr=nn.g?nn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(jr){var Q=S.h;Q.g||jr.indexOf("spdy")==-1&&jr.indexOf("quic")==-1&&jr.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(ro(Q,Q.h),Q.h=null))}if(S.D){const Nl=nn.g?nn.g.getResponseHeader("X-HTTP-Session-Id"):null;Nl&&(S.ya=Nl,et(S.I,S.D,Nl))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-f.F,_.j.info("Handshake RTT: "+_.R+"ms")),S=_;var le=f;if(S.qa=Nc(S,S.J?S.ia:null,S.W),le.K){Tn(S.h,le);var je=le,Vt=S.L;Vt&&(je.I=Vt),je.B&&(Ji(je),Qa(je)),S.g=le}else Ic(S);0<_.i.length&&fo(_)}else ze[0]!="stop"&&ze[0]!="close"||vi(_,7);else _.G==3&&(ze[0]=="stop"||ze[0]=="close"?ze[0]=="stop"?vi(_,7):Il(_):ze[0]!="noop"&&_.l&&_.l.ta(ze),_.v=0)}}Nr(4)}catch{}}var Ec=class{constructor(f,y){this.g=f,this.map=y}};function hi(f){this.l=f||10,d.PerformanceNavigationTiming?(f=d.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function to(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function no(f){return f.h?1:f.g?f.g.size:0}function _l(f,y){return f.h?f.h==y:f.g?f.g.has(y):!1}function ro(f,y){f.g?f.g.add(y):f.h=y}function Tn(f,y){f.h&&f.h==y?f.h=null:f.g&&f.g.has(y)&&f.g.delete(y)}hi.prototype.cancel=function(){if(this.i=El(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function El(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let y=f.i;for(const _ of f.g.values())y=y.concat(_.D);return y}return j(f.i)}function wd(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(m(f)){for(var y=[],_=f.length,S=0;S<_;S++)y.push(f[S]);return y}y=[],_=0;for(S in f)y[_++]=f[S];return y}function io(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(m(f)||typeof f=="string"){var y=[];f=f.length;for(var _=0;_<f;_++)y.push(_);return y}y=[],_=0;for(const S in f)y[_++]=S;return y}}}function bl(f,y){if(f.forEach&&typeof f.forEach=="function")f.forEach(y,void 0);else if(m(f)||typeof f=="string")Array.prototype.forEach.call(f,y,void 0);else for(var _=io(f),S=wd(f),q=S.length,Q=0;Q<q;Q++)y.call(void 0,S[Q],_&&_[Q],f)}var Ja=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Sd(f,y){if(f){f=f.split("&");for(var _=0;_<f.length;_++){var S=f[_].indexOf("="),q=null;if(0<=S){var Q=f[_].substring(0,S);q=f[_].substring(S+1)}else Q=f[_];y(Q,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Ct(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Ct){this.h=f.h,Za(this,f.j),this.o=f.o,this.g=f.g,Zi(this,f.s),this.l=f.l;var y=f.i,_=new mi;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),di(this,_),this.m=f.m}else f&&(y=String(f).match(Ja))?(this.h=!1,Za(this,y[1]||"",!0),this.o=Wn(y[2]||""),this.g=Wn(y[3]||"",!0),Zi(this,y[4]),this.l=Wn(y[5]||"",!0),di(this,y[6]||"",!0),this.m=Wn(y[7]||"")):(this.h=!1,this.i=new mi(null,this.h))}Ct.prototype.toString=function(){var f=[],y=this.j;y&&f.push(ts(y,Tl,!0),":");var _=this.g;return(_||y=="file")&&(f.push("//"),(y=this.o)&&f.push(ts(y,Tl,!0),"@"),f.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&f.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&f.push("/"),f.push(ts(_,_.charAt(0)=="/"?Ad:wl,!0))),(_=this.i.toString())&&f.push("?",_),(_=this.m)&&f.push("#",ts(_,ao)),f.join("")};function xn(f){return new Ct(f)}function Za(f,y,_){f.j=_?Wn(y,!0):y,f.j&&(f.j=f.j.replace(/:$/,""))}function Zi(f,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);f.s=y}else f.s=null}function di(f,y,_){y instanceof mi?(f.i=y,Tc(f.i,f.h)):(_||(y=ts(y,Rd)),f.i=new mi(y,f.h))}function et(f,y,_){f.i.set(y,_)}function es(f){return et(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function Wn(f,y){return f?y?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function ts(f,y,_){return typeof f=="string"?(f=encodeURI(f).replace(y,bc),_&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function bc(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Tl=/[#\/\?@]/g,wl=/[#\?:]/g,Ad=/[#\?]/g,Rd=/[#\?@]/g,ao=/#/g;function mi(f,y){this.h=this.g=null,this.i=f||null,this.j=!!y}function Qn(f){f.g||(f.g=new Map,f.h=0,f.i&&Sd(f.i,function(y,_){f.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}t=mi.prototype,t.add=function(f,y){Qn(this),this.i=null,f=Pr(this,f);var _=this.g.get(f);return _||this.g.set(f,_=[]),_.push(y),this.h+=1,this};function pi(f,y){Qn(f),y=Pr(f,y),f.g.has(y)&&(f.i=null,f.h-=f.g.get(y).length,f.g.delete(y))}function gi(f,y){return Qn(f),y=Pr(f,y),f.g.has(y)}t.forEach=function(f,y){Qn(this),this.g.forEach(function(_,S){_.forEach(function(q){f.call(y,q,S,this)},this)},this)},t.na=function(){Qn(this);const f=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let S=0;S<y.length;S++){const q=f[S];for(let Q=0;Q<q.length;Q++)_.push(y[S])}return _},t.V=function(f){Qn(this);let y=[];if(typeof f=="string")gi(this,f)&&(y=y.concat(this.g.get(Pr(this,f))));else{f=Array.from(this.g.values());for(let _=0;_<f.length;_++)y=y.concat(f[_])}return y},t.set=function(f,y){return Qn(this),this.i=null,f=Pr(this,f),gi(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[y]),this.h+=1,this},t.get=function(f,y){return f?(f=this.V(f),0<f.length?String(f[0]):y):y};function Sl(f,y,_){pi(f,y),0<_.length&&(f.i=null,f.g.set(Pr(f,y),j(_)),f.h+=_.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var S=y[_];const Q=encodeURIComponent(String(S)),le=this.V(S);for(S=0;S<le.length;S++){var q=Q;le[S]!==""&&(q+="="+encodeURIComponent(String(le[S]))),f.push(q)}}return this.i=f.join("&")};function Pr(f,y){return y=String(y),f.j&&(y=y.toLowerCase()),y}function Tc(f,y){y&&!f.j&&(Qn(f),f.i=null,f.g.forEach(function(_,S){var q=S.toLowerCase();S!=q&&(pi(this,S),Sl(this,q,_))},f)),f.j=y}function ns(f,y){const _=new Zt;if(d.Image){const S=new Image;S.onload=R(Xn,_,"TestLoadImage: loaded",!0,y,S),S.onerror=R(Xn,_,"TestLoadImage: error",!1,y,S),S.onabort=R(Xn,_,"TestLoadImage: abort",!1,y,S),S.ontimeout=R(Xn,_,"TestLoadImage: timeout",!1,y,S),d.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=f}else y(!1)}function vr(f,y){const _=new Zt,S=new AbortController,q=setTimeout(()=>{S.abort(),Xn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(f,{signal:S.signal}).then(Q=>{clearTimeout(q),Q.ok?Xn(_,"TestPingServer: ok",!0,y):Xn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(q),Xn(_,"TestPingServer: error",!1,y)})}function Xn(f,y,_,S,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),S(_)}catch{}}function rs(){this.g=new Or}function Mr(f,y,_){const S=_||"";try{bl(f,function(q,Q){let le=q;g(q)&&(le=Nn(q)),y.push(S+Q+"="+encodeURIComponent(le))})}catch(q){throw y.push(S+"type="+encodeURIComponent("_badmap")),q}}function ea(f){this.l=f.Ub||null,this.j=f.eb||!1}O(ea,ci),ea.prototype.g=function(){return new yi(this.l,this.j)},ea.prototype.i=function(f){return function(){return f}}({});function yi(f,y){ht.call(this),this.D=f,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}O(yi,ht),t=yi.prototype,t.open=function(f,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=y,this.readyState=1,Vr(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(y.body=f),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,kr(this)),this.readyState=0},t.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Vr(this)),this.g&&(this.readyState=3,Vr(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Al(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function Al(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}t.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var y=f.value?f.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!f.done}))&&(this.response=this.responseText+=y)}f.done?kr(this):Vr(this),this.readyState==3&&Al(this)}},t.Ra=function(f){this.g&&(this.response=this.responseText=f,kr(this))},t.Qa=function(f){this.g&&(this.response=f,kr(this))},t.ga=function(){this.g&&kr(this)};function kr(f){f.readyState=4,f.l=null,f.j=null,f.v=null,Vr(f)}t.setRequestHeader=function(f,y){this.u.append(f,y)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,f.push(_[0]+": "+_[1]),_=y.next();return f.join(`\r
`)};function Vr(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(yi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Rl(f){let y="";return ee(f,function(_,S){y+=S,y+=":",y+=_,y+=`\r
`}),y}function Ht(f,y,_){e:{for(S in _){var S=!1;break e}S=!0}S||(_=Rl(_),typeof f=="string"?_!=null&&encodeURIComponent(String(_)):et(f,y,_))}function Qe(f){ht.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}O(Qe,ht);var so=/^https?$/i,is=["POST","PUT"];t=Qe.prototype,t.Ha=function(f){this.J=f},t.ea=function(f,y,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);y=y?y.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Kn.g(),this.v=this.o?Ka(this.o):Ka(Kn),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(y,String(f),!0),this.B=!1}catch(Q){wc(this,Q);return}if(f=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var q in S)_.set(q,S[q]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const Q of S.keys())_.set(Q,S.get(Q));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find(Q=>Q.toLowerCase()=="content-type"),q=d.FormData&&f instanceof d.FormData,!(0<=Array.prototype.indexOf.call(is,y,void 0))||S||q||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,le]of _)this.g.setRequestHeader(Q,le);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{as(this),this.u=!0,this.g.send(f),this.u=!1}catch(Q){wc(this,Q)}};function wc(f,y){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=y,f.m=5,oo(f),Lr(f)}function oo(f){f.A||(f.A=!0,Ye(f,"complete"),Ye(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,Ye(this,"complete"),Ye(this,"abort"),Lr(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Lr(this,!0)),Qe.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?lo(this):this.bb())},t.bb=function(){lo(this)};function lo(f){if(f.h&&typeof c<"u"&&(!f.v[1]||Jn(f)!=4||f.Z()!=2)){if(f.u&&Jn(f)==4)Rt(f.Ea,0,f);else if(Ye(f,"readystatechange"),Jn(f)==4){f.h=!1;try{const le=f.Z();e:switch(le){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var S;if(S=le===0){var q=String(f.D).match(Ja)[1]||null;!q&&d.self&&d.self.location&&(q=d.self.location.protocol.slice(0,-1)),S=!so.test(q?q.toLowerCase():"")}_=S}if(_)Ye(f,"complete"),Ye(f,"success");else{f.m=6;try{var Q=2<Jn(f)?f.g.statusText:""}catch{Q=""}f.l=Q+" ["+f.Z()+"]",oo(f)}}finally{Lr(f)}}}}function Lr(f,y){if(f.g){as(f);const _=f.g,S=f.v[0]?()=>{}:null;f.g=null,f.v=null,y||Ye(f,"ready");try{_.onreadystatechange=S}catch{}}}function as(f){f.I&&(d.clearTimeout(f.I),f.I=null)}t.isActive=function(){return!!this.g};function Jn(f){return f.g?f.g.readyState:0}t.Z=function(){try{return 2<Jn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(f){if(this.g){var y=this.g.responseText;return f&&y.indexOf(f)==0&&(y=y.substring(f.length)),ui(y)}};function Sc(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Id(f){const y={};f=(f.g&&2<=Jn(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<f.length;S++){if(te(f[S]))continue;var _=N(f[S]);const q=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Q=y[q]||[];y[q]=Q,Q.push(_)}D(y,function(S){return S.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ss(f,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[f]||y}function uo(f){this.Aa=0,this.i=[],this.j=new Zt,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ss("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ss("baseRetryDelayMs",5e3,f),this.cb=ss("retryDelaySeedMs",1e4,f),this.Wa=ss("forwardChannelMaxRetries",2,f),this.wa=ss("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new hi(f&&f.concurrentRequestLimit),this.Da=new rs,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=uo.prototype,t.la=8,t.G=1,t.connect=function(f,y,_,S){st(0),this.W=f,this.H=y||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.I=Nc(this,null,this.W),fo(this)};function Il(f){if(Ac(f),f.G==3){var y=f.U++,_=xn(f.I);if(et(_,"SID",f.K),et(_,"RID",y),et(_,"TYPE","terminate"),os(f,_),y=new Pe(f,f.j,y),y.L=2,y.v=es(xn(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&d.Image&&(new Image().src=y.v,_=!0),_||(y.g=xc(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Qa(y)}Dc(f)}function co(f){f.g&&(ls(f),f.g.cancel(),f.g=null)}function Ac(f){co(f),f.u&&(d.clearTimeout(f.u),f.u=null),ho(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&d.clearTimeout(f.s),f.s=null)}function fo(f){if(!to(f.h)&&!f.s){f.s=!0;var y=f.Ga;ce||V(),de||(ce(),de=!0),De.add(y,f),f.B=0}}function Cd(f,y){return no(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=y.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=dt(T(f.Ga,f,y),Dl(f,f.B)),f.B++,!0)}t.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const q=new Pe(this,this.j,f);let Q=this.o;if(this.S&&(Q?(Q=A(Q),k(Q,this.S)):Q=this.S),this.m!==null||this.O||(q.H=Q,Q=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(y+=S,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=Rc(this,q,y),_=xn(this.I),et(_,"RID",f),et(_,"CVER",22),this.D&&et(_,"X-HTTP-Session-Id",this.D),os(this,_),Q&&(this.O?y="headers="+encodeURIComponent(String(Rl(Q)))+"&"+y:this.m&&Ht(_,this.m,Q)),ro(this.h,q),this.Ua&&et(_,"TYPE","init"),this.P?(et(_,"$req",y),et(_,"SID","null"),q.T=!0,bn(q,_,null)):bn(q,_,y),this.G=2}}else this.G==3&&(f?Cl(this,f):this.i.length==0||to(this.h)||Cl(this))};function Cl(f,y){var _;y?_=y.l:_=f.U++;const S=xn(f.I);et(S,"SID",f.K),et(S,"RID",_),et(S,"AID",f.T),os(f,S),f.m&&f.o&&Ht(S,f.m,f.o),_=new Pe(f,f.j,_,f.B+1),f.m===null&&(_.H=f.o),y&&(f.i=y.D.concat(f.i)),y=Rc(f,_,1e3),_.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),ro(f.h,_),bn(_,S,y)}function os(f,y){f.H&&ee(f.H,function(_,S){et(y,S,_)}),f.l&&bl({},function(_,S){et(y,S,_)})}function Rc(f,y,_){_=Math.min(f.i.length,_);var S=f.l?T(f.l.Na,f.l,f):null;e:{var q=f.i;let Q=-1;for(;;){const le=["count="+_];Q==-1?0<_?(Q=q[0].g,le.push("ofs="+Q)):Q=0:le.push("ofs="+Q);let je=!0;for(let Vt=0;Vt<_;Vt++){let ze=q[Vt].g;const qt=q[Vt].map;if(ze-=Q,0>ze)Q=Math.max(0,q[Vt].g-100),je=!1;else try{Mr(qt,le,"req"+ze+"_")}catch{S&&S(qt)}}if(je){S=le.join("&");break e}}}return f=f.i.splice(0,_),y.D=f,S}function Ic(f){if(!f.g&&!f.u){f.Y=1;var y=f.Fa;ce||V(),de||(ce(),de=!0),De.add(y,f),f.v=0}}function Ol(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=dt(T(f.Fa,f),Dl(f,f.v)),f.v++,!0)}t.Fa=function(){if(this.u=null,Cc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=dt(T(this.ab,this),f)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,st(10),co(this),Cc(this))};function ls(f){f.A!=null&&(d.clearTimeout(f.A),f.A=null)}function Cc(f){f.g=new Pe(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var y=xn(f.qa);et(y,"RID","rpc"),et(y,"SID",f.K),et(y,"AID",f.T),et(y,"CI",f.F?"0":"1"),!f.F&&f.ja&&et(y,"TO",f.ja),et(y,"TYPE","xmlhttp"),os(f,y),f.m&&f.o&&Ht(y,f.m,f.o),f.L&&(f.g.I=f.L);var _=f.g;f=f.ia,_.L=1,_.v=es(xn(y)),_.m=null,_.P=!0,yr(_,f)}t.Za=function(){this.C!=null&&(this.C=null,co(this),Ol(this),st(19))};function ho(f){f.C!=null&&(d.clearTimeout(f.C),f.C=null)}function Oc(f,y){var _=null;if(f.g==y){ho(f),ls(f),f.g=null;var S=2}else if(_l(f.h,y))_=y.D,Tn(f.h,y),S=1;else return;if(f.G!=0){if(y.o)if(S==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var q=f.B;S=Ge(),Ye(S,new Et(S,_)),fo(f)}else Ic(f);else if(q=y.s,q==3||q==0&&0<y.X||!(S==1&&Cd(f,y)||S==2&&Ol(f)))switch(_&&0<_.length&&(y=f.h,y.i=y.i.concat(_)),q){case 1:vi(f,5);break;case 4:vi(f,10);break;case 3:vi(f,6);break;default:vi(f,2)}}}function Dl(f,y){let _=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(_*=2),_*y}function vi(f,y){if(f.j.info("Error code "+y),y==2){var _=T(f.fb,f),S=f.Xa;const q=!S;S=new Ct(S||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Za(S,"https"),es(S),q?ns(S.toString(),_):vr(S.toString(),_)}else st(2);f.G=0,f.l&&f.l.sa(y),Dc(f),Ac(f)}t.fb=function(f){f?(this.j.info("Successfully pinged google.com"),st(2)):(this.j.info("Failed to ping google.com"),st(1))};function Dc(f){if(f.G=0,f.ka=[],f.l){const y=El(f.h);(y.length!=0||f.i.length!=0)&&(L(f.ka,y),L(f.ka,f.i),f.h.i.length=0,j(f.i),f.i.length=0),f.l.ra()}}function Nc(f,y,_){var S=_ instanceof Ct?xn(_):new Ct(_);if(S.g!="")y&&(S.g=y+"."+S.g),Zi(S,S.s);else{var q=d.location;S=q.protocol,y=y?y+"."+q.hostname:q.hostname,q=+q.port;var Q=new Ct(null);S&&Za(Q,S),y&&(Q.g=y),q&&Zi(Q,q),_&&(Q.l=_),S=Q}return _=f.D,y=f.ya,_&&y&&et(S,_,y),et(S,"VER",f.la),os(f,S),S}function xc(f,y,_){if(y&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=f.Ca&&!f.pa?new Qe(new ea({eb:_})):new Qe(f.pa),y.Ha(f.J),y}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Pc(){}t=Pc.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function mo(){}mo.prototype.g=function(f,y){return new wn(f,y)};function wn(f,y){ht.call(this),this.g=new uo(y),this.l=f,this.h=y&&y.messageUrlParams||null,f=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(f?f["X-WebChannel-Content-Type"]=y.messageContentType:f={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(f?f["X-WebChannel-Client-Profile"]=y.va:f={"X-WebChannel-Client-Profile":y.va}),this.g.S=f,(f=y&&y.Sb)&&!te(f)&&(this.g.m=f),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!te(y)&&(this.g.D=y,f=this.h,f!==null&&y in f&&(f=this.h,y in f&&delete f[y])),this.j=new Ur(this)}O(wn,ht),wn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},wn.prototype.close=function(){Il(this.g)},wn.prototype.o=function(f){var y=this.g;if(typeof f=="string"){var _={};_.__data__=f,f=_}else this.u&&(_={},_.__data__=Nn(f),f=_);y.i.push(new Ec(y.Ya++,f)),y.G==3&&fo(y)},wn.prototype.N=function(){this.g.l=null,delete this.j,Il(this.g),delete this.g,wn.aa.N.call(this)};function Mc(f){$n.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var y=f.__sm__;if(y){e:{for(const _ in y){f=_;break e}f=void 0}(this.i=f)&&(f=this.i,y=y!==null&&f in y?y[f]:void 0),this.data=y}else this.data=f}O(Mc,$n);function kc(){It.call(this),this.status=1}O(kc,It);function Ur(f){this.g=f}O(Ur,Pc),Ur.prototype.ua=function(){Ye(this.g,"a")},Ur.prototype.ta=function(f){Ye(this.g,new Mc(f))},Ur.prototype.sa=function(f){Ye(this.g,new kc)},Ur.prototype.ra=function(){Ye(this.g,"b")},mo.prototype.createWebChannel=mo.prototype.g,wn.prototype.send=wn.prototype.o,wn.prototype.open=wn.prototype.m,wn.prototype.close=wn.prototype.close,kw=function(){return new mo},Mw=function(){return Ge()},Pw=ut,fg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},pr.NO_ERROR=0,pr.TIMEOUT=8,pr.HTTP_ERROR=6,sh=pr,gr.COMPLETE="complete",xw=gr,Qi.EventType=dr,dr.OPEN="a",dr.CLOSE="b",dr.ERROR="c",dr.MESSAGE="d",ht.prototype.listen=ht.prototype.K,Su=Qi,Qe.prototype.listenOnce=Qe.prototype.L,Qe.prototype.getLastError=Qe.prototype.Ka,Qe.prototype.getLastErrorCode=Qe.prototype.Ba,Qe.prototype.getStatus=Qe.prototype.Z,Qe.prototype.getResponseJson=Qe.prototype.Oa,Qe.prototype.getResponseText=Qe.prototype.oa,Qe.prototype.send=Qe.prototype.ea,Qe.prototype.setWithCredentials=Qe.prototype.Ha,Nw=Qe}).apply(typeof jf<"u"?jf:typeof self<"u"?self:typeof window<"u"?window:{});const Cb="@firebase/firestore",Ob="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}yn.UNAUTHENTICATED=new yn(null),yn.GOOGLE_CREDENTIALS=new yn("google-credentials-uid"),yn.FIRST_PARTY=new yn("first-party-uid"),yn.MOCK_USER=new yn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fl="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ps=new Yh("@firebase/firestore");function qo(){return Ps.logLevel}function fe(t,...e){if(Ps.logLevel<=Le.DEBUG){const n=e.map(my);Ps.debug(`Firestore (${fl}): ${t}`,...n)}}function Hi(t,...e){if(Ps.logLevel<=Le.ERROR){const n=e.map(my);Ps.error(`Firestore (${fl}): ${t}`,...n)}}function ka(t,...e){if(Ps.logLevel<=Le.WARN){const n=e.map(my);Ps.warn(`Firestore (${fl}): ${t}`,...n)}}function my(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,Vw(t,i,n)}function Vw(t,e,n){let i=`FIRESTORE (${fl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw Hi(i),new Error(i)}function Xe(t,e,n,i){let s="Unexpected state";typeof n=="string"?s=n:i=n,t||Vw(e,s,i)}function Re(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends Ir{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Xx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(yn.UNAUTHENTICATED))}shutdown(){}}class Jx{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Zx{constructor(e){this.t=e,this.currentUser=yn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Xe(this.o===void 0,42304);let i=this.i;const s=m=>this.i!==i?(i=this.i,n(m)):Promise.resolve();let l=new Pa;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Pa,e.enqueueRetryable(()=>s(this.currentUser))};const c=()=>{const m=l;e.enqueueRetryable(async()=>{await m.promise,await s(this.currentUser)})},d=m=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(m=>d(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Pa)}},0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Xe(typeof i.accessToken=="string",31837,{l:i}),new Lw(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Xe(e===null||typeof e=="string",2055,{h:e}),new yn(e)}}class e4{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=yn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class t4{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new e4(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(yn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Db{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class n4{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,or(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Xe(this.o===void 0,3512);const i=l=>{l.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,fe("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const s=l=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>s(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?s(l):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Db(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Xe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Db(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r4(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uw(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const s=r4(40);for(let l=0;l<s.length;++l)i.length<20&&s[l]<n&&(i+=e.charAt(s[l]%62))}return i}}function xe(t,e){return t<e?-1:t>e?1:0}function hg(t,e){let n=0;for(;n<t.length&&n<e.length;){const i=t.codePointAt(n),s=e.codePointAt(n);if(i!==s){if(i<128&&s<128)return xe(i,s);{const l=Uw(),c=i4(l.encode(Nb(t,n)),l.encode(Nb(e,n)));return c!==0?c:xe(i,s)}}n+=i>65535?2:1}return xe(t.length,e.length)}function Nb(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function i4(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return xe(t[n],e[n]);return xe(t.length,e.length)}function tl(t,e,n){return t.length===e.length&&t.every((i,s)=>n(i,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xb="__name__";class Yr{constructor(e,n,i){n===void 0?n=0:n>e.length&&Te(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&Te(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return Yr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Yr?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let s=0;s<i;s++){const l=Yr.compareSegments(e.get(s),n.get(s));if(l!==0)return l}return xe(e.length,n.length)}static compareSegments(e,n){const i=Yr.isNumericId(e),s=Yr.isNumericId(n);return i&&!s?-1:!i&&s?1:i&&s?Yr.extractNumericId(e).compare(Yr.extractNumericId(n)):hg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return xa.fromString(e.substring(4,e.length-2))}}class yt extends Yr{construct(e,n,i){return new yt(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new ge(se.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(s=>s.length>0))}return new yt(n)}static emptyPath(){return new yt([])}}const a4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class cn extends Yr{construct(e,n,i){return new cn(e,n,i)}static isValidIdentifier(e){return a4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),cn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===xb}static keyField(){return new cn([xb])}static fromServerFormat(e){const n=[];let i="",s=0;const l=()=>{if(i.length===0)throw new ge(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let c=!1;for(;s<e.length;){const d=e[s];if(d==="\\"){if(s+1===e.length)throw new ge(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[s+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new ge(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=m,s+=2}else d==="`"?(c=!c,s++):d!=="."||c?(i+=d,s++):(l(),s++)}if(l(),c)throw new ge(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new cn(n)}static emptyPath(){return new cn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(yt.fromString(e))}static fromName(e){return new ye(yt.fromString(e).popFirst(5))}static empty(){return new ye(yt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&yt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return yt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new yt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s4(t,e,n){if(!n)throw new ge(se.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function o4(t,e,n,i){if(e===!0&&i===!0)throw new ge(se.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Pb(t){if(!ye.isDocumentKey(t))throw new ge(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function jw(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function gy(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Te(12329,{type:typeof t})}function Hu(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ge(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=gy(t);throw new ge(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mt(t,e){const n={typeString:t};return e&&(n.value=e),n}function uc(t,e){if(!jw(t))throw new ge(se.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const s=e[i].typeString,l="value"in e[i]?{value:e[i].value}:void 0;if(!(i in t)){n=`JSON missing required field: '${i}'`;break}const c=t[i];if(s&&typeof c!==s){n=`JSON field '${i}' must be a ${s}.`;break}if(l!==void 0&&c!==l.value){n=`Expected '${i}' field to equal '${l.value}'`;break}}if(n)throw new ge(se.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mb=-62135596800,kb=1e6;class ct{static now(){return ct.fromMillis(Date.now())}static fromDate(e){return ct.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*kb);return new ct(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ge(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ge(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Mb)throw new ge(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/kb}_compareTo(e){return this.seconds===e.seconds?xe(this.nanoseconds,e.nanoseconds):xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ct._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(uc(e,ct._jsonSchema))return new ct(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Mb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ct._jsonSchemaVersion="firestore/timestamp/1.0",ct._jsonSchema={type:Mt("string",ct._jsonSchemaVersion),seconds:Mt("number"),nanoseconds:Mt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new ct(0,0))}static max(){return new Ae(new ct(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qu=-1;function l4(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,s=Ae.fromTimestamp(i===1e9?new ct(n+1,0):new ct(n,i));return new Va(s,ye.empty(),e)}function u4(t){return new Va(t.readTime,t.key,qu)}class Va{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Va(Ae.min(),ye.empty(),qu)}static max(){return new Va(Ae.max(),ye.empty(),qu)}}function c4(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(t.documentKey,e.documentKey),n!==0?n:xe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class h4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hl(t){if(t.code!==se.FAILED_PRECONDITION||t.message!==f4)throw t;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ae((i,s)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,s)},this.catchCallback=l=>{this.wrapFailure(n,l).next(i,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ae?n:ae.resolve(n)}catch(n){return ae.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ae.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ae.reject(n)}static resolve(e){return new ae((n,i)=>{n(e)})}static reject(e){return new ae((n,i)=>{i(e)})}static waitFor(e){return new ae((n,i)=>{let s=0,l=0,c=!1;e.forEach(d=>{++s,d.next(()=>{++l,c&&l===s&&n()},m=>i(m))}),c=!0,l===s&&n()})}static or(e){let n=ae.resolve(!1);for(const i of e)n=n.next(s=>s?ae.resolve(s):i());return n}static forEach(e,n){const i=[];return e.forEach((s,l)=>{i.push(n.call(this,s,l))}),this.waitFor(i)}static mapArray(e,n){return new ae((i,s)=>{const l=e.length,c=new Array(l);let d=0;for(let m=0;m<l;m++){const g=m;n(e[g]).next(v=>{c[g]=v,++d,d===l&&i(c)},v=>s(v))}})}static doWhile(e,n){return new ae((i,s)=>{const l=()=>{e()===!0?n().next(()=>{l()},s):i()};l()})}}function d4(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function dl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this._e(i),this.ae=i=>n.writeSequenceNumber(i))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}Xh.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yy=-1;function Jh(t){return t==null}function Th(t){return t===0&&1/t==-1/0}function m4(t){return typeof t=="number"&&Number.isInteger(t)&&!Th(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zw="";function p4(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Vb(e)),e=g4(t.get(n),e);return Vb(e)}function g4(t,e){let n=e;const i=t.length;for(let s=0;s<i;s++){const l=t.charAt(s);switch(l){case"\0":n+="";break;case zw:n+="";break;default:n+=l}}return n}function Vb(t){return t+zw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lb(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function qs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Bw(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e,n){this.comparator=e,this.root=n||un.EMPTY}insert(e,n){return new _t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,un.BLACK,null,null))}remove(e){return new _t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,un.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return n+i.left.size;s<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new zf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new zf(this.root,e,this.comparator,!1)}getReverseIterator(){return new zf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new zf(this.root,e,this.comparator,!0)}}class zf{constructor(e,n,i,s){this.isReverse=s,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?i(e.key,n):1,n&&s&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class un{constructor(e,n,i,s,l){this.key=e,this.value=n,this.color=i??un.RED,this.left=s??un.EMPTY,this.right=l??un.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,s,l){return new un(e??this.key,n??this.value,i??this.color,s??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let s=this;const l=i(e,s.key);return s=l<0?s.copy(null,null,null,s.left.insert(e,n,i),null):l===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return un.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return un.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,un.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,un.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}un.EMPTY=null,un.RED=!0,un.BLACK=!1;un.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,n,i,s,l){return this}insert(e,n,i){return new un(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.comparator=e,this.data=new _t(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Ub(this.data.getIterator())}getIteratorFrom(e){return new Ub(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof Bt)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,l=i.getNext().key;if(this.comparator(s,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Bt(this.comparator);return n.data=e,n}}class Ub{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(e){this.fields=e,e.sort(cn.comparator)}static empty(){return new Sr([])}unionWith(e){let n=new Bt(cn.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Sr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return tl(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new Fw("Invalid base64 string: "+l):l}}(e);return new dn(n)}static fromUint8Array(e){const n=function(s){let l="";for(let c=0;c<s.length;++c)l+=String.fromCharCode(s[c]);return l}(e);return new dn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let s=0;s<n.length;s++)i[s]=n.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}dn.EMPTY_BYTE_STRING=new dn("");const y4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function La(t){if(Xe(!!t,39018),typeof t=="string"){let e=0;const n=y4.exec(t);if(Xe(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:At(t.seconds),nanos:At(t.nanos)}}function At(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ua(t){return typeof t=="string"?dn.fromBase64String(t):dn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hw="server_timestamp",qw="__type__",Gw="__previous_value__",$w="__local_write_time__";function vy(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[qw])===null||n===void 0?void 0:n.stringValue)===Hw}function Zh(t){const e=t.mapValue.fields[Gw];return vy(e)?Zh(e):e}function Gu(t){const e=La(t.mapValue.fields[$w].timestampValue);return new ct(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4{constructor(e,n,i,s,l,c,d,m,g,v){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=s,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=g,this.isUsingEmulator=v}}const wh="(default)";class $u{constructor(e,n){this.projectId=e,this.database=n||wh}static empty(){return new $u("","")}get isDefaultDatabase(){return this.database===wh}isEqual(e){return e instanceof $u&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yw="__type__",_4="__max__",Bf={mapValue:{}},Kw="__vector__",Sh="value";function ja(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?vy(t)?4:b4(t)?9007199254740991:E4(t)?10:11:Te(28295,{value:t})}function ni(t,e){if(t===e)return!0;const n=ja(t);if(n!==ja(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Gu(t).isEqual(Gu(e));case 3:return function(s,l){if(typeof s.timestampValue=="string"&&typeof l.timestampValue=="string"&&s.timestampValue.length===l.timestampValue.length)return s.timestampValue===l.timestampValue;const c=La(s.timestampValue),d=La(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,l){return Ua(s.bytesValue).isEqual(Ua(l.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,l){return At(s.geoPointValue.latitude)===At(l.geoPointValue.latitude)&&At(s.geoPointValue.longitude)===At(l.geoPointValue.longitude)}(t,e);case 2:return function(s,l){if("integerValue"in s&&"integerValue"in l)return At(s.integerValue)===At(l.integerValue);if("doubleValue"in s&&"doubleValue"in l){const c=At(s.doubleValue),d=At(l.doubleValue);return c===d?Th(c)===Th(d):isNaN(c)&&isNaN(d)}return!1}(t,e);case 9:return tl(t.arrayValue.values||[],e.arrayValue.values||[],ni);case 10:case 11:return function(s,l){const c=s.mapValue.fields||{},d=l.mapValue.fields||{};if(Lb(c)!==Lb(d))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(d[m]===void 0||!ni(c[m],d[m])))return!1;return!0}(t,e);default:return Te(52216,{left:t})}}function Yu(t,e){return(t.values||[]).find(n=>ni(n,e))!==void 0}function nl(t,e){if(t===e)return 0;const n=ja(t),i=ja(e);if(n!==i)return xe(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return xe(t.booleanValue,e.booleanValue);case 2:return function(l,c){const d=At(l.integerValue||l.doubleValue),m=At(c.integerValue||c.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1}(t,e);case 3:return jb(t.timestampValue,e.timestampValue);case 4:return jb(Gu(t),Gu(e));case 5:return hg(t.stringValue,e.stringValue);case 6:return function(l,c){const d=Ua(l),m=Ua(c);return d.compareTo(m)}(t.bytesValue,e.bytesValue);case 7:return function(l,c){const d=l.split("/"),m=c.split("/");for(let g=0;g<d.length&&g<m.length;g++){const v=xe(d[g],m[g]);if(v!==0)return v}return xe(d.length,m.length)}(t.referenceValue,e.referenceValue);case 8:return function(l,c){const d=xe(At(l.latitude),At(c.latitude));return d!==0?d:xe(At(l.longitude),At(c.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return zb(t.arrayValue,e.arrayValue);case 10:return function(l,c){var d,m,g,v;const b=l.fields||{},T=c.fields||{},R=(d=b[Sh])===null||d===void 0?void 0:d.arrayValue,O=(m=T[Sh])===null||m===void 0?void 0:m.arrayValue,j=xe(((g=R?.values)===null||g===void 0?void 0:g.length)||0,((v=O?.values)===null||v===void 0?void 0:v.length)||0);return j!==0?j:zb(R,O)}(t.mapValue,e.mapValue);case 11:return function(l,c){if(l===Bf.mapValue&&c===Bf.mapValue)return 0;if(l===Bf.mapValue)return 1;if(c===Bf.mapValue)return-1;const d=l.fields||{},m=Object.keys(d),g=c.fields||{},v=Object.keys(g);m.sort(),v.sort();for(let b=0;b<m.length&&b<v.length;++b){const T=hg(m[b],v[b]);if(T!==0)return T;const R=nl(d[m[b]],g[v[b]]);if(R!==0)return R}return xe(m.length,v.length)}(t.mapValue,e.mapValue);default:throw Te(23264,{le:n})}}function jb(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return xe(t,e);const n=La(t),i=La(e),s=xe(n.seconds,i.seconds);return s!==0?s:xe(n.nanos,i.nanos)}function zb(t,e){const n=t.values||[],i=e.values||[];for(let s=0;s<n.length&&s<i.length;++s){const l=nl(n[s],i[s]);if(l)return l}return xe(n.length,i.length)}function rl(t){return dg(t)}function dg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=La(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ua(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ye.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",s=!0;for(const l of n.values||[])s?s=!1:i+=",",i+=dg(l);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let s="{",l=!0;for(const c of i)l?l=!1:s+=",",s+=`${c}:${dg(n.fields[c])}`;return s+"}"}(t.mapValue):Te(61005,{value:t})}function oh(t){switch(ja(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Zh(t);return e?16+oh(e):16;case 5:return 2*t.stringValue.length;case 6:return Ua(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((s,l)=>s+oh(l),0)}(t.arrayValue);case 10:case 11:return function(i){let s=0;return qs(i.fields,(l,c)=>{s+=l.length+oh(c)}),s}(t.mapValue);default:throw Te(13486,{value:t})}}function mg(t){return!!t&&"integerValue"in t}function _y(t){return!!t&&"arrayValue"in t}function Bb(t){return!!t&&"nullValue"in t}function Fb(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function lh(t){return!!t&&"mapValue"in t}function E4(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[Yw])===null||n===void 0?void 0:n.stringValue)===Kw}function xu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return qs(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=xu(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=xu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function b4(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===_4}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(e){this.value=e}static empty(){return new lr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!lh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=xu(n)}setAll(e){let n=cn.emptyPath(),i={},s=[];e.forEach((c,d)=>{if(!n.isImmediateParentOf(d)){const m=this.getFieldsMap(n);this.applyChanges(m,i,s),i={},s=[],n=d.popLast()}c?i[d.lastSegment()]=xu(c):s.push(d.lastSegment())});const l=this.getFieldsMap(n);this.applyChanges(l,i,s)}delete(e){const n=this.field(e.popLast());lh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ni(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let s=n.mapValue.fields[e.get(i)];lh(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,i){qs(n,(s,l)=>e[s]=l);for(const s of i)delete e[s]}clone(){return new lr(xu(this.value))}}function Ww(t){const e=[];return qs(t.fields,(n,i)=>{const s=new cn([n]);if(lh(i)){const l=Ww(i.mapValue).fields;if(l.length===0)e.push(s);else for(const c of l)e.push(s.child(c))}else e.push(s)}),new Sr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e,n,i,s,l,c,d){this.key=e,this.documentType=n,this.version=i,this.readTime=s,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new vn(e,0,Ae.min(),Ae.min(),Ae.min(),lr.empty(),0)}static newFoundDocument(e,n,i,s){return new vn(e,1,n,Ae.min(),i,s,0)}static newNoDocument(e,n){return new vn(e,2,n,Ae.min(),Ae.min(),lr.empty(),0)}static newUnknownDocument(e,n){return new vn(e,3,n,Ae.min(),Ae.min(),lr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=lr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=lr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof vn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new vn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(e,n){this.position=e,this.inclusive=n}}function Hb(t,e,n){let i=0;for(let s=0;s<t.position.length;s++){const l=e[s],c=t.position[s];if(l.field.isKeyField()?i=ye.comparator(ye.fromName(c.referenceValue),n.key):i=nl(c,n.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function qb(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ni(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(e,n="asc"){this.field=e,this.dir=n}}function T4(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{}class zt extends Qw{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new S4(e,n,i):n==="array-contains"?new I4(e,i):n==="in"?new C4(e,i):n==="not-in"?new O4(e,i):n==="array-contains-any"?new D4(e,i):new zt(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new A4(e,i):new R4(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(nl(n,this.value)):n!==null&&ja(this.value)===ja(n)&&this.matchesComparison(nl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ri extends Qw{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new ri(e,n)}matches(e){return Xw(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function Xw(t){return t.op==="and"}function Jw(t){return w4(t)&&Xw(t)}function w4(t){for(const e of t.filters)if(e instanceof ri)return!1;return!0}function pg(t){if(t instanceof zt)return t.field.canonicalString()+t.op.toString()+rl(t.value);if(Jw(t))return t.filters.map(e=>pg(e)).join(",");{const e=t.filters.map(n=>pg(n)).join(",");return`${t.op}(${e})`}}function Zw(t,e){return t instanceof zt?function(i,s){return s instanceof zt&&i.op===s.op&&i.field.isEqual(s.field)&&ni(i.value,s.value)}(t,e):t instanceof ri?function(i,s){return s instanceof ri&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce((l,c,d)=>l&&Zw(c,s.filters[d]),!0):!1}(t,e):void Te(19439)}function eS(t){return t instanceof zt?function(n){return`${n.field.canonicalString()} ${n.op} ${rl(n.value)}`}(t):t instanceof ri?function(n){return n.op.toString()+" {"+n.getFilters().map(eS).join(" ,")+"}"}(t):"Filter"}class S4 extends zt{constructor(e,n,i){super(e,n,i),this.key=ye.fromName(i.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class A4 extends zt{constructor(e,n){super(e,"in",n),this.keys=tS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class R4 extends zt{constructor(e,n){super(e,"not-in",n),this.keys=tS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function tS(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>ye.fromName(i.referenceValue))}class I4 extends zt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return _y(n)&&Yu(n.arrayValue,this.value)}}class C4 extends zt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Yu(this.value.arrayValue,n)}}class O4 extends zt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Yu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Yu(this.value.arrayValue,n)}}class D4 extends zt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!_y(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Yu(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N4{constructor(e,n=null,i=[],s=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=s,this.limit=l,this.startAt=c,this.endAt=d,this.Pe=null}}function Gb(t,e=null,n=[],i=[],s=null,l=null,c=null){return new N4(t,e,n,i,s,l,c)}function Ey(t){const e=Re(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>pg(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),Jh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>rl(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>rl(i)).join(",")),e.Pe=n}return e.Pe}function by(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!T4(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Zw(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!qb(t.startAt,e.startAt)&&qb(t.endAt,e.endAt)}function gg(t){return ye.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(e,n=null,i=[],s=[],l=null,c="F",d=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=s,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=m,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function x4(t,e,n,i,s,l,c,d){return new ed(t,e,n,i,s,l,c,d)}function Ty(t){return new ed(t)}function $b(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function P4(t){return t.collectionGroup!==null}function Pu(t){const e=Re(t);if(e.Te===null){e.Te=[];const n=new Set;for(const l of e.explicitOrderBy)e.Te.push(l),n.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Bt(cn.comparator);return c.filters.forEach(m=>{m.getFlattenedFilters().forEach(g=>{g.isInequality()&&(d=d.add(g.field))})}),d})(e).forEach(l=>{n.has(l.canonicalString())||l.isKeyField()||e.Te.push(new Rh(l,i))}),n.has(cn.keyField().canonicalString())||e.Te.push(new Rh(cn.keyField(),i))}return e.Te}function Qr(t){const e=Re(t);return e.Ie||(e.Ie=M4(e,Pu(t))),e.Ie}function M4(t,e){if(t.limitType==="F")return Gb(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const l=s.dir==="desc"?"asc":"desc";return new Rh(s.field,l)});const n=t.endAt?new Ah(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new Ah(t.startAt.position,t.startAt.inclusive):null;return Gb(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function yg(t,e,n){return new ed(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function td(t,e){return by(Qr(t),Qr(e))&&t.limitType===e.limitType}function nS(t){return`${Ey(Qr(t))}|lt:${t.limitType}`}function Go(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(s=>eS(s)).join(", ")}]`),Jh(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(s=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(s)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(s=>rl(s)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(s=>rl(s)).join(",")),`Target(${i})`}(Qr(t))}; limitType=${t.limitType})`}function nd(t,e){return e.isFoundDocument()&&function(i,s){const l=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):ye.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(t,e)&&function(i,s){for(const l of Pu(i))if(!l.field.isKeyField()&&s.data.field(l.field)===null)return!1;return!0}(t,e)&&function(i,s){for(const l of i.filters)if(!l.matches(s))return!1;return!0}(t,e)&&function(i,s){return!(i.startAt&&!function(c,d,m){const g=Hb(c,d,m);return c.inclusive?g<=0:g<0}(i.startAt,Pu(i),s)||i.endAt&&!function(c,d,m){const g=Hb(c,d,m);return c.inclusive?g>=0:g>0}(i.endAt,Pu(i),s))}(t,e)}function k4(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function rS(t){return(e,n)=>{let i=!1;for(const s of Pu(t)){const l=V4(s,e,n);if(l!==0)return l;i=i||s.field.isKeyField()}return 0}}function V4(t,e,n){const i=t.field.isKeyField()?ye.comparator(e.key,n.key):function(l,c,d){const m=c.data.field(l),g=d.data.field(l);return m!==null&&g!==null?nl(m,g):Te(42886)}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Te(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[s,l]of i)if(this.equalsFn(s,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return void(s[l]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return i.length===1?delete this.inner[n]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(e){qs(this.inner,(n,i)=>{for(const[s,l]of i)e(s,l)})}isEmpty(){return Bw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L4=new _t(ye.comparator);function qi(){return L4}const iS=new _t(ye.comparator);function Au(...t){let e=iS;for(const n of t)e=e.insert(n.key,n);return e}function aS(t){let e=iS;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function Rs(){return Mu()}function sS(){return Mu()}function Mu(){return new Gs(t=>t.toString(),(t,e)=>t.isEqual(e))}const U4=new _t(ye.comparator),j4=new Bt(ye.comparator);function Ue(...t){let e=j4;for(const n of t)e=e.add(n);return e}const z4=new Bt(xe);function B4(){return z4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wy(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Th(e)?"-0":e}}function oS(t){return{integerValue:""+t}}function F4(t,e){return m4(e)?oS(e):wy(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(){this._=void 0}}function H4(t,e,n){return t instanceof Ih?function(s,l){const c={fields:{[qw]:{stringValue:Hw},[$w]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return l&&vy(l)&&(l=Zh(l)),l&&(c.fields[Gw]=l),{mapValue:c}}(n,e):t instanceof Ku?uS(t,e):t instanceof Wu?cS(t,e):function(s,l){const c=lS(s,l),d=Yb(c)+Yb(s.Ee);return mg(c)&&mg(s.Ee)?oS(d):wy(s.serializer,d)}(t,e)}function q4(t,e,n){return t instanceof Ku?uS(t,e):t instanceof Wu?cS(t,e):n}function lS(t,e){return t instanceof Ch?function(i){return mg(i)||function(l){return!!l&&"doubleValue"in l}(i)}(e)?e:{integerValue:0}:null}class Ih extends rd{}class Ku extends rd{constructor(e){super(),this.elements=e}}function uS(t,e){const n=fS(e);for(const i of t.elements)n.some(s=>ni(s,i))||n.push(i);return{arrayValue:{values:n}}}class Wu extends rd{constructor(e){super(),this.elements=e}}function cS(t,e){let n=fS(e);for(const i of t.elements)n=n.filter(s=>!ni(s,i));return{arrayValue:{values:n}}}class Ch extends rd{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function Yb(t){return At(t.integerValue||t.doubleValue)}function fS(t){return _y(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function G4(t,e){return t.field.isEqual(e.field)&&function(i,s){return i instanceof Ku&&s instanceof Ku||i instanceof Wu&&s instanceof Wu?tl(i.elements,s.elements,ni):i instanceof Ch&&s instanceof Ch?ni(i.Ee,s.Ee):i instanceof Ih&&s instanceof Ih}(t.transform,e.transform)}class $4{constructor(e,n){this.version=e,this.transformResults=n}}class Ui{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ui}static exists(e){return new Ui(void 0,e)}static updateTime(e){return new Ui(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function uh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class id{}function hS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new mS(t.key,Ui.none()):new cc(t.key,t.data,Ui.none());{const n=t.data,i=lr.empty();let s=new Bt(cn.comparator);for(let l of e.fields)if(!s.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?i.delete(l):i.set(l,c),s=s.add(l)}return new $s(t.key,i,new Sr(s.toArray()),Ui.none())}}function Y4(t,e,n){t instanceof cc?function(s,l,c){const d=s.value.clone(),m=Wb(s.fieldTransforms,l,c.transformResults);d.setAll(m),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(t,e,n):t instanceof $s?function(s,l,c){if(!uh(s.precondition,l))return void l.convertToUnknownDocument(c.version);const d=Wb(s.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(dS(s)),m.setAll(d),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()}(t,e,n):function(s,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,n)}function ku(t,e,n,i){return t instanceof cc?function(l,c,d,m){if(!uh(l.precondition,c))return d;const g=l.value.clone(),v=Qb(l.fieldTransforms,m,c);return g.setAll(v),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null}(t,e,n,i):t instanceof $s?function(l,c,d,m){if(!uh(l.precondition,c))return d;const g=Qb(l.fieldTransforms,m,c),v=c.data;return v.setAll(dS(l)),v.setAll(g),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(b=>b.field))}(t,e,n,i):function(l,c,d){return uh(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(t,e,n)}function K4(t,e){let n=null;for(const i of t.fieldTransforms){const s=e.data.field(i.field),l=lS(i.transform,s||null);l!=null&&(n===null&&(n=lr.empty()),n.set(i.field,l))}return n||null}function Kb(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&tl(i,s,(l,c)=>G4(l,c))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class cc extends id{constructor(e,n,i,s=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class $s extends id{constructor(e,n,i,s,l=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=s,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function dS(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function Wb(t,e,n){const i=new Map;Xe(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let s=0;s<n.length;s++){const l=t[s],c=l.transform,d=e.data.field(l.field);i.set(l.field,q4(c,d,n[s]))}return i}function Qb(t,e,n){const i=new Map;for(const s of t){const l=s.transform,c=n.data.field(s.field);i.set(s.field,H4(l,c,e))}return i}class mS extends id{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class W4 extends id{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q4{constructor(e,n,i,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const l=this.mutations[s];l.key.isEqual(e.key)&&Y4(l,e,i[s])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=ku(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=ku(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=sS();return this.mutations.forEach(s=>{const l=e.get(s.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=n.has(s.key)?null:d;const m=hS(c,d);m!==null&&i.set(s.key,m),c.isValidDocument()||c.convertToNoDocument(Ae.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ue())}isEqual(e){return this.batchId===e.batchId&&tl(this.mutations,e.mutations,(n,i)=>Kb(n,i))&&tl(this.baseMutations,e.baseMutations,(n,i)=>Kb(n,i))}}class Sy{constructor(e,n,i,s){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=s}static from(e,n,i){Xe(e.mutations.length===i.length,58842,{Ve:e.mutations.length,me:i.length});let s=function(){return U4}();const l=e.mutations;for(let c=0;c<l.length;c++)s=s.insert(l[c].key,i[c].version);return new Sy(e,n,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X4{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J4{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nt,Fe;function Z4(t){switch(t){case se.OK:return Te(64938);case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0;default:return Te(15467,{code:t})}}function pS(t){if(t===void 0)return Hi("GRPC error has no .code"),se.UNKNOWN;switch(t){case Nt.OK:return se.OK;case Nt.CANCELLED:return se.CANCELLED;case Nt.UNKNOWN:return se.UNKNOWN;case Nt.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case Nt.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case Nt.INTERNAL:return se.INTERNAL;case Nt.UNAVAILABLE:return se.UNAVAILABLE;case Nt.UNAUTHENTICATED:return se.UNAUTHENTICATED;case Nt.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case Nt.NOT_FOUND:return se.NOT_FOUND;case Nt.ALREADY_EXISTS:return se.ALREADY_EXISTS;case Nt.PERMISSION_DENIED:return se.PERMISSION_DENIED;case Nt.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case Nt.ABORTED:return se.ABORTED;case Nt.OUT_OF_RANGE:return se.OUT_OF_RANGE;case Nt.UNIMPLEMENTED:return se.UNIMPLEMENTED;case Nt.DATA_LOSS:return se.DATA_LOSS;default:return Te(39323,{code:t})}}(Fe=Nt||(Nt={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e3=new xa([4294967295,4294967295],0);function Xb(t){const e=Uw().encode(t),n=new Dw;return n.update(e),new Uint8Array(n.digest())}function Jb(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),s=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new xa([n,i],0),new xa([s,l],0)]}class Ay{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Ru(`Invalid padding: ${n}`);if(i<0)throw new Ru(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Ru(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new Ru(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=xa.fromNumber(this.fe)}pe(e,n,i){let s=e.add(n.multiply(xa.fromNumber(i)));return s.compare(e3)===1&&(s=new xa([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const n=Xb(e),[i,s]=Jb(n);for(let l=0;l<this.hashCount;l++){const c=this.pe(i,s,l);if(!this.ye(c))return!1}return!0}static create(e,n,i){const s=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Ay(l,s,n);return i.forEach(d=>c.insert(d)),c}insert(e){if(this.fe===0)return;const n=Xb(e),[i,s]=Jb(n);for(let l=0;l<this.hashCount;l++){const c=this.pe(i,s,l);this.we(c)}}we(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class Ru extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(e,n,i,s,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const s=new Map;return s.set(e,fc.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new ad(Ae.min(),s,new _t(xe),qi(),Ue())}}class fc{constructor(e,n,i,s,l){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new fc(i,n,Ue(),Ue(),Ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(e,n,i,s){this.Se=e,this.removedTargetIds=n,this.key=i,this.be=s}}class gS{constructor(e,n){this.targetId=e,this.De=n}}class yS{constructor(e,n,i=dn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=s}}class Zb{constructor(){this.ve=0,this.Ce=e1(),this.Fe=dn.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Ue(),n=Ue(),i=Ue();return this.Ce.forEach((s,l)=>{switch(l){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:i=i.add(s);break;default:Te(38017,{changeType:l})}}),new fc(this.Fe,this.Me,e,n,i)}ke(){this.xe=!1,this.Ce=e1()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Xe(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class t3{constructor(e){this.We=e,this.Ge=new Map,this.ze=qi(),this.je=Ff(),this.Je=Ff(),this.He=new _t(xe)}Ye(e){for(const n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(const n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{const i=this.tt(n);switch(e.state){case 0:this.nt(n)&&i.Be(e.resumeToken);break;case 1:i.Ue(),i.Oe||i.ke(),i.Be(e.resumeToken);break;case 2:i.Ue(),i.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(i.Ke(),i.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),i.Be(e.resumeToken));break;default:Te(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((i,s)=>{this.nt(s)&&n(s)})}it(e){const n=e.targetId,i=e.De.count,s=this.st(n);if(s){const l=s.target;if(gg(l))if(i===0){const c=new ye(l.path);this.Xe(n,c,vn.newNoDocument(c,Ae.min()))}else Xe(i===1,20013,{expectedCount:i});else{const c=this.ot(n);if(c!==i){const d=this._t(e),m=d?this.ut(d,e,c):1;if(m!==0){this.rt(n);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,g)}}}}}_t(e){const n=e.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:l=0}=n;let c,d;try{c=Ua(i).toUint8Array()}catch(m){if(m instanceof Fw)return ka("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new Ay(c,s,l)}catch(m){return ka(m instanceof Ru?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.fe===0?null:d}ut(e,n,i){return n.De.count===i-this.ht(e,n.targetId)?0:2}ht(e,n){const i=this.We.getRemoteKeysForTarget(n);let s=0;return i.forEach(l=>{const c=this.We.lt(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.Xe(n,l,null),s++)}),s}Pt(e){const n=new Map;this.Ge.forEach((l,c)=>{const d=this.st(c);if(d){if(l.current&&gg(d.target)){const m=new ye(d.target.path);this.Tt(m).has(c)||this.It(c,m)||this.Xe(c,m,vn.newNoDocument(m,e))}l.Ne&&(n.set(c,l.Le()),l.ke())}});let i=Ue();this.Je.forEach((l,c)=>{let d=!0;c.forEachWhile(m=>{const g=this.st(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(i=i.add(l))}),this.ze.forEach((l,c)=>c.setReadTime(e));const s=new ad(e,n,this.He,this.ze,i);return this.ze=qi(),this.je=Ff(),this.Je=Ff(),this.He=new _t(xe),s}Ze(e,n){if(!this.nt(e))return;const i=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,i),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,i){if(!this.nt(e))return;const s=this.tt(e);this.It(e,n)?s.qe(n,1):s.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),i&&(this.ze=this.ze.insert(n,i))}removeTarget(e){this.Ge.delete(e)}ot(e){const n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new Zb,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new Bt(xe),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new Bt(xe),this.je=this.je.insert(e,n)),n}nt(e){const n=this.st(e)!==null;return n||fe("WatchChangeAggregator","Detected inactive target",e),n}st(e){const n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new Zb),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}}function Ff(){return new _t(ye.comparator)}function e1(){return new _t(ye.comparator)}const n3={asc:"ASCENDING",desc:"DESCENDING"},r3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},i3={and:"AND",or:"OR"};class a3{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function vg(t,e){return t.useProto3Json||Jh(e)?e:{value:e}}function Oh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function vS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function s3(t,e){return Oh(t,e.toTimestamp())}function Xr(t){return Xe(!!t,49232),Ae.fromTimestamp(function(n){const i=La(n);return new ct(i.seconds,i.nanos)}(t))}function Ry(t,e){return _g(t,e).canonicalString()}function _g(t,e){const n=function(s){return new yt(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function _S(t){const e=yt.fromString(t);return Xe(SS(e),10190,{key:e.toString()}),e}function Eg(t,e){return Ry(t.databaseId,e.path)}function Vp(t,e){const n=_S(e);if(n.get(1)!==t.databaseId.projectId)throw new ge(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ge(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ye(bS(n))}function ES(t,e){return Ry(t.databaseId,e)}function o3(t){const e=_S(t);return e.length===4?yt.emptyPath():bS(e)}function bg(t){return new yt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function bS(t){return Xe(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function t1(t,e,n){return{name:Eg(t,e),fields:n.value.mapValue.fields}}function l3(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Te(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],l=function(g,v){return g.useProto3Json?(Xe(v===void 0||typeof v=="string",58123),dn.fromBase64String(v||"")):(Xe(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),dn.fromUint8Array(v||new Uint8Array))}(t,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&function(g){const v=g.code===void 0?se.UNKNOWN:pS(g.code);return new ge(v,g.message||"")}(c);n=new yS(i,s,l,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const s=Vp(t,i.document.name),l=Xr(i.document.updateTime),c=i.document.createTime?Xr(i.document.createTime):Ae.min(),d=new lr({mapValue:{fields:i.document.fields}}),m=vn.newFoundDocument(s,l,c,d),g=i.targetIds||[],v=i.removedTargetIds||[];n=new ch(g,v,m.key,m)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const s=Vp(t,i.document),l=i.readTime?Xr(i.readTime):Ae.min(),c=vn.newNoDocument(s,l),d=i.removedTargetIds||[];n=new ch([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const s=Vp(t,i.document),l=i.removedTargetIds||[];n=new ch([],l,s,null)}else{if(!("filter"in e))return Te(11601,{At:e});{e.filter;const i=e.filter;i.targetId;const{count:s=0,unchangedNames:l}=i,c=new J4(s,l),d=i.targetId;n=new gS(d,c)}}return n}function u3(t,e){let n;if(e instanceof cc)n={update:t1(t,e.key,e.value)};else if(e instanceof mS)n={delete:Eg(t,e.key)};else if(e instanceof $s)n={update:t1(t,e.key,e.data),updateMask:v3(e.fieldMask)};else{if(!(e instanceof W4))return Te(16599,{Rt:e.type});n={verify:Eg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(l,c){const d=c.transform;if(d instanceof Ih)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Ku)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Wu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Ch)return{fieldPath:c.field.canonicalString(),increment:d.Ee};throw Te(20930,{transform:c.transform})}(0,i))),e.precondition.isNone||(n.currentDocument=function(s,l){return l.updateTime!==void 0?{updateTime:s3(s,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Te(27497)}(t,e.precondition)),n}function c3(t,e){return t&&t.length>0?(Xe(e!==void 0,14353),t.map(n=>function(s,l){let c=s.updateTime?Xr(s.updateTime):Xr(l);return c.isEqual(Ae.min())&&(c=Xr(l)),new $4(c,s.transformResults||[])}(n,e))):[]}function f3(t,e){return{documents:[ES(t,e.path)]}}function h3(t,e){const n={structuredQuery:{}},i=e.path;let s;e.collectionGroup!==null?(s=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=ES(t,s);const l=function(g){if(g.length!==0)return wS(ri.create(g,"and"))}(e.filters);l&&(n.structuredQuery.where=l);const c=function(g){if(g.length!==0)return g.map(v=>function(T){return{field:$o(T.field),direction:p3(T.dir)}}(v))}(e.orderBy);c&&(n.structuredQuery.orderBy=c);const d=vg(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{Vt:n,parent:s}}function d3(t){let e=o3(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let s=null;if(i>0){Xe(i===1,65062);const v=n.from[0];v.allDescendants?s=v.collectionId:e=e.child(v.collectionId)}let l=[];n.where&&(l=function(b){const T=TS(b);return T instanceof ri&&Jw(T)?T.getFilters():[T]}(n.where));let c=[];n.orderBy&&(c=function(b){return b.map(T=>function(O){return new Rh(Yo(O.field),function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction))}(T))}(n.orderBy));let d=null;n.limit&&(d=function(b){let T;return T=typeof b=="object"?b.value:b,Jh(T)?null:T}(n.limit));let m=null;n.startAt&&(m=function(b){const T=!!b.before,R=b.values||[];return new Ah(R,T)}(n.startAt));let g=null;return n.endAt&&(g=function(b){const T=!b.before,R=b.values||[];return new Ah(R,T)}(n.endAt)),x4(e,s,c,l,d,"F",m,g)}function m3(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function TS(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Yo(n.unaryFilter.field);return zt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=Yo(n.unaryFilter.field);return zt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Yo(n.unaryFilter.field);return zt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Yo(n.unaryFilter.field);return zt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}}(t):t.fieldFilter!==void 0?function(n){return zt.create(Yo(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ri.create(n.compositeFilter.filters.map(i=>TS(i)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Te(1026)}}(n.compositeFilter.op))}(t):Te(30097,{filter:t})}function p3(t){return n3[t]}function g3(t){return r3[t]}function y3(t){return i3[t]}function $o(t){return{fieldPath:t.canonicalString()}}function Yo(t){return cn.fromServerFormat(t.fieldPath)}function wS(t){return t instanceof zt?function(n){if(n.op==="=="){if(Fb(n.value))return{unaryFilter:{field:$o(n.field),op:"IS_NAN"}};if(Bb(n.value))return{unaryFilter:{field:$o(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Fb(n.value))return{unaryFilter:{field:$o(n.field),op:"IS_NOT_NAN"}};if(Bb(n.value))return{unaryFilter:{field:$o(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$o(n.field),op:g3(n.op),value:n.value}}}(t):t instanceof ri?function(n){const i=n.getFilters().map(s=>wS(s));return i.length===1?i[0]:{compositeFilter:{op:y3(n.op),filters:i}}}(t):Te(54877,{filter:t})}function v3(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function SS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(e,n,i,s,l=Ae.min(),c=Ae.min(),d=dn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(e){return new Ca(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ca(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ca(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ca(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _3{constructor(e){this.gt=e}}function E3(t){const e=d3({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?yg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b3{constructor(){this.Dn=new T3}addToCollectionParentIndex(e,n){return this.Dn.add(n),ae.resolve()}getCollectionParents(e,n){return ae.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return ae.resolve()}deleteFieldIndex(e,n){return ae.resolve()}deleteAllFieldIndexes(e){return ae.resolve()}createTargetIndexes(e,n){return ae.resolve()}getDocumentsMatchingTarget(e,n){return ae.resolve(null)}getIndexType(e,n){return ae.resolve(0)}getFieldIndexes(e,n){return ae.resolve([])}getNextCollectionGroupToUpdate(e){return ae.resolve(null)}getMinOffset(e,n){return ae.resolve(Va.min())}getMinOffsetFromCollectionGroup(e,n){return ae.resolve(Va.min())}updateCollectionGroup(e,n,i){return ae.resolve()}updateIndexEntries(e,n){return ae.resolve()}}class T3{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),s=this.index[n]||new Bt(yt.comparator),l=!s.has(i);return this.index[n]=s.add(i),l}has(e){const n=e.lastSegment(),i=e.popLast(),s=this.index[n];return s&&s.has(i)}getEntries(e){return(this.index[e]||new Bt(yt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},AS=41943040;class Cn{static withCacheSize(e){return new Cn(e,Cn.DEFAULT_COLLECTION_PERCENTILE,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Cn.DEFAULT_COLLECTION_PERCENTILE=10,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Cn.DEFAULT=new Cn(AS,Cn.DEFAULT_COLLECTION_PERCENTILE,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Cn.DISABLED=new Cn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new il(0)}static ur(){return new il(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1="LruGarbageCollector",w3=1048576;function i1([t,e],[n,i]){const s=xe(t,n);return s===0?xe(e,i):s}class S3{constructor(e){this.Tr=e,this.buffer=new Bt(i1),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();i1(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class A3{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){fe(r1,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){dl(n)?fe(r1,"Ignoring IndexedDB error during garbage collection: ",n):await hl(n)}await this.Rr(3e5)})}}class R3{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(i=>Math.floor(n/100*i))}nthSequenceNumber(e,n){if(n===0)return ae.resolve(Xh.ue);const i=new S3(n);return this.Vr.forEachTarget(e,s=>i.Er(s.sequenceNumber)).next(()=>this.Vr.gr(e,s=>i.Er(s))).next(()=>i.maxValue)}removeTargets(e,n,i){return this.Vr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),ae.resolve(n1)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),n1):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let i,s,l,c,d,m,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),s=this.params.maximumSequenceNumbersToCollect):s=b,c=Date.now(),this.nthSequenceNumber(e,s))).next(b=>(i=b,d=Date.now(),this.removeTargets(e,i,n))).next(b=>(l=b,m=Date.now(),this.removeOrphanedDocuments(e,i))).next(b=>(g=Date.now(),qo()<=Le.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${s} in `+(d-c)+`ms
	Removed ${l} targets in `+(m-d)+`ms
	Removed ${b} documents in `+(g-m)+`ms
Total Duration: ${g-v}ms`),ae.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:l,documentsRemoved:b})))}}function I3(t,e){return new R3(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C3{constructor(){this.changes=new Gs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,vn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?ae.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O3{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D3{constructor(e,n,i,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=s}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(i=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(i!==null&&ku(i.mutation,s,Sr.empty(),ct.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,Ue()).next(()=>i))}getLocalViewOfDocuments(e,n,i=Ue()){const s=Rs();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,i).next(l=>{let c=Au();return l.forEach((d,m)=>{c=c.insert(d,m.overlayedDocument)}),c}))}getOverlayedDocuments(e,n){const i=Rs();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,Ue()))}populateOverlays(e,n,i){const s=[];return i.forEach(l=>{n.has(l)||s.push(l)}),this.documentOverlayCache.getOverlays(e,s).next(l=>{l.forEach((c,d)=>{n.set(c,d)})})}computeViews(e,n,i,s){let l=qi();const c=Mu(),d=function(){return Mu()}();return n.forEach((m,g)=>{const v=i.get(g.key);s.has(g.key)&&(v===void 0||v.mutation instanceof $s)?l=l.insert(g.key,g):v!==void 0?(c.set(g.key,v.mutation.getFieldMask()),ku(v.mutation,g,v.mutation.getFieldMask(),ct.now())):c.set(g.key,Sr.empty())}),this.recalculateAndSaveOverlays(e,l).next(m=>(m.forEach((g,v)=>c.set(g,v)),n.forEach((g,v)=>{var b;return d.set(g,new O3(v,(b=c.get(g))!==null&&b!==void 0?b:null))}),d))}recalculateAndSaveOverlays(e,n){const i=Mu();let s=new _t((c,d)=>c-d),l=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(c=>{for(const d of c)d.keys().forEach(m=>{const g=n.get(m);if(g===null)return;let v=i.get(m)||Sr.empty();v=d.applyToLocalView(g,v),i.set(m,v);const b=(s.get(d.batchId)||Ue()).add(m);s=s.insert(d.batchId,b)})}).next(()=>{const c=[],d=s.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),g=m.key,v=m.value,b=sS();v.forEach(T=>{if(!l.has(T)){const R=hS(n.get(T),i.get(T));R!==null&&b.set(T,R),l=l.add(T)}}),c.push(this.documentOverlayCache.saveOverlays(e,g,b))}return ae.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,s){return function(c){return ye.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):P4(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,s):this.getDocumentsMatchingCollectionQuery(e,n,i,s)}getNextDocuments(e,n,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,s).next(l=>{const c=s-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,s-l.size):ae.resolve(Rs());let d=qu,m=l;return c.next(g=>ae.forEach(g,(v,b)=>(d<b.largestBatchId&&(d=b.largestBatchId),l.get(v)?ae.resolve():this.remoteDocumentCache.getEntry(e,v).next(T=>{m=m.insert(v,T)}))).next(()=>this.populateOverlays(e,g,l)).next(()=>this.computeViews(e,m,g,Ue())).next(v=>({batchId:d,changes:aS(v)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next(i=>{let s=Au();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,i,s){const l=n.collectionGroup;let c=Au();return this.indexManager.getCollectionParents(e,l).next(d=>ae.forEach(d,m=>{const g=function(b,T){return new ed(T,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(n,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,i,s).next(v=>{v.forEach((b,T)=>{c=c.insert(b,T)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,n,i,s){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,l,s))).next(c=>{l.forEach((m,g)=>{const v=g.getKey();c.get(v)===null&&(c=c.insert(v,vn.newInvalidDocument(v)))});let d=Au();return c.forEach((m,g)=>{const v=l.get(m);v!==void 0&&ku(v.mutation,g,Sr.empty(),ct.now()),nd(n,g)&&(d=d.insert(m,g))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N3{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return ae.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Xr(s.createTime)}}(n)),ae.resolve()}getNamedQuery(e,n){return ae.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,function(s){return{name:s.name,query:E3(s.bundledQuery),readTime:Xr(s.readTime)}}(n)),ae.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x3{constructor(){this.overlays=new _t(ye.comparator),this.kr=new Map}getOverlay(e,n){return ae.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Rs();return ae.forEach(n,s=>this.getOverlay(e,s).next(l=>{l!==null&&i.set(s,l)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((s,l)=>{this.wt(e,n,l)}),ae.resolve()}removeOverlaysForBatchId(e,n,i){const s=this.kr.get(i);return s!==void 0&&(s.forEach(l=>this.overlays=this.overlays.remove(l)),this.kr.delete(i)),ae.resolve()}getOverlaysForCollection(e,n,i){const s=Rs(),l=n.length+1,c=new ye(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const m=d.getNext().value,g=m.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===l&&m.largestBatchId>i&&s.set(m.getKey(),m)}return ae.resolve(s)}getOverlaysForCollectionGroup(e,n,i,s){let l=new _t((g,v)=>g-v);const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>i){let v=l.get(g.largestBatchId);v===null&&(v=Rs(),l=l.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const d=Rs(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((g,v)=>d.set(g,v)),!(d.size()>=s)););return ae.resolve(d)}wt(e,n,i){const s=this.overlays.get(i.key);if(s!==null){const c=this.kr.get(s.largestBatchId).delete(i.key);this.kr.set(s.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new X4(n,i));let l=this.kr.get(n);l===void 0&&(l=Ue(),this.kr.set(n,l)),this.kr.set(n,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P3{constructor(){this.sessionToken=dn.EMPTY_BYTE_STRING}getSessionToken(e){return ae.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ae.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iy{constructor(){this.qr=new Bt(Kt.Qr),this.$r=new Bt(Kt.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const i=new Kt(e,n);this.qr=this.qr.add(i),this.$r=this.$r.add(i)}Kr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.Wr(new Kt(e,n))}Gr(e,n){e.forEach(i=>this.removeReference(i,n))}zr(e){const n=new ye(new yt([])),i=new Kt(n,e),s=new Kt(n,e+1),l=[];return this.$r.forEachInRange([i,s],c=>{this.Wr(c),l.push(c.key)}),l}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new ye(new yt([])),i=new Kt(n,e),s=new Kt(n,e+1);let l=Ue();return this.$r.forEachInRange([i,s],c=>{l=l.add(c.key)}),l}containsKey(e){const n=new Kt(e,0),i=this.qr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class Kt{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return ye.comparator(e.key,n.key)||xe(e.Hr,n.Hr)}static Ur(e,n){return xe(e.Hr,n.Hr)||ye.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M3{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new Bt(Kt.Qr)}checkEmpty(e){return ae.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,s){const l=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new Q4(l,n,i,s);this.mutationQueue.push(c);for(const d of s)this.Yr=this.Yr.add(new Kt(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ae.resolve(c)}lookupMutationBatch(e,n){return ae.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,s=this.Xr(i),l=s<0?0:s;return ae.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(this.mutationQueue.length===0?yy:this.er-1)}getAllMutationBatches(e){return ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new Kt(n,0),s=new Kt(n,Number.POSITIVE_INFINITY),l=[];return this.Yr.forEachInRange([i,s],c=>{const d=this.Zr(c.Hr);l.push(d)}),ae.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Bt(xe);return n.forEach(s=>{const l=new Kt(s,0),c=new Kt(s,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([l,c],d=>{i=i.add(d.Hr)})}),ae.resolve(this.ei(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,s=i.length+1;let l=i;ye.isDocumentKey(l)||(l=l.child(""));const c=new Kt(new ye(l),0);let d=new Bt(xe);return this.Yr.forEachWhile(m=>{const g=m.key.path;return!!i.isPrefixOf(g)&&(g.length===s&&(d=d.add(m.Hr)),!0)},c),ae.resolve(this.ei(d))}ei(e){const n=[];return e.forEach(i=>{const s=this.Zr(i);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Xe(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Yr;return ae.forEach(n.mutations,s=>{const l=new Kt(s.key,n.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Yr=i})}rr(e){}containsKey(e,n){const i=new Kt(n,0),s=this.Yr.firstAfterOrEqual(i);return ae.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,ae.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k3{constructor(e){this.ni=e,this.docs=function(){return new _t(ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,s=this.docs.get(i),l=s?s.size:0,c=this.ni(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return ae.resolve(i?i.document.mutableCopy():vn.newInvalidDocument(n))}getEntries(e,n){let i=qi();return n.forEach(s=>{const l=this.docs.get(s);i=i.insert(s,l?l.document.mutableCopy():vn.newInvalidDocument(s))}),ae.resolve(i)}getDocumentsMatchingQuery(e,n,i,s){let l=qi();const c=n.path,d=new ye(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:g,value:{document:v}}=m.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||c4(u4(v),i)<=0||(s.has(v.key)||nd(n,v))&&(l=l.insert(v.key,v.mutableCopy()))}return ae.resolve(l)}getAllFromCollectionGroup(e,n,i,s){Te(9500)}ri(e,n){return ae.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new V3(this)}getSize(e){return ae.resolve(this.size)}}class V3 extends C3{constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?n.push(this.Or.addEntry(e,s)):this.Or.removeEntry(i)}),ae.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L3{constructor(e){this.persistence=e,this.ii=new Gs(n=>Ey(n),by),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.si=0,this.oi=new Iy,this.targetCount=0,this._i=il.ar()}forEachTarget(e,n){return this.ii.forEach((i,s)=>n(s)),ae.resolve()}getLastRemoteSnapshotVersion(e){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ae.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.si&&(this.si=n),ae.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new il(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,ae.resolve()}updateTargetData(e,n){return this.hr(n),ae.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,ae.resolve()}removeTargets(e,n,i){let s=0;const l=[];return this.ii.forEach((c,d)=>{d.sequenceNumber<=n&&i.get(d.targetId)===null&&(this.ii.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),s++)}),ae.waitFor(l).next(()=>s)}getTargetCount(e){return ae.resolve(this.targetCount)}getTargetData(e,n){const i=this.ii.get(n)||null;return ae.resolve(i)}addMatchingKeys(e,n,i){return this.oi.Kr(n,i),ae.resolve()}removeMatchingKeys(e,n,i){this.oi.Gr(n,i);const s=this.persistence.referenceDelegate,l=[];return s&&n.forEach(c=>{l.push(s.markPotentiallyOrphaned(e,c))}),ae.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),ae.resolve()}getMatchingKeysForTargetId(e,n){const i=this.oi.Jr(n);return ae.resolve(i)}containsKey(e,n){return ae.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(e,n){this.ai={},this.overlays={},this.ui=new Xh(0),this.ci=!1,this.ci=!0,this.li=new P3,this.referenceDelegate=e(this),this.hi=new L3(this),this.indexManager=new b3,this.remoteDocumentCache=function(s){return new k3(s)}(i=>this.referenceDelegate.Pi(i)),this.serializer=new _3(n),this.Ti=new N3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new x3,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.ai[e.toKey()];return i||(i=new M3(n,this.referenceDelegate),this.ai[e.toKey()]=i),i}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,i){fe("MemoryPersistence","Starting transaction:",e);const s=new U3(this.ui.next());return this.referenceDelegate.Ii(),i(s).next(l=>this.referenceDelegate.di(s).next(()=>l)).toPromise().then(l=>(s.raiseOnCommittedEvent(),l))}Ei(e,n){return ae.or(Object.values(this.ai).map(i=>()=>i.containsKey(e,n)))}}class U3 extends h4{constructor(e){super(),this.currentSequenceNumber=e}}class Cy{constructor(e){this.persistence=e,this.Ai=new Iy,this.Ri=null}static Vi(e){return new Cy(e)}get mi(){if(this.Ri)return this.Ri;throw Te(60996)}addReference(e,n,i){return this.Ai.addReference(i,n),this.mi.delete(i.toString()),ae.resolve()}removeReference(e,n,i){return this.Ai.removeReference(i,n),this.mi.add(i.toString()),ae.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),ae.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(s=>this.mi.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(l=>this.mi.add(l.toString()))}).next(()=>i.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.mi,i=>{const s=ye.fromPath(i);return this.fi(e,s).next(l=>{l||n.removeEntry(s,Ae.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(i=>{i?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return ae.or([()=>ae.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Dh{constructor(e,n){this.persistence=e,this.gi=new Gs(i=>p4(i.path),(i,s)=>i.isEqual(s)),this.garbageCollector=I3(this,n)}static Vi(e,n){return new Dh(e,n)}Ii(){}di(e){return ae.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>n.next(s=>i+s))}yr(e){let n=0;return this.gr(e,i=>{n++}).next(()=>n)}gr(e,n){return ae.forEach(this.gi,(i,s)=>this.Sr(e,i,s).next(l=>l?ae.resolve():n(s)))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const s=this.persistence.getRemoteDocumentCache(),l=s.newChangeBuffer();return s.ri(e,c=>this.Sr(e,c,n).next(d=>{d||(i++,l.removeEntry(c,Ae.min()))})).next(()=>l.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),ae.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.gi.set(i,e.currentSequenceNumber),ae.resolve()}removeReference(e,n,i){return this.gi.set(i,e.currentSequenceNumber),ae.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),ae.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=oh(e.data.value)),n}Sr(e,n,i){return ae.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.gi.get(n);return ae.resolve(s!==void 0&&s>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oy{constructor(e,n,i,s){this.targetId=e,this.fromCache=n,this.Is=i,this.ds=s}static Es(e,n){let i=Ue(),s=Ue();for(const l of n.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:s=s.add(l.doc.key)}return new Oy(e,n.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j3{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z3{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return hO()?8:d4(_n())>0?6:4}()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,i,s){const l={result:null};return this.ps(e,n).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.ys(e,n,s,i).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new j3;return this.ws(e,n,c).next(d=>{if(l.result=d,this.Rs)return this.Ss(e,n,c,d.size)})}).next(()=>l.result)}Ss(e,n,i,s){return i.documentReadCount<this.Vs?(qo()<=Le.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",Go(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ae.resolve()):(qo()<=Le.DEBUG&&fe("QueryEngine","Query:",Go(n),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.fs*s?(qo()<=Le.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",Go(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Qr(n))):ae.resolve())}ps(e,n){if($b(n))return ae.resolve(null);let i=Qr(n);return this.indexManager.getIndexType(e,i).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=yg(n,null,"F"),i=Qr(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const c=Ue(...l);return this.gs.getDocuments(e,c).next(d=>this.indexManager.getMinOffset(e,i).next(m=>{const g=this.bs(n,d);return this.Ds(n,g,c,m.readTime)?this.ps(e,yg(n,null,"F")):this.vs(e,g,n,m)}))})))}ys(e,n,i,s){return $b(n)||s.isEqual(Ae.min())?ae.resolve(null):this.gs.getDocuments(e,i).next(l=>{const c=this.bs(n,l);return this.Ds(n,c,i,s)?ae.resolve(null):(qo()<=Le.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Go(n)),this.vs(e,c,n,l4(s,qu)).next(d=>d))})}bs(e,n){let i=new Bt(rS(e));return n.forEach((s,l)=>{nd(e,l)&&(i=i.add(l))}),i}Ds(e,n,i,s){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(s)>0)}ws(e,n,i){return qo()<=Le.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",Go(n)),this.gs.getDocumentsMatchingQuery(e,n,Va.min(),i)}vs(e,n,i,s){return this.gs.getDocumentsMatchingQuery(e,i,s).next(l=>(n.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dy="LocalStore",B3=3e8;class F3{constructor(e,n,i,s){this.persistence=e,this.Cs=n,this.serializer=s,this.Fs=new _t(xe),this.Ms=new Gs(l=>Ey(l),by),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(i)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new D3(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}}function H3(t,e,n,i){return new F3(t,e,n,i)}async function IS(t,e){const n=Re(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let s;return n.mutationQueue.getAllMutationBatches(i).next(l=>(s=l,n.Ns(e),n.mutationQueue.getAllMutationBatches(i))).next(l=>{const c=[],d=[];let m=Ue();for(const g of s){c.push(g.batchId);for(const v of g.mutations)m=m.add(v.key)}for(const g of l){d.push(g.batchId);for(const v of g.mutations)m=m.add(v.key)}return n.localDocuments.getDocuments(i,m).next(g=>({Bs:g,removedBatchIds:c,addedBatchIds:d}))})})}function q3(t,e){const n=Re(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=e.batch.keys(),l=n.Os.newChangeBuffer({trackRemovals:!0});return function(d,m,g,v){const b=g.batch,T=b.keys();let R=ae.resolve();return T.forEach(O=>{R=R.next(()=>v.getEntry(m,O)).next(j=>{const L=g.docVersions.get(O);Xe(L!==null,48541),j.version.compareTo(L)<0&&(b.applyToRemoteDocument(j,g),j.isValidDocument()&&(j.setReadTime(g.commitVersion),v.addEntry(j)))})}),R.next(()=>d.mutationQueue.removeMutationBatch(m,b))}(n,i,e,l).next(()=>l.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(d){let m=Ue();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(m=m.add(d.batch.mutations[g].key));return m}(e))).next(()=>n.localDocuments.getDocuments(i,s))})}function CS(t){const e=Re(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function G3(t,e){const n=Re(t),i=e.snapshotVersion;let s=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=n.Os.newChangeBuffer({trackRemovals:!0});s=n.Fs;const d=[];e.targetChanges.forEach((v,b)=>{const T=s.get(b);if(!T)return;d.push(n.hi.removeMatchingKeys(l,v.removedDocuments,b).next(()=>n.hi.addMatchingKeys(l,v.addedDocuments,b)));let R=T.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(b)!==null?R=R.withResumeToken(dn.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):v.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(v.resumeToken,i)),s=s.insert(b,R),function(j,L,z){return j.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=B3?!0:z.addedDocuments.size+z.modifiedDocuments.size+z.removedDocuments.size>0}(T,R,v)&&d.push(n.hi.updateTargetData(l,R))});let m=qi(),g=Ue();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(l,v))}),d.push($3(l,c,e.documentUpdates).next(v=>{m=v.Ls,g=v.ks})),!i.isEqual(Ae.min())){const v=n.hi.getLastRemoteSnapshotVersion(l).next(b=>n.hi.setTargetsMetadata(l,l.currentSequenceNumber,i));d.push(v)}return ae.waitFor(d).next(()=>c.apply(l)).next(()=>n.localDocuments.getLocalViewOfDocuments(l,m,g)).next(()=>m)}).then(l=>(n.Fs=s,l))}function $3(t,e,n){let i=Ue(),s=Ue();return n.forEach(l=>i=i.add(l)),e.getEntries(t,i).next(l=>{let c=qi();return n.forEach((d,m)=>{const g=l.get(d);m.isFoundDocument()!==g.isFoundDocument()&&(s=s.add(d)),m.isNoDocument()&&m.version.isEqual(Ae.min())?(e.removeEntry(d,m.readTime),c=c.insert(d,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(m),c=c.insert(d,m)):fe(Dy,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",m.version)}),{Ls:c,ks:s}})}function Y3(t,e){const n=Re(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=yy),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function K3(t,e){const n=Re(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return n.hi.getTargetData(i,e).next(l=>l?(s=l,ae.resolve(s)):n.hi.allocateTargetId(i).next(c=>(s=new Ca(e,c,"TargetPurposeListen",i.currentSequenceNumber),n.hi.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=n.Fs.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(i.targetId,i),n.Ms.set(e,i.targetId)),i})}async function Tg(t,e,n){const i=Re(t),s=i.Fs.get(e),l=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",l,c=>i.persistence.referenceDelegate.removeTarget(c,s))}catch(c){if(!dl(c))throw c;fe(Dy,`Failed to update sequence numbers for target ${e}: ${c}`)}i.Fs=i.Fs.remove(e),i.Ms.delete(s.target)}function a1(t,e,n){const i=Re(t);let s=Ae.min(),l=Ue();return i.persistence.runTransaction("Execute query","readwrite",c=>function(m,g,v){const b=Re(m),T=b.Ms.get(v);return T!==void 0?ae.resolve(b.Fs.get(T)):b.hi.getTargetData(g,v)}(i,c,Qr(e)).next(d=>{if(d)return s=d.lastLimboFreeSnapshotVersion,i.hi.getMatchingKeysForTargetId(c,d.targetId).next(m=>{l=m})}).next(()=>i.Cs.getDocumentsMatchingQuery(c,e,n?s:Ae.min(),n?l:Ue())).next(d=>(W3(i,k4(e),d),{documents:d,qs:l})))}function W3(t,e,n){let i=t.xs.get(e)||Ae.min();n.forEach((s,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),t.xs.set(e,i)}class s1{constructor(){this.activeTargetIds=B4()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Q3{constructor(){this.Fo=new s1,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,i){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new s1,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X3{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o1="ConnectivityMonitor";class l1{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){fe(o1,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){fe(o1,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hf=null;function wg(){return Hf===null?Hf=function(){return 268435456+Math.round(2147483648*Math.random())}():Hf++,"0x"+Hf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lp="RestConnection",J3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Z3{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${i}/databases/${s}`,this.Ko=this.databaseId.database===wh?`project_id=${i}`:`project_id=${i}&database_id=${s}`}Wo(e,n,i,s,l){const c=wg(),d=this.Go(e,n.toUriEncodedString());fe(Lp,`Sending RPC '${e}' ${c}:`,d,i);const m={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(m,s,l);const{host:g}=new URL(d),v=ul(g);return this.jo(e,d,m,i,v).then(b=>(fe(Lp,`Received RPC '${e}' ${c}: `,b),b),b=>{throw ka(Lp,`RPC '${e}' ${c} failed with error: `,b,"url: ",d,"request:",i),b})}Jo(e,n,i,s,l,c){return this.Wo(e,n,i,s,l)}zo(e,n,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+fl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,l)=>e[l]=s),i&&i.headers.forEach((s,l)=>e[l]=s)}Go(e,n){const i=J3[e];return`${this.$o}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eP{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gn="WebChannelConnection";class tP extends Z3{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,i,s,l){const c=wg();return new Promise((d,m)=>{const g=new Nw;g.setWithCredentials(!0),g.listenOnce(xw.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case sh.NO_ERROR:const b=g.getResponseJson();fe(gn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(b)),d(b);break;case sh.TIMEOUT:fe(gn,`RPC '${e}' ${c} timed out`),m(new ge(se.DEADLINE_EXCEEDED,"Request time out"));break;case sh.HTTP_ERROR:const T=g.getStatus();if(fe(gn,`RPC '${e}' ${c} failed with status:`,T,"response text:",g.getResponseText()),T>0){let R=g.getResponseJson();Array.isArray(R)&&(R=R[0]);const O=R?.error;if(O&&O.status&&O.message){const j=function(z){const te=z.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(te)>=0?te:se.UNKNOWN}(O.status);m(new ge(j,O.message))}else m(new ge(se.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new ge(se.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{c_:e,streamId:c,l_:g.getLastErrorCode(),h_:g.getLastError()})}}finally{fe(gn,`RPC '${e}' ${c} completed.`)}});const v=JSON.stringify(s);fe(gn,`RPC '${e}' ${c} sending request:`,s),g.send(n,"POST",v,i,15)})}P_(e,n,i){const s=wg(),l=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=kw(),d=Mw(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.zo(m.initMessageHeaders,n,i),m.encodeInitMessageHeaders=!0;const v=l.join("");fe(gn,`Creating RPC '${e}' stream ${s}: ${v}`,m);const b=c.createWebChannel(v,m);this.T_(b);let T=!1,R=!1;const O=new eP({Ho:L=>{R?fe(gn,`Not sending because RPC '${e}' stream ${s} is closed:`,L):(T||(fe(gn,`Opening RPC '${e}' stream ${s} transport.`),b.open(),T=!0),fe(gn,`RPC '${e}' stream ${s} sending:`,L),b.send(L))},Yo:()=>b.close()}),j=(L,z,te)=>{L.listen(z,H=>{try{te(H)}catch(K){setTimeout(()=>{throw K},0)}})};return j(b,Su.EventType.OPEN,()=>{R||(fe(gn,`RPC '${e}' stream ${s} transport opened.`),O.s_())}),j(b,Su.EventType.CLOSE,()=>{R||(R=!0,fe(gn,`RPC '${e}' stream ${s} transport closed`),O.__(),this.I_(b))}),j(b,Su.EventType.ERROR,L=>{R||(R=!0,ka(gn,`RPC '${e}' stream ${s} transport errored. Name:`,L.name,"Message:",L.message),O.__(new ge(se.UNAVAILABLE,"The operation could not be completed")))}),j(b,Su.EventType.MESSAGE,L=>{var z;if(!R){const te=L.data[0];Xe(!!te,16349);const H=te,K=H?.error||((z=H[0])===null||z===void 0?void 0:z.error);if(K){fe(gn,`RPC '${e}' stream ${s} received error:`,K);const J=K.status;let ee=function(I){const k=Nt[I];if(k!==void 0)return pS(k)}(J),D=K.message;ee===void 0&&(ee=se.INTERNAL,D="Unknown error status: "+J+" with message "+K.message),R=!0,O.__(new ge(ee,D)),b.close()}else fe(gn,`RPC '${e}' stream ${s} received:`,te),O.a_(te)}}),j(d,Pw.STAT_EVENT,L=>{L.stat===fg.PROXY?fe(gn,`RPC '${e}' stream ${s} detected buffering proxy`):L.stat===fg.NOPROXY&&fe(gn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{O.o_()},0),O}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}}function Up(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sd(t){return new a3(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(e,n,i=1e3,s=1.5,l=6e4){this.Fi=e,this.timerId=n,this.d_=i,this.E_=s,this.A_=l,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),i=Math.max(0,Date.now()-this.m_),s=Math.max(0,n-i);s>0&&fe("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,s,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u1="PersistentStream";class DS{constructor(e,n,i,s,l,c,d,m){this.Fi=e,this.w_=i,this.S_=s,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new OS(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===se.RESOURCE_EXHAUSTED?(Hi(n.toString()),Hi("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.b_===n&&this.W_(i,s)},i=>{e(()=>{const s=new ge(se.UNKNOWN,"Fetching auth token failed: "+i.message);return this.G_(s)})})}W_(e,n){const i=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{i(()=>this.listener.Zo())}),this.stream.e_(()=>{i(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(s=>{i(()=>this.G_(s))}),this.stream.onMessage(s=>{i(()=>++this.C_==1?this.j_(s):this.onNext(s))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return fe(u1,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(fe(u1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class nP extends DS{constructor(e,n,i,s,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,s,c),this.serializer=l}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const n=l3(this.serializer,e),i=function(l){if(!("targetChange"in l))return Ae.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Ae.min():c.readTime?Xr(c.readTime):Ae.min()}(e);return this.listener.J_(n,i)}H_(e){const n={};n.database=bg(this.serializer),n.addTarget=function(l,c){let d;const m=c.target;if(d=gg(m)?{documents:f3(l,m)}:{query:h3(l,m).Vt},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=vS(l,c.resumeToken);const g=vg(l,c.expectedCount);g!==null&&(d.expectedCount=g)}else if(c.snapshotVersion.compareTo(Ae.min())>0){d.readTime=Oh(l,c.snapshotVersion.toTimestamp());const g=vg(l,c.expectedCount);g!==null&&(d.expectedCount=g)}return d}(this.serializer,e);const i=m3(this.serializer,e);i&&(n.labels=i),this.k_(n)}Y_(e){const n={};n.database=bg(this.serializer),n.removeTarget=e,this.k_(n)}}class rP extends DS{constructor(e,n,i,s,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,s,c),this.serializer=l}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return Xe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Xe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Xe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const n=c3(e.writeResults,e.commitTime),i=Xr(e.commitTime);return this.listener.ta(i,n)}na(){const e={};e.database=bg(this.serializer),this.k_(e)}X_(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>u3(this.serializer,i))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iP{}class aP extends iP{constructor(e,n,i,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=s,this.ra=!1}ia(){if(this.ra)throw new ge(se.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,i,s){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Wo(e,_g(n,i),s,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ge(se.UNKNOWN,l.toString())})}Jo(e,n,i,s,l){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Jo(e,_g(n,i),s,c,d,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ge(se.UNKNOWN,c.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class sP{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Hi(n),this._a=!1):fe("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ms="RemoteStore";class oP{constructor(e,n,i,s,l){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=l,this.Ea.xo(c=>{i.enqueueAndForget(async()=>{Ys(this)&&(fe(Ms,"Restarting streams for network reachability change."),await async function(m){const g=Re(m);g.Ia.add(4),await hc(g),g.Aa.set("Unknown"),g.Ia.delete(4),await od(g)}(this))})}),this.Aa=new sP(i,s)}}async function od(t){if(Ys(t))for(const e of t.da)await e(!0)}async function hc(t){for(const e of t.da)await e(!1)}function NS(t,e){const n=Re(t);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),My(n)?Py(n):ml(n).x_()&&xy(n,e))}function Ny(t,e){const n=Re(t),i=ml(n);n.Ta.delete(e),i.x_()&&xS(n,e),n.Ta.size===0&&(i.x_()?i.B_():Ys(n)&&n.Aa.set("Unknown"))}function xy(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ml(t).H_(e)}function xS(t,e){t.Ra.$e(e),ml(t).Y_(e)}function Py(t){t.Ra=new t3({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),ml(t).start(),t.Aa.aa()}function My(t){return Ys(t)&&!ml(t).M_()&&t.Ta.size>0}function Ys(t){return Re(t).Ia.size===0}function PS(t){t.Ra=void 0}async function lP(t){t.Aa.set("Online")}async function uP(t){t.Ta.forEach((e,n)=>{xy(t,e)})}async function cP(t,e){PS(t),My(t)?(t.Aa.la(e),Py(t)):t.Aa.set("Unknown")}async function fP(t,e,n){if(t.Aa.set("Online"),e instanceof yS&&e.state===2&&e.cause)try{await async function(s,l){const c=l.cause;for(const d of l.targetIds)s.Ta.has(d)&&(await s.remoteSyncer.rejectListen(d,c),s.Ta.delete(d),s.Ra.removeTarget(d))}(t,e)}catch(i){fe(Ms,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Nh(t,i)}else if(e instanceof ch?t.Ra.Ye(e):e instanceof gS?t.Ra.it(e):t.Ra.et(e),!n.isEqual(Ae.min()))try{const i=await CS(t.localStore);n.compareTo(i)>=0&&await function(l,c){const d=l.Ra.Pt(c);return d.targetChanges.forEach((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const v=l.Ta.get(g);v&&l.Ta.set(g,v.withResumeToken(m.resumeToken,c))}}),d.targetMismatches.forEach((m,g)=>{const v=l.Ta.get(m);if(!v)return;l.Ta.set(m,v.withResumeToken(dn.EMPTY_BYTE_STRING,v.snapshotVersion)),xS(l,m);const b=new Ca(v.target,m,g,v.sequenceNumber);xy(l,b)}),l.remoteSyncer.applyRemoteEvent(d)}(t,n)}catch(i){fe(Ms,"Failed to raise snapshot:",i),await Nh(t,i)}}async function Nh(t,e,n){if(!dl(e))throw e;t.Ia.add(1),await hc(t),t.Aa.set("Offline"),n||(n=()=>CS(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{fe(Ms,"Retrying IndexedDB access"),await n(),t.Ia.delete(1),await od(t)})}function MS(t,e){return e().catch(n=>Nh(t,n,e))}async function ld(t){const e=Re(t),n=za(e);let i=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:yy;for(;hP(e);)try{const s=await Y3(e.localStore,i);if(s===null){e.Pa.length===0&&n.B_();break}i=s.batchId,dP(e,s)}catch(s){await Nh(e,s)}kS(e)&&VS(e)}function hP(t){return Ys(t)&&t.Pa.length<10}function dP(t,e){t.Pa.push(e);const n=za(t);n.x_()&&n.Z_&&n.X_(e.mutations)}function kS(t){return Ys(t)&&!za(t).M_()&&t.Pa.length>0}function VS(t){za(t).start()}async function mP(t){za(t).na()}async function pP(t){const e=za(t);for(const n of t.Pa)e.X_(n.mutations)}async function gP(t,e,n){const i=t.Pa.shift(),s=Sy.from(i,e,n);await MS(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await ld(t)}async function yP(t,e){e&&za(t).Z_&&await async function(i,s){if(function(c){return Z4(c)&&c!==se.ABORTED}(s.code)){const l=i.Pa.shift();za(i).N_(),await MS(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,s)),await ld(i)}}(t,e),kS(t)&&VS(t)}async function c1(t,e){const n=Re(t);n.asyncQueue.verifyOperationInProgress(),fe(Ms,"RemoteStore received new credentials");const i=Ys(n);n.Ia.add(3),await hc(n),i&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await od(n)}async function vP(t,e){const n=Re(t);e?(n.Ia.delete(2),await od(n)):e||(n.Ia.add(2),await hc(n),n.Aa.set("Unknown"))}function ml(t){return t.Va||(t.Va=function(n,i,s){const l=Re(n);return l.ia(),new nP(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,s)}(t.datastore,t.asyncQueue,{Zo:lP.bind(null,t),e_:uP.bind(null,t),n_:cP.bind(null,t),J_:fP.bind(null,t)}),t.da.push(async e=>{e?(t.Va.N_(),My(t)?Py(t):t.Aa.set("Unknown")):(await t.Va.stop(),PS(t))})),t.Va}function za(t){return t.ma||(t.ma=function(n,i,s){const l=Re(n);return l.ia(),new rP(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,s)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:mP.bind(null,t),n_:yP.bind(null,t),ea:pP.bind(null,t),ta:gP.bind(null,t)}),t.da.push(async e=>{e?(t.ma.N_(),await ld(t)):(await t.ma.stop(),t.Pa.length>0&&(fe(Ms,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))})),t.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ky{constructor(e,n,i,s,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=s,this.removalCallback=l,this.deferred=new Pa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,s,l){const c=Date.now()+i,d=new ky(e,n,c,s,l);return d.start(i),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Vy(t,e){if(Hi("AsyncQueue",`${e}: ${t}`),dl(t))return new ge(se.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{static emptySet(e){return new el(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||ye.comparator(n.key,i.key):(n,i)=>ye.comparator(n.key,i.key),this.keyedMap=Au(),this.sortedSet=new _t(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof el)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,l=i.getNext().key;if(!s.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new el;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(){this.fa=new _t(ye.comparator)}track(e){const n=e.doc.key,i=this.fa.get(n);i?e.type!==0&&i.type===3?this.fa=this.fa.insert(n,e):e.type===3&&i.type!==1?this.fa=this.fa.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.fa=this.fa.remove(n):e.type===1&&i.type===2?this.fa=this.fa.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):Te(63341,{At:e,ga:i}):this.fa=this.fa.insert(n,e)}pa(){const e=[];return this.fa.inorderTraversal((n,i)=>{e.push(i)}),e}}class al{constructor(e,n,i,s,l,c,d,m,g){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(e,n,i,s,l){const c=[];return n.forEach(d=>{c.push({type:0,doc:d})}),new al(e,n,el.emptySet(n),c,i,s,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&td(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==i[s].type||!n[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _P{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class EP{constructor(){this.queries=h1(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,i){const s=Re(n),l=s.queries;s.queries=h1(),l.forEach((c,d)=>{for(const m of d.wa)m.onError(i)})})(this,new ge(se.ABORTED,"Firestore shutting down"))}}function h1(){return new Gs(t=>nS(t),td)}async function bP(t,e){const n=Re(t);let i=3;const s=e.query;let l=n.queries.get(s);l?!l.Sa()&&e.ba()&&(i=2):(l=new _P,i=e.ba()?0:1);try{switch(i){case 0:l.ya=await n.onListen(s,!0);break;case 1:l.ya=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(c){const d=Vy(c,`Initialization of query '${Go(e.query)}' failed`);return void e.onError(d)}n.queries.set(s,l),l.wa.push(e),e.va(n.onlineState),l.ya&&e.Ca(l.ya)&&Ly(n)}async function TP(t,e){const n=Re(t),i=e.query;let s=3;const l=n.queries.get(i);if(l){const c=l.wa.indexOf(e);c>=0&&(l.wa.splice(c,1),l.wa.length===0?s=e.ba()?0:1:!l.Sa()&&e.ba()&&(s=2))}switch(s){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function wP(t,e){const n=Re(t);let i=!1;for(const s of e){const l=s.query,c=n.queries.get(l);if(c){for(const d of c.wa)d.Ca(s)&&(i=!0);c.ya=s}}i&&Ly(n)}function SP(t,e,n){const i=Re(t),s=i.queries.get(e);if(s)for(const l of s.wa)l.onError(n);i.queries.delete(e)}function Ly(t){t.Da.forEach(e=>{e.next()})}var Sg,d1;(d1=Sg||(Sg={})).Fa="default",d1.Cache="cache";class AP{constructor(e,n,i){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=i||{}}Ca(e){if(!this.options.includeMetadataChanges){const i=[];for(const s of e.docChanges)s.type!==3&&i.push(s);e=new al(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;const i=n!=="Offline";return(!this.options.ka||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=al.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==Sg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(e){this.key=e}}class US{constructor(e){this.key=e}}class RP{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Ue(),this.mutatedKeys=Ue(),this.Xa=rS(e),this.eu=new el(this.Xa)}get tu(){return this.Ha}nu(e,n){const i=n?n.ru:new f1,s=n?n.eu:this.eu;let l=n?n.mutatedKeys:this.mutatedKeys,c=s,d=!1;const m=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,g=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((v,b)=>{const T=s.get(v),R=nd(this.query,b)?b:null,O=!!T&&this.mutatedKeys.has(T.key),j=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let L=!1;T&&R?T.data.isEqual(R.data)?O!==j&&(i.track({type:3,doc:R}),L=!0):this.iu(T,R)||(i.track({type:2,doc:R}),L=!0,(m&&this.Xa(R,m)>0||g&&this.Xa(R,g)<0)&&(d=!0)):!T&&R?(i.track({type:0,doc:R}),L=!0):T&&!R&&(i.track({type:1,doc:T}),L=!0,(m||g)&&(d=!0)),L&&(R?(c=c.add(R),l=j?l.add(v):l.delete(v)):(c=c.delete(v),l=l.delete(v)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),l=l.delete(v.key),i.track({type:1,doc:v})}return{eu:c,ru:i,Ds:d,mutatedKeys:l}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,s){const l=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const c=e.ru.pa();c.sort((v,b)=>function(R,O){const j=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{At:L})}};return j(R)-j(O)}(v.type,b.type)||this.Xa(v.doc,b.doc)),this.su(i),s=s!=null&&s;const d=n&&!s?this.ou():[],m=this.Za.size===0&&this.current&&!s?1:0,g=m!==this.Ya;return this.Ya=m,c.length!==0||g?{snapshot:new al(this.query,e.eu,l,c,e.mutatedKeys,m===0,g,!1,!!i&&i.resumeToken.approximateByteSize()>0),_u:d}:{_u:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new f1,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=Ue(),this.eu.forEach(i=>{this.au(i.key)&&(this.Za=this.Za.add(i.key))});const n=[];return e.forEach(i=>{this.Za.has(i)||n.push(new US(i))}),this.Za.forEach(i=>{e.has(i)||n.push(new LS(i))}),n}uu(e){this.Ha=e.qs,this.Za=Ue();const n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return al.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const Uy="SyncEngine";class IP{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class CP{constructor(e){this.key=e,this.lu=!1}}class OP{constructor(e,n,i,s,l,c){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=s,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.hu={},this.Pu=new Gs(d=>nS(d),td),this.Tu=new Map,this.Iu=new Set,this.du=new _t(ye.comparator),this.Eu=new Map,this.Au=new Iy,this.Ru={},this.Vu=new Map,this.mu=il.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function DP(t,e,n=!0){const i=qS(t);let s;const l=i.Pu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),s=l.view.cu()):s=await jS(i,e,n,!0),s}async function NP(t,e){const n=qS(t);await jS(n,e,!0,!1)}async function jS(t,e,n,i){const s=await K3(t.localStore,Qr(e)),l=s.targetId,c=t.sharedClientState.addLocalQueryTarget(l,n);let d;return i&&(d=await xP(t,e,l,c==="current",s.resumeToken)),t.isPrimaryClient&&n&&NS(t.remoteStore,s),d}async function xP(t,e,n,i,s){t.gu=(b,T,R)=>async function(j,L,z,te){let H=L.view.nu(z);H.Ds&&(H=await a1(j.localStore,L.query,!1).then(({documents:D})=>L.view.nu(D,H)));const K=te&&te.targetChanges.get(L.targetId),J=te&&te.targetMismatches.get(L.targetId)!=null,ee=L.view.applyChanges(H,j.isPrimaryClient,K,J);return p1(j,L.targetId,ee._u),ee.snapshot}(t,b,T,R);const l=await a1(t.localStore,e,!0),c=new RP(e,l.qs),d=c.nu(l.documents),m=fc.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",s),g=c.applyChanges(d,t.isPrimaryClient,m);p1(t,n,g._u);const v=new IP(e,n,c);return t.Pu.set(e,v),t.Tu.has(n)?t.Tu.get(n).push(e):t.Tu.set(n,[e]),g.snapshot}async function PP(t,e,n){const i=Re(t),s=i.Pu.get(e),l=i.Tu.get(s.targetId);if(l.length>1)return i.Tu.set(s.targetId,l.filter(c=>!td(c,e))),void i.Pu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await Tg(i.localStore,s.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(s.targetId),n&&Ny(i.remoteStore,s.targetId),Ag(i,s.targetId)}).catch(hl)):(Ag(i,s.targetId),await Tg(i.localStore,s.targetId,!0))}async function MP(t,e){const n=Re(t),i=n.Pu.get(e),s=n.Tu.get(i.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),Ny(n.remoteStore,i.targetId))}async function kP(t,e,n){const i=FP(t);try{const s=await function(c,d){const m=Re(c),g=ct.now(),v=d.reduce((R,O)=>R.add(O.key),Ue());let b,T;return m.persistence.runTransaction("Locally write mutations","readwrite",R=>{let O=qi(),j=Ue();return m.Os.getEntries(R,v).next(L=>{O=L,O.forEach((z,te)=>{te.isValidDocument()||(j=j.add(z))})}).next(()=>m.localDocuments.getOverlayedDocuments(R,O)).next(L=>{b=L;const z=[];for(const te of d){const H=K4(te,b.get(te.key).overlayedDocument);H!=null&&z.push(new $s(te.key,H,Ww(H.value.mapValue),Ui.exists(!0)))}return m.mutationQueue.addMutationBatch(R,g,z,d)}).next(L=>{T=L;const z=L.applyToLocalDocumentSet(b,j);return m.documentOverlayCache.saveOverlays(R,L.batchId,z)})}).then(()=>({batchId:T.batchId,changes:aS(b)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(s.batchId),function(c,d,m){let g=c.Ru[c.currentUser.toKey()];g||(g=new _t(xe)),g=g.insert(d,m),c.Ru[c.currentUser.toKey()]=g}(i,s.batchId,n),await dc(i,s.changes),await ld(i.remoteStore)}catch(s){const l=Vy(s,"Failed to persist write");n.reject(l)}}async function zS(t,e){const n=Re(t);try{const i=await G3(n.localStore,e);e.targetChanges.forEach((s,l)=>{const c=n.Eu.get(l);c&&(Xe(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?c.lu=!0:s.modifiedDocuments.size>0?Xe(c.lu,14607):s.removedDocuments.size>0&&(Xe(c.lu,42227),c.lu=!1))}),await dc(n,i,e)}catch(i){await hl(i)}}function m1(t,e,n){const i=Re(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const s=[];i.Pu.forEach((l,c)=>{const d=c.view.va(e);d.snapshot&&s.push(d.snapshot)}),function(c,d){const m=Re(c);m.onlineState=d;let g=!1;m.queries.forEach((v,b)=>{for(const T of b.wa)T.va(d)&&(g=!0)}),g&&Ly(m)}(i.eventManager,e),s.length&&i.hu.J_(s),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function VP(t,e,n){const i=Re(t);i.sharedClientState.updateQueryState(e,"rejected",n);const s=i.Eu.get(e),l=s&&s.key;if(l){let c=new _t(ye.comparator);c=c.insert(l,vn.newNoDocument(l,Ae.min()));const d=Ue().add(l),m=new ad(Ae.min(),new Map,new _t(xe),c,d);await zS(i,m),i.du=i.du.remove(l),i.Eu.delete(e),jy(i)}else await Tg(i.localStore,e,!1).then(()=>Ag(i,e,n)).catch(hl)}async function LP(t,e){const n=Re(t),i=e.batch.batchId;try{const s=await q3(n.localStore,e);FS(n,i,null),BS(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await dc(n,s)}catch(s){await hl(s)}}async function UP(t,e,n){const i=Re(t);try{const s=await function(c,d){const m=Re(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let v;return m.mutationQueue.lookupMutationBatch(g,d).next(b=>(Xe(b!==null,37113),v=b.keys(),m.mutationQueue.removeMutationBatch(g,b))).next(()=>m.mutationQueue.performConsistencyCheck(g)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(g,v,d)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v)).next(()=>m.localDocuments.getDocuments(g,v))})}(i.localStore,e);FS(i,e,n),BS(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await dc(i,s)}catch(s){await hl(s)}}function BS(t,e){(t.Vu.get(e)||[]).forEach(n=>{n.resolve()}),t.Vu.delete(e)}function FS(t,e,n){const i=Re(t);let s=i.Ru[i.currentUser.toKey()];if(s){const l=s.get(e);l&&(n?l.reject(n):l.resolve(),s=s.remove(e)),i.Ru[i.currentUser.toKey()]=s}}function Ag(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Tu.get(e))t.Pu.delete(i),n&&t.hu.pu(i,n);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach(i=>{t.Au.containsKey(i)||HS(t,i)})}function HS(t,e){t.Iu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Ny(t.remoteStore,n),t.du=t.du.remove(e),t.Eu.delete(n),jy(t))}function p1(t,e,n){for(const i of n)i instanceof LS?(t.Au.addReference(i.key,e),jP(t,i)):i instanceof US?(fe(Uy,"Document no longer in limbo: "+i.key),t.Au.removeReference(i.key,e),t.Au.containsKey(i.key)||HS(t,i.key)):Te(19791,{yu:i})}function jP(t,e){const n=e.key,i=n.path.canonicalString();t.du.get(n)||t.Iu.has(i)||(fe(Uy,"New document in limbo: "+n),t.Iu.add(i),jy(t))}function jy(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Iu.values().next().value;t.Iu.delete(e);const n=new ye(yt.fromString(e)),i=t.mu.next();t.Eu.set(i,new CP(n)),t.du=t.du.insert(n,i),NS(t.remoteStore,new Ca(Qr(Ty(n.path)),i,"TargetPurposeLimboResolution",Xh.ue))}}async function dc(t,e,n){const i=Re(t),s=[],l=[],c=[];i.Pu.isEmpty()||(i.Pu.forEach((d,m)=>{c.push(i.gu(m,e,n).then(g=>{var v;if((g||n)&&i.isPrimaryClient){const b=g?!g.fromCache:(v=n?.targetChanges.get(m.targetId))===null||v===void 0?void 0:v.current;i.sharedClientState.updateQueryState(m.targetId,b?"current":"not-current")}if(g){s.push(g);const b=Oy.Es(m.targetId,g);l.push(b)}}))}),await Promise.all(c),i.hu.J_(s),await async function(m,g){const v=Re(m);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>ae.forEach(g,T=>ae.forEach(T.Is,R=>v.persistence.referenceDelegate.addReference(b,T.targetId,R)).next(()=>ae.forEach(T.ds,R=>v.persistence.referenceDelegate.removeReference(b,T.targetId,R)))))}catch(b){if(!dl(b))throw b;fe(Dy,"Failed to update sequence numbers: "+b)}for(const b of g){const T=b.targetId;if(!b.fromCache){const R=v.Fs.get(T),O=R.snapshotVersion,j=R.withLastLimboFreeSnapshotVersion(O);v.Fs=v.Fs.insert(T,j)}}}(i.localStore,l))}async function zP(t,e){const n=Re(t);if(!n.currentUser.isEqual(e)){fe(Uy,"User change. New user:",e.toKey());const i=await IS(n.localStore,e);n.currentUser=e,function(l,c){l.Vu.forEach(d=>{d.forEach(m=>{m.reject(new ge(se.CANCELLED,c))})}),l.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await dc(n,i.Bs)}}function BP(t,e){const n=Re(t),i=n.Eu.get(e);if(i&&i.lu)return Ue().add(i.key);{let s=Ue();const l=n.Tu.get(e);if(!l)return s;for(const c of l){const d=n.Pu.get(c);s=s.unionWith(d.view.tu)}return s}}function qS(t){const e=Re(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=zS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=BP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=VP.bind(null,e),e.hu.J_=wP.bind(null,e.eventManager),e.hu.pu=SP.bind(null,e.eventManager),e}function FP(t){const e=Re(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=LP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=UP.bind(null,e),e}class xh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=sd(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return H3(this.persistence,new z3,e.initialUser,this.serializer)}Du(e){return new RS(Cy.Vi,this.serializer)}bu(e){return new Q3}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}xh.provider={build:()=>new xh};class HP extends xh{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){Xe(this.persistence.referenceDelegate instanceof Dh,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new A3(i,e.asyncQueue,n)}Du(e){const n=this.cacheSizeBytes!==void 0?Cn.withCacheSize(this.cacheSizeBytes):Cn.DEFAULT;return new RS(i=>Dh.Vi(i,n),this.serializer)}}class Rg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>m1(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=zP.bind(null,this.syncEngine),await vP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new EP}()}createDatastore(e){const n=sd(e.databaseInfo.databaseId),i=function(l){return new tP(l)}(e.databaseInfo);return function(l,c,d,m){return new aP(l,c,d,m)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,s,l,c,d){return new oP(i,s,l,c,d)}(this.localStore,this.datastore,e.asyncQueue,n=>m1(this.syncEngine,n,0),function(){return l1.C()?new l1:new X3}())}createSyncEngine(e,n){return function(s,l,c,d,m,g,v){const b=new OP(s,l,c,d,m,g);return v&&(b.fu=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const l=Re(s);fe(Ms,"RemoteStore shutting down."),l.Ia.add(5),await hc(l),l.Ea.shutdown(),l.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Rg.provider={build:()=>new Rg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qP{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Hi("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ba="FirestoreClient";class GP{constructor(e,n,i,s,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=s,this.user=yn.UNAUTHENTICATED,this.clientId=py.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async c=>{fe(Ba,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(fe(Ba,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Pa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=Vy(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function jp(t,e){t.asyncQueue.verifyOperationInProgress(),fe(Ba,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async s=>{i.isEqual(s)||(await IS(e.localStore,s),i=s)}),e.persistence.setDatabaseDeletedListener(()=>{ka("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then(()=>{fe("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(s=>{ka("Terminating Firestore due to IndexedDb database deletion failed",s)})}),t._offlineComponents=e}async function g1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await $P(t);fe(Ba,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>c1(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>c1(e.remoteStore,s)),t._onlineComponents=e}async function $P(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){fe(Ba,"Using user provided OfflineComponentProvider");try{await jp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===se.FAILED_PRECONDITION||s.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;ka("Error using user provided cache. Falling back to memory cache: "+n),await jp(t,new xh)}}else fe(Ba,"Using default OfflineComponentProvider"),await jp(t,new HP(void 0));return t._offlineComponents}async function GS(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(fe(Ba,"Using user provided OnlineComponentProvider"),await g1(t,t._uninitializedComponentsProvider._online)):(fe(Ba,"Using default OnlineComponentProvider"),await g1(t,new Rg))),t._onlineComponents}function YP(t){return GS(t).then(e=>e.syncEngine)}async function KP(t){const e=await GS(t),n=e.eventManager;return n.onListen=DP.bind(null,e.syncEngine),n.onUnlisten=PP.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=NP.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=MP.bind(null,e.syncEngine),n}function WP(t,e,n={}){const i=new Pa;return t.asyncQueue.enqueueAndForget(async()=>function(l,c,d,m,g){const v=new qP({next:T=>{v.Ou(),c.enqueueAndForget(()=>TP(l,b));const R=T.docs.has(d);!R&&T.fromCache?g.reject(new ge(se.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&T.fromCache&&m&&m.source==="server"?g.reject(new ge(se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(T)},error:T=>g.reject(T)}),b=new AP(Ty(d.path),v,{includeMetadataChanges:!0,ka:!0});return bP(l,b)}(await KP(t),t.asyncQueue,e,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $S(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y1=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YS="firestore.googleapis.com",v1=!0;class _1{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new ge(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=YS,this.ssl=v1}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:v1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=AS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<w3)throw new ge(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}o4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$S((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new ge(se.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new ge(se.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new ge(se.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class zy{constructor(e,n,i,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ge(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new Xx;switch(i.type){case"firstParty":return new t4(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ge(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=y1.get(n);i&&(fe("ComponentProvider","Removing Datastore"),y1.delete(n),i.terminate())}(this),Promise.resolve()}}function QP(t,e,n,i={}){var s;t=Hu(t,zy);const l=ul(e),c=t._getSettings(),d=Object.assign(Object.assign({},c),{emulatorOptions:t._getEmulatorOptions()}),m=`${e}:${n}`;l&&(LT(`https://${m}`),UT("Firestore",!0)),c.host!==YS&&c.host!==m&&ka("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},c),{host:m,ssl:l,emulatorOptions:i});if(!Ma(g,d)&&(t._setSettings(g),i.mockUserToken)){let v,b;if(typeof i.mockUserToken=="string")v=i.mockUserToken,b=yn.MOCK_USER;else{v=iO(i.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const T=i.mockUserToken.sub||i.mockUserToken.user_id;if(!T)throw new ge(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new yn(T)}t._authCredentials=new Jx(new Lw(v,b))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new By(this.firestore,e,this._query)}}class Wt{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Wt(this.firestore,e,this._key)}toJSON(){return{type:Wt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(uc(n,Wt._jsonSchema))return new Wt(e,i||null,new ye(yt.fromString(n.referencePath)))}}Wt._jsonSchemaVersion="firestore/documentReference/1.0",Wt._jsonSchema={type:Mt("string",Wt._jsonSchemaVersion),referencePath:Mt("string")};class Qu extends By{constructor(e,n,i){super(e,n,Ty(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Wt(this.firestore,null,new ye(e))}withConverter(e){return new Qu(this.firestore,e,this._path)}}function KS(t,e,...n){if(t=hn(t),arguments.length===1&&(e=py.newId()),s4("doc","path",e),t instanceof zy){const i=yt.fromString(e,...n);return Pb(i),new Wt(t,null,new ye(i))}{if(!(t instanceof Wt||t instanceof Qu))throw new ge(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(yt.fromString(e,...n));return Pb(i),new Wt(t.firestore,t instanceof Qu?t.converter:null,new ye(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E1="AsyncQueue";class b1{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new OS(this,"async_queue_retry"),this.oc=()=>{const i=Up();i&&fe(E1,"Visibility state changed to "+i.visibilityState),this.F_.y_()},this._c=e;const n=Up();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=Up();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const n=new Pa;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!dl(e))throw e;fe(E1,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const n=this._c.then(()=>(this.nc=!0,e().catch(i=>{throw this.tc=i,this.nc=!1,Hi("INTERNAL UNHANDLED ERROR: ",T1(i)),i}).then(i=>(this.nc=!1,i))));return this._c=n,n}enqueueAfterDelay(e,n,i){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const s=ky.createAndSchedule(this,e,n,i,l=>this.lc(l));return this.ec.push(s),s}ac(){this.tc&&Te(47125,{hc:T1(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function T1(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Fy extends zy{constructor(e,n,i,s){super(e,n,i,s),this.type="firestore",this._queue=new b1,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new b1(e),this._firestoreClient=void 0,await e}}}function XP(t,e){const n=typeof t=="object"?t:iy(),i=typeof t=="string"?t:wh,s=Bs(n,"firestore").getImmediate({identifier:i});if(!s._initialized){const l=nO("firestore");l&&QP(s,...l)}return s}function WS(t){if(t._terminated)throw new ge(se.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||JP(t),t._firestoreClient}function JP(t){var e,n,i;const s=t._freezeSettings(),l=function(d,m,g,v){return new v4(d,m,g,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,$S(v.experimentalLongPollingOptions),v.useFetchStreams,v.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=s.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new GP(t._authCredentials,t._appCheckCredentials,t._queue,l,t._componentsProvider&&function(d){const m=d?._online.build();return{_offline:d?._offline.build(m),_online:m}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ur(dn.fromBase64String(e))}catch(n){throw new ge(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ur(dn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ur._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(uc(e,ur._jsonSchema))return ur.fromBase64String(e.bytes)}}ur._jsonSchemaVersion="firestore/bytes/1.0",ur._jsonSchema={type:Mt("string",ur._jsonSchemaVersion),bytes:Mt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hy{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ge(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new cn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ge(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ge(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return xe(this._lat,e._lat)||xe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Jr._jsonSchemaVersion}}static fromJSON(e){if(uc(e,Jr._jsonSchema))return new Jr(e.latitude,e.longitude)}}Jr._jsonSchemaVersion="firestore/geoPoint/1.0",Jr._jsonSchema={type:Mt("string",Jr._jsonSchemaVersion),latitude:Mt("number"),longitude:Mt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,s){if(i.length!==s.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==s[l])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Zr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(uc(e,Zr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Zr(e.vectorValues);throw new ge(se.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Zr._jsonSchemaVersion="firestore/vectorValue/1.0",Zr._jsonSchema={type:Mt("string",Zr._jsonSchemaVersion),vectorValues:Mt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZP=/^__.*__$/;class e6{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new $s(e,this.data,this.fieldMask,n,this.fieldTransforms):new cc(e,this.data,n,this.fieldTransforms)}}function XS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{Ec:t})}}class qy{constructor(e,n,i,s,l,c){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=s,l===void 0&&this.Ac(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new qy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Rc({path:i,mc:!1});return s.fc(e),s}gc(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Rc({path:i,mc:!1});return s.Ac(),s}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Ph(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(XS(this.Ec)&&ZP.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class t6{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||sd(e)}Dc(e,n,i,s=!1){return new qy({Ec:e,methodName:n,bc:i,path:cn.emptyPath(),mc:!1,Sc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function n6(t){const e=t._freezeSettings(),n=sd(t._databaseId);return new t6(t._databaseId,!!e.ignoreUndefinedProperties,n)}function r6(t,e,n,i,s,l={}){const c=t.Dc(l.merge||l.mergeFields?2:0,e,n,s);tA("Data must be an object, but it was:",c,i);const d=ZS(i,c);let m,g;if(l.merge)m=new Sr(c.fieldMask),g=c.fieldTransforms;else if(l.mergeFields){const v=[];for(const b of l.mergeFields){const T=i6(e,b,n);if(!c.contains(T))throw new ge(se.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);s6(v,T)||v.push(T)}m=new Sr(v),g=c.fieldTransforms.filter(b=>m.covers(b.field))}else m=null,g=c.fieldTransforms;return new e6(new lr(d),m,g)}function JS(t,e){if(eA(t=hn(t)))return tA("Unsupported field value:",e,t),ZS(t,e);if(t instanceof QS)return function(i,s){if(!XS(s.Ec))throw s.wc(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.wc(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(s);l&&s.fieldTransforms.push(l)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(i,s){const l=[];let c=0;for(const d of i){let m=JS(d,s.yc(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}}(t,e)}return function(i,s){if((i=hn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return F4(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=ct.fromDate(i);return{timestampValue:Oh(s.serializer,l)}}if(i instanceof ct){const l=new ct(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Oh(s.serializer,l)}}if(i instanceof Jr)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof ur)return{bytesValue:vS(s.serializer,i._byteString)};if(i instanceof Wt){const l=s.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw s.wc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Ry(i.firestore._databaseId||s.databaseId,i._key.path)}}if(i instanceof Zr)return function(c,d){return{mapValue:{fields:{[Yw]:{stringValue:Kw},[Sh]:{arrayValue:{values:c.toArray().map(g=>{if(typeof g!="number")throw d.wc("VectorValues must only contain numeric values.");return wy(d.serializer,g)})}}}}}}(i,s);throw s.wc(`Unsupported field value: ${gy(i)}`)}(t,e)}function ZS(t,e){const n={};return Bw(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):qs(t,(i,s)=>{const l=JS(s,e.Vc(i));l!=null&&(n[i]=l)}),{mapValue:{fields:n}}}function eA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ct||t instanceof Jr||t instanceof ur||t instanceof Wt||t instanceof QS||t instanceof Zr)}function tA(t,e,n){if(!eA(n)||!jw(n)){const i=gy(n);throw i==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+i)}}function i6(t,e,n){if((e=hn(e))instanceof Hy)return e._internalPath;if(typeof e=="string")return nA(t,e);throw Ph("Field path arguments must be of type string or ",t,!1,void 0,n)}const a6=new RegExp("[~\\*/\\[\\]]");function nA(t,e,n){if(e.search(a6)>=0)throw Ph(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Hy(...e.split("."))._internalPath}catch{throw Ph(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ph(t,e,n,i,s){const l=i&&!i.isEmpty(),c=s!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${i}`),c&&(m+=` in document ${s}`),m+=")"),new ge(se.INVALID_ARGUMENT,d+t+m)}function s6(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA{constructor(e,n,i,s,l){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=s,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Wt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new o6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(iA("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class o6 extends rA{data(){return super.data()}}function iA(t,e){return typeof e=="string"?nA(t,e):e instanceof Hy?e._internalPath:e._delegate._internalPath}class l6{convertValue(e,n="none"){switch(ja(e)){case 0:return null;case 1:return e.booleanValue;case 2:return At(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ua(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return qs(e,(s,l)=>{i[s]=this.convertValue(l,n)}),i}convertVectorValue(e){var n,i,s;const l=(s=(i=(n=e.fields)===null||n===void 0?void 0:n[Sh].arrayValue)===null||i===void 0?void 0:i.values)===null||s===void 0?void 0:s.map(c=>At(c.doubleValue));return new Zr(l)}convertGeoPoint(e){return new Jr(At(e.latitude),At(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=Zh(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Gu(e));default:return null}}convertTimestamp(e){const n=La(e);return new ct(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=yt.fromString(e);Xe(SS(i),9688,{name:e});const s=new $u(i.get(1),i.get(3)),l=new ye(i.popFirst(5));return s.isEqual(n)||Hi(`Document ${l} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u6(t,e,n){let i;return i=t?t.toFirestore(e):e,i}class Iu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Os extends rA{constructor(e,n,i,s,l,c){super(e,n,i,s,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new fh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(iA("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(se.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Os._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Os._jsonSchemaVersion="firestore/documentSnapshot/1.0",Os._jsonSchema={type:Mt("string",Os._jsonSchemaVersion),bundleSource:Mt("string","DocumentSnapshot"),bundleName:Mt("string"),bundle:Mt("string")};class fh extends Os{data(e={}){return super.data(e)}}class Vu{constructor(e,n,i,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Iu(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new fh(this._firestore,this._userDataWriter,i.key,i,new Iu(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ge(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,l){if(s._snapshot.oldDocs.isEmpty()){let c=0;return s._snapshot.docChanges.map(d=>{const m=new fh(s._firestore,s._userDataWriter,d.doc.key,d.doc,new Iu(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}})}{let c=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(d=>l||d.type!==3).map(d=>{const m=new fh(s._firestore,s._userDataWriter,d.doc.key,d.doc,new Iu(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);let g=-1,v=-1;return d.type!==0&&(g=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),v=c.indexOf(d.doc.key)),{type:c6(d.type),doc:m,oldIndex:g,newIndex:v}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(se.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Vu._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=py.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],s=[];return this.docs.forEach(l=>{l._document!==null&&(n.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),s.push(l.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function c6(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f6(t){t=Hu(t,Wt);const e=Hu(t.firestore,Fy);return WP(WS(e),t._key).then(n=>p6(e,t,n))}Vu._jsonSchemaVersion="firestore/querySnapshot/1.0",Vu._jsonSchema={type:Mt("string",Vu._jsonSchemaVersion),bundleSource:Mt("string","QuerySnapshot"),bundleName:Mt("string"),bundle:Mt("string")};class h6 extends l6{constructor(e){super(),this.firestore=e}convertBytes(e){return new ur(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Wt(this.firestore,null,n)}}function d6(t,e,n){t=Hu(t,Wt);const i=Hu(t.firestore,Fy),s=u6(t.converter,e);return m6(i,[r6(n6(i),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Ui.none())])}function m6(t,e){return function(i,s){const l=new Pa;return i.asyncQueue.enqueueAndForget(async()=>kP(await YP(i),s,l)),l.promise}(WS(t),e)}function p6(t,e,n){const i=n.docs.get(e._key),s=new h6(t);return new Os(t,s,e._key,i,new Iu(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){fl=s})(cl),ti(new Ar("firestore",(i,{instanceIdentifier:s,options:l})=>{const c=i.getProvider("app").getImmediate(),d=new Fy(new Zx(i.getProvider("auth-internal")),new n4(c,i.getProvider("app-check-internal")),function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ge(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $u(g.options.projectId,v)}(c,s),c);return l=Object.assign({useFetchStreams:n},l),d._setSettings(l),d},"PUBLIC").setMultipleInstances(!0)),cr(Cb,Ob,e),cr(Cb,Ob,"esm2017")})();const aA="@firebase/installations",Gy="0.6.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sA=1e4,oA=`w:${Gy}`,lA="FIS_v2",g6="https://firebaseinstallations.googleapis.com/v1",y6=60*60*1e3,v6="installations",_6="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E6={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ks=new zs(v6,_6,E6);function uA(t){return t instanceof Ir&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cA({projectId:t}){return`${g6}/projects/${t}/installations`}function fA(t){return{token:t.token,requestStatus:2,expiresIn:T6(t.expiresIn),creationTime:Date.now()}}async function hA(t,e){const i=(await e.json()).error;return ks.create("request-failed",{requestName:t,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function dA({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function b6(t,{refreshToken:e}){const n=dA(t);return n.append("Authorization",w6(e)),n}async function mA(t){const e=await t();return e.status>=500&&e.status<600?t():e}function T6(t){return Number(t.replace("s","000"))}function w6(t){return`${lA} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S6({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const i=cA(t),s=dA(t),l=e.getImmediate({optional:!0});if(l){const g=await l.getHeartbeatsHeader();g&&s.append("x-firebase-client",g)}const c={fid:n,authVersion:lA,appId:t.appId,sdkVersion:oA},d={method:"POST",headers:s,body:JSON.stringify(c)},m=await mA(()=>fetch(i,d));if(m.ok){const g=await m.json();return{fid:g.fid||n,registrationStatus:2,refreshToken:g.refreshToken,authToken:fA(g.authToken)}}else throw await hA("Create Installation",m)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pA(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A6(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R6=/^[cdef][\w-]{21}$/,Ig="";function I6(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=C6(t);return R6.test(n)?n:Ig}catch{return Ig}}function C6(t){return A6(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ud(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gA=new Map;function yA(t,e){const n=ud(t);vA(n,e),O6(n,e)}function vA(t,e){const n=gA.get(t);if(n)for(const i of n)i(e)}function O6(t,e){const n=D6();n&&n.postMessage({key:t,fid:e}),N6()}let Is=null;function D6(){return!Is&&"BroadcastChannel"in self&&(Is=new BroadcastChannel("[Firebase] FID Change"),Is.onmessage=t=>{vA(t.data.key,t.data.fid)}),Is}function N6(){gA.size===0&&Is&&(Is.close(),Is=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x6="firebase-installations-database",P6=1,Vs="firebase-installations-store";let zp=null;function $y(){return zp||(zp=qT(x6,P6,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Vs)}}})),zp}async function Mh(t,e){const n=ud(t),s=(await $y()).transaction(Vs,"readwrite"),l=s.objectStore(Vs),c=await l.get(n);return await l.put(e,n),await s.done,(!c||c.fid!==e.fid)&&yA(t,e.fid),e}async function _A(t){const e=ud(t),i=(await $y()).transaction(Vs,"readwrite");await i.objectStore(Vs).delete(e),await i.done}async function cd(t,e){const n=ud(t),s=(await $y()).transaction(Vs,"readwrite"),l=s.objectStore(Vs),c=await l.get(n),d=e(c);return d===void 0?await l.delete(n):await l.put(d,n),await s.done,d&&(!c||c.fid!==d.fid)&&yA(t,d.fid),d}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yy(t){let e;const n=await cd(t.appConfig,i=>{const s=M6(i),l=k6(t,s);return e=l.registrationPromise,l.installationEntry});return n.fid===Ig?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function M6(t){const e=t||{fid:I6(),registrationStatus:0};return EA(e)}function k6(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(ks.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=V6(t,n);return{installationEntry:n,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:L6(t)}:{installationEntry:e}}async function V6(t,e){try{const n=await S6(t,e);return Mh(t.appConfig,n)}catch(n){throw uA(n)&&n.customData.serverCode===409?await _A(t.appConfig):await Mh(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function L6(t){let e=await w1(t.appConfig);for(;e.registrationStatus===1;)await pA(100),e=await w1(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:i}=await Yy(t);return i||n}return e}function w1(t){return cd(t,e=>{if(!e)throw ks.create("installation-not-found");return EA(e)})}function EA(t){return U6(t)?{fid:t.fid,registrationStatus:0}:t}function U6(t){return t.registrationStatus===1&&t.registrationTime+sA<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j6({appConfig:t,heartbeatServiceProvider:e},n){const i=z6(t,n),s=b6(t,n),l=e.getImmediate({optional:!0});if(l){const g=await l.getHeartbeatsHeader();g&&s.append("x-firebase-client",g)}const c={installation:{sdkVersion:oA,appId:t.appId}},d={method:"POST",headers:s,body:JSON.stringify(c)},m=await mA(()=>fetch(i,d));if(m.ok){const g=await m.json();return fA(g)}else throw await hA("Generate Auth Token",m)}function z6(t,{fid:e}){return`${cA(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ky(t,e=!1){let n;const i=await cd(t.appConfig,l=>{if(!bA(l))throw ks.create("not-registered");const c=l.authToken;if(!e&&H6(c))return l;if(c.requestStatus===1)return n=B6(t,e),l;{if(!navigator.onLine)throw ks.create("app-offline");const d=G6(l);return n=F6(t,d),d}});return n?await n:i.authToken}async function B6(t,e){let n=await S1(t.appConfig);for(;n.authToken.requestStatus===1;)await pA(100),n=await S1(t.appConfig);const i=n.authToken;return i.requestStatus===0?Ky(t,e):i}function S1(t){return cd(t,e=>{if(!bA(e))throw ks.create("not-registered");const n=e.authToken;return $6(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function F6(t,e){try{const n=await j6(t,e),i=Object.assign(Object.assign({},e),{authToken:n});return await Mh(t.appConfig,i),n}catch(n){if(uA(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await _A(t.appConfig);else{const i=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Mh(t.appConfig,i)}throw n}}function bA(t){return t!==void 0&&t.registrationStatus===2}function H6(t){return t.requestStatus===2&&!q6(t)}function q6(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+y6}function G6(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function $6(t){return t.requestStatus===1&&t.requestTime+sA<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y6(t){const e=t,{installationEntry:n,registrationPromise:i}=await Yy(e);return i?i.catch(console.error):Ky(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K6(t,e=!1){const n=t;return await W6(n),(await Ky(n,e)).token}async function W6(t){const{registrationPromise:e}=await Yy(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q6(t){if(!t||!t.options)throw Bp("App Configuration");if(!t.name)throw Bp("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Bp(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Bp(t){return ks.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TA="installations",X6="installations-internal",J6=t=>{const e=t.getProvider("app").getImmediate(),n=Q6(e),i=Bs(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},Z6=t=>{const e=t.getProvider("app").getImmediate(),n=Bs(e,TA).getImmediate();return{getId:()=>Y6(n),getToken:s=>K6(n,s)}};function eM(){ti(new Ar(TA,J6,"PUBLIC")),ti(new Ar(X6,Z6,"PRIVATE"))}eM();cr(aA,Gy);cr(aA,Gy,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kh="analytics",tM="firebase_id",nM="origin",rM=60*1e3,iM="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Wy="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const On=new Yh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aM={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},zn=new zs("analytics","Analytics",aM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sM(t){if(!t.startsWith(Wy)){const e=zn.create("invalid-gtag-resource",{gtagURL:t});return On.warn(e.message),""}return t}function wA(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function oM(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function lM(t,e){const n=oM("firebase-js-sdk-policy",{createScriptURL:sM}),i=document.createElement("script"),s=`${Wy}?l=${t}&id=${e}`;i.src=n?n?.createScriptURL(s):s,i.async=!0,document.head.appendChild(i)}function uM(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function cM(t,e,n,i,s,l){const c=i[s];try{if(c)await e[c];else{const m=(await wA(n)).find(g=>g.measurementId===s);m&&await e[m.appId]}}catch(d){On.error(d)}t("config",s,l)}async function fM(t,e,n,i,s){try{let l=[];if(s&&s.send_to){let c=s.send_to;Array.isArray(c)||(c=[c]);const d=await wA(n);for(const m of c){const g=d.find(b=>b.measurementId===m),v=g&&e[g.appId];if(v)l.push(v);else{l=[];break}}}l.length===0&&(l=Object.values(e)),await Promise.all(l),t("event",i,s||{})}catch(l){On.error(l)}}function hM(t,e,n,i){async function s(l,...c){try{if(l==="event"){const[d,m]=c;await fM(t,e,n,d,m)}else if(l==="config"){const[d,m]=c;await cM(t,e,n,i,d,m)}else if(l==="consent"){const[d,m]=c;t("consent",d,m)}else if(l==="get"){const[d,m,g]=c;t("get",d,m,g)}else if(l==="set"){const[d]=c;t("set",d)}else t(l,...c)}catch(d){On.error(d)}}return s}function dM(t,e,n,i,s){let l=function(...c){window[i].push(arguments)};return window[s]&&typeof window[s]=="function"&&(l=window[s]),window[s]=hM(l,t,e,n),{gtagCore:l,wrappedGtag:window[s]}}function mM(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Wy)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pM=30,gM=1e3;class yM{constructor(e={},n=gM){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const SA=new yM;function vM(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function _M(t){var e;const{appId:n,apiKey:i}=t,s={method:"GET",headers:vM(i)},l=iM.replace("{app-id}",n),c=await fetch(l,s);if(c.status!==200&&c.status!==304){let d="";try{const m=await c.json();!((e=m.error)===null||e===void 0)&&e.message&&(d=m.error.message)}catch{}throw zn.create("config-fetch-failed",{httpStatus:c.status,responseMessage:d})}return c.json()}async function EM(t,e=SA,n){const{appId:i,apiKey:s,measurementId:l}=t.options;if(!i)throw zn.create("no-app-id");if(!s){if(l)return{measurementId:l,appId:i};throw zn.create("no-api-key")}const c=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},d=new wM;return setTimeout(async()=>{d.abort()},rM),AA({appId:i,apiKey:s,measurementId:l},c,d,e)}async function AA(t,{throttleEndTimeMillis:e,backoffCount:n},i,s=SA){var l;const{appId:c,measurementId:d}=t;try{await bM(i,e)}catch(m){if(d)return On.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${m?.message}]`),{appId:c,measurementId:d};throw m}try{const m=await _M(t);return s.deleteThrottleMetadata(c),m}catch(m){const g=m;if(!TM(g)){if(s.deleteThrottleMetadata(c),d)return On.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${g?.message}]`),{appId:c,measurementId:d};throw m}const v=Number((l=g?.customData)===null||l===void 0?void 0:l.httpStatus)===503?ZE(n,s.intervalMillis,pM):ZE(n,s.intervalMillis),b={throttleEndTimeMillis:Date.now()+v,backoffCount:n+1};return s.setThrottleMetadata(c,b),On.debug(`Calling attemptFetch again in ${v} millis`),AA(t,b,i,s)}}function bM(t,e){return new Promise((n,i)=>{const s=Math.max(e-Date.now(),0),l=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(l),i(zn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function TM(t){if(!(t instanceof Ir)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class wM{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function SM(t,e,n,i,s){if(s&&s.global){t("event",n,i);return}else{const l=await e,c=Object.assign(Object.assign({},i),{send_to:l});t("event",n,c)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AM(){if(zT())try{await BT()}catch(t){return On.warn(zn.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}else return On.warn(zn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function RM(t,e,n,i,s,l,c){var d;const m=EM(t);m.then(R=>{n[R.measurementId]=R.appId,t.options.measurementId&&R.measurementId!==t.options.measurementId&&On.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${R.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(R=>On.error(R)),e.push(m);const g=AM().then(R=>{if(R)return i.getId()}),[v,b]=await Promise.all([m,g]);mM(l)||lM(l,v.measurementId),s("js",new Date);const T=(d=c?.config)!==null&&d!==void 0?d:{};return T[nM]="firebase",T.update=!0,b!=null&&(T[tM]=b),s("config",v.measurementId,T),v.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{constructor(e){this.app=e}_delete(){return delete Lu[this.app.options.appId],Promise.resolve()}}let Lu={},A1=[];const R1={};let Fp="dataLayer",CM="gtag",I1,RA,C1=!1;function OM(){const t=[];if(jT()&&t.push("This is a browser extension environment."),dO()||t.push("Cookies are not available."),t.length>0){const e=t.map((i,s)=>`(${s+1}) ${i}`).join(" "),n=zn.create("invalid-analytics-context",{errorInfo:e});On.warn(n.message)}}function DM(t,e,n){OM();const i=t.options.appId;if(!i)throw zn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)On.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw zn.create("no-api-key");if(Lu[i]!=null)throw zn.create("already-exists",{id:i});if(!C1){uM(Fp);const{wrappedGtag:l,gtagCore:c}=dM(Lu,A1,R1,Fp,CM);RA=l,I1=c,C1=!0}return Lu[i]=RM(t,A1,R1,e,I1,Fp,n),new IM(t)}function NM(t=iy()){t=hn(t);const e=Bs(t,kh);return e.isInitialized()?e.getImmediate():xM(t)}function xM(t,e={}){const n=Bs(t,kh);if(n.isInitialized()){const s=n.getImmediate();if(Ma(e,n.getOptions()))return s;throw zn.create("already-initialized")}return n.initialize({options:e})}function PM(t,e,n,i){t=hn(t),SM(RA,Lu[t.app.options.appId],e,n,i).catch(s=>On.error(s))}const O1="@firebase/analytics",D1="0.10.17";function MM(){ti(new Ar(kh,(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return DM(i,s,n)},"PUBLIC")),ti(new Ar("analytics-internal",t,"PRIVATE")),cr(O1,D1),cr(O1,D1,"esm2017");function t(e){try{const n=e.getProvider(kh).getImmediate();return{logEvent:(i,s,l)=>PM(n,i,s,l)}}catch(n){throw zn.create("interop-component-reg-failed",{reason:n})}}}MM();const kM={apiKey:"AIzaSyAzi83JX-klIIak_S1jvXrDUjvSwiaLRFo",authDomain:"meditrack-c20a7.firebaseapp.com",projectId:"meditrack-c20a7",storageBucket:"meditrack-c20a7.appspot.com",messagingSenderId:"718086036874",appId:"1:718086036874:web:409b553b32bf9ac35b3c73",measurementId:"G-TLYF3TTXMD"},Qy=GT(kM),IA=XP(Qy),Ia=Yx(Qy);NM(Qy);PN(Ia,bw).catch(t=>{console.error("Failed to set persistence:",t)});function VM(t){return VN(Ia,e=>{t(e)})}async function Cg(t,e,n){if(!t)throw new Error("saveSchedule requires a user id");await d6(KS(IA,"users",t,"schedules",e),n)}async function CA(t,e){if(!t)return null;const n=await f6(KS(IA,"users",t,"schedules",e));return n.exists()?n.data():null}async function LM(t,e){if(Ia.currentUser&&Ia.currentUser.isAnonymous){const i=Hs.credential(t,e);try{return(await DN(Ia.currentUser,i)).user}catch(s){const{code:l}=s;if(l==="auth/credential-already-in-use")return(await xN(Ia,t,e)).user;throw s}}return(await NN(Ia,t,e)).user}const OA=F.createContext({user:null,uid:null,loading:!0});function UM({children:t}){const[e,n]=F.useState(null),[i,s]=F.useState(null),[l,c]=F.useState(!0);F.useEffect(()=>{const m=VM(g=>{n(g),s(g?g.uid:null),c(!1)});return()=>{typeof m=="function"&&m()}},[]);const d=F.useMemo(()=>({user:e,uid:i,loading:l}),[e,i,l]);return M.jsx(OA.Provider,{value:d,children:t})}function pl(){return F.useContext(OA)}function jM(){const{user:t}=pl();if(!t)return null;const e=t.email||(t.isAnonymous?"Anonymous":"Unknown");return M.jsxs("div",{className:"text-gray-700 text-sm flex items-center gap-2",children:[M.jsxs("span",{children:["Signed in: ",e]}),M.jsx("button",{type:"button",className:"text-blue-600 underline",onClick:()=>LN(Ia),children:"Logout"})]})}function Pt(t,e){return t?`${t}:${e}`:e}const zM="_sidebar_1o02k_1",BM="_closed_1o02k_19",FM="_logoContainer_1o02k_23",HM="_logo_1o02k_23",qM="_nav_1o02k_47",GM="_link_1o02k_53",$M="_active_1o02k_72",YM="_toggleButton_1o02k_91",KM="_buttonOpen_1o02k_119",WM="_icon_1o02k_123",QM="_iconOpen_1o02k_134",sr={sidebar:zM,closed:BM,logoContainer:FM,logo:HM,nav:qM,link:GM,active:$M,toggleButton:YM,buttonOpen:KM,icon:WM,iconOpen:QM};function XM(t,e,n,i){F.useEffect(()=>{function s(l){const c=l.target;t&&e.current&&!e.current.contains(c)&&(!n||!n.current||!n.current.contains(c))&&i()}return document.addEventListener("mousedown",s),document.addEventListener("touchstart",s),()=>{document.removeEventListener("mousedown",s),document.removeEventListener("touchstart",s)}},[t,e,n,i])}function JM(){const[t,e]=F.useState(!1),[n,i]=F.useState(!1),[s,l]=F.useState(!1),c=F.useRef(null),d=F.useRef(null),{uid:m}=pl(),g=F.useCallback(()=>{try{const T=localStorage.getItem(Pt(m,"configSettings")),R=T?JSON.parse(T):{},O=Array.isArray(R.injectables)?R.injectables:JSON.parse(localStorage.getItem(Pt(m,"injectables"))||"[]"),j=Array.isArray(R.orals)?R.orals:JSON.parse(localStorage.getItem(Pt(m,"orals"))||"[]");i(Array.isArray(O)&&O.some(L=>!L.disabled)),l(Array.isArray(j)&&j.some(L=>!L.disabled))}catch{i(!1),l(!1)}},[m]);F.useEffect(()=>{g();const T=R=>{(R.key===Pt(m,"injectables")||R.key===Pt(m,"orals")||R.key===Pt(m,"configSettings"))&&g()};return window.addEventListener("storage",T),()=>window.removeEventListener("storage",T)},[t,m,g]);const v=()=>{g(),e(T=>!T)},b=({isActive:T})=>`${sr.link} ${T?sr.active:""}`;return XM(t,c,d,()=>e(!1)),M.jsxs(M.Fragment,{children:[M.jsx("button",{type:"button",onClick:v,ref:d,className:`${sr.toggleButton} ${t?sr.buttonOpen:""}`,children:t?M.jsx(GC,{className:`${sr.icon} ${sr.iconOpen}`,color:"white"}):M.jsx($C,{className:sr.icon,color:"white"})}),M.jsx("aside",{ref:c,className:`${sr.sidebar} sidebar-gradient ${t?"":sr.closed}`,children:M.jsxs("div",{children:[M.jsx("div",{className:sr.logoContainer,children:M.jsx("img",{src:DT,alt:"MediTrack logo",className:sr.logo})}),M.jsxs("nav",{className:sr.nav,children:[M.jsxs(Ho,{to:"/",className:b,onClick:()=>e(!1),children:[M.jsx(BC,{})," Home"]}),n&&M.jsxs(Ho,{to:"/schedule",className:b,onClick:()=>e(!1),children:[M.jsx(HC,{})," Injection Schedule"]}),s&&M.jsxs(Ho,{to:"/oral",className:b,onClick:()=>e(!1),children:[M.jsx(qC,{})," Oral Schedule"]}),M.jsxs(Ho,{to:"/travel",className:b,onClick:()=>e(!1),children:[M.jsx(FC,{})," Travel Plans"]}),M.jsxs(Ho,{to:"/config",className:b,onClick:()=>e(!1),children:[M.jsx(jC,{})," Configuration"]}),M.jsx("div",{className:"mt-4",children:M.jsx(jM,{})}),M.jsxs("div",{className:"mt-6 text-center text-sm text-gray-500",children:["v",YC]})]})]})})]})}const ZM="/MediTrack/assets/meditrack-logo-horizontal-D-5McXEL.png",ek="_home_1m4zy_1",tk="_card_1m4zy_12",nk="_logo_1m4zy_20",rk="_title_1m4zy_25",qf={home:ek,card:tk,logo:nk,title:rk};function ik(){return M.jsx("div",{className:qf.home,children:M.jsxs("div",{className:qf.card,children:[M.jsx("img",{src:ZM,alt:"MediTrack Logo",className:qf.logo}),M.jsx("h1",{className:qf.title,children:"MediTrack"})]})})}function ak(t=768){const[e,n]=F.useState(typeof window<"u"?window.innerWidth<t:!1);return F.useEffect(()=>{const i=()=>{n(window.innerWidth<t)};return window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)},[t]),e}function DA(t){var e,n,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=DA(t[e]))&&(i&&(i+=" "),i+=n)}else for(n in t)t[n]&&(i&&(i+=" "),i+=n);return i}function fd(){for(var t,e,n=0,i="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=DA(t))&&(i&&(i+=" "),i+=e);return i}const sk=(t,e,n,i)=>{if(n==="length"||n==="prototype"||n==="arguments"||n==="caller")return;const s=Object.getOwnPropertyDescriptor(t,n),l=Object.getOwnPropertyDescriptor(e,n);!ok(s,l)&&i||Object.defineProperty(t,n,l)},ok=function(t,e){return t===void 0||t.configurable||t.writable===e.writable&&t.enumerable===e.enumerable&&t.configurable===e.configurable&&(t.writable||t.value===e.value)},lk=(t,e)=>{const n=Object.getPrototypeOf(e);n!==Object.getPrototypeOf(t)&&Object.setPrototypeOf(t,n)},uk=(t,e)=>`/* Wrapped ${t}*/
${e}`,ck=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),fk=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),hk=(t,e,n)=>{const i=n===""?"":`with ${n.trim()}() `,s=uk.bind(null,i,e.toString());Object.defineProperty(s,"name",fk);const{writable:l,enumerable:c,configurable:d}=ck;Object.defineProperty(t,"toString",{value:s,writable:l,enumerable:c,configurable:d})};function dk(t,e,{ignoreNonConfigurable:n=!1}={}){const{name:i}=t;for(const s of Reflect.ownKeys(e))sk(t,e,s,n);return lk(t,e),hk(t,e,i),t}const mk=new WeakMap,N1=new WeakMap;function NA(t,{cacheKey:e,cache:n=new Map,maxAge:i}={}){if(i===0)return t;if(typeof i=="number"){if(i>2147483647)throw new TypeError("The `maxAge` option cannot exceed 2147483647.");if(i<0)throw new TypeError("The `maxAge` option should not be a negative number.")}const s=function(...l){const c=e?e(l):l[0],d=n.get(c);if(d)return d.data;const m=t.apply(this,l),g=typeof i=="function"?i(...l):i;if(n.set(c,{data:m,maxAge:g?Date.now()+g:Number.POSITIVE_INFINITY}),g&&g>0&&g!==Number.POSITIVE_INFINITY){const v=setTimeout(()=>{n.delete(c)},g);v.unref?.();const b=N1.get(t)??new Set;b.add(v),N1.set(t,b)}return m};return dk(s,t,{ignoreNonConfigurable:!0}),mk.set(s,n),s}function pk(t){return typeof t=="string"}function gk(t,e,n){return n.indexOf(t)===e}function yk(t){return t.toLowerCase()===t}function x1(t){return t.indexOf(",")===-1?t:t.split(",")}function Og(t){if(!t)return t;if(t==="C"||t==="posix"||t==="POSIX")return"en-US";if(t.indexOf(".")!==-1){var e=t.split(".")[0],n=e===void 0?"":e;return Og(n)}if(t.indexOf("@")!==-1){var i=t.split("@")[0],n=i===void 0?"":i;return Og(n)}if(t.indexOf("-")===-1||!yk(t))return t;var s=t.split("-"),l=s[0],c=s[1],d=c===void 0?"":c;return"".concat(l,"-").concat(d.toUpperCase())}function vk(t){var e=t===void 0?{}:t,n=e.useFallbackLocale,i=n===void 0?!0:n,s=e.fallbackLocale,l=s===void 0?"en-US":s,c=[];if(typeof navigator<"u"){for(var d=navigator.languages||[],m=[],g=0,v=d;g<v.length;g++){var b=v[g];m=m.concat(x1(b))}var T=navigator.language,R=T&&x1(T);c=c.concat(m,R)}return i&&c.push(l),c.filter(pk).map(Og).filter(gk)}var _k=NA(vk,{cacheKey:JSON.stringify});function Ek(t){return _k(t)[0]||null}var xA=NA(Ek,{cacheKey:JSON.stringify});function Yi(t,e,n){return function(s,l=n){const c=t(s)+l;return e(c)}}function mc(t){return function(n){return new Date(t(n).getTime()-1)}}function pc(t,e){return function(i){return[t(i),e(i)]}}function pt(t){if(t instanceof Date)return t.getFullYear();if(typeof t=="number")return t;const e=Number.parseInt(t,10);if(typeof t=="string"&&!Number.isNaN(e))return e;throw new Error(`Failed to get year from date: ${t}.`)}function qa(t){if(t instanceof Date)return t.getMonth();throw new Error(`Failed to get month from date: ${t}.`)}function hd(t){if(t instanceof Date)return t.getDate();throw new Error(`Failed to get year from date: ${t}.`)}function gl(t){const e=pt(t),n=e+(-e+1)%100,i=new Date;return i.setFullYear(n,0,1),i.setHours(0,0,0,0),i}const bk=Yi(pt,gl,-100),PA=Yi(pt,gl,100),Xy=mc(PA),Tk=Yi(pt,Xy,-100),MA=pc(gl,Xy);function Ga(t){const e=pt(t),n=e+(-e+1)%10,i=new Date;return i.setFullYear(n,0,1),i.setHours(0,0,0,0),i}const kA=Yi(pt,Ga,-10),Jy=Yi(pt,Ga,10),dd=mc(Jy),VA=Yi(pt,dd,-10),LA=pc(Ga,dd);function yl(t){const e=pt(t),n=new Date;return n.setFullYear(e,0,1),n.setHours(0,0,0,0),n}const UA=Yi(pt,yl,-1),Zy=Yi(pt,yl,1),md=mc(Zy),jA=Yi(pt,md,-1),wk=pc(yl,md);function ev(t,e){return function(i,s=e){const l=pt(i),c=qa(i)+s,d=new Date;return d.setFullYear(l,c,1),d.setHours(0,0,0,0),t(d)}}function Ks(t){const e=pt(t),n=qa(t),i=new Date;return i.setFullYear(e,n,1),i.setHours(0,0,0,0),i}const zA=ev(Ks,-1),tv=ev(Ks,1),gc=mc(tv),BA=ev(gc,-1),Sk=pc(Ks,gc);function Ak(t,e){return function(i,s=e){const l=pt(i),c=qa(i),d=hd(i)+s,m=new Date;return m.setFullYear(l,c,d),m.setHours(0,0,0,0),t(m)}}function yc(t){const e=pt(t),n=qa(t),i=hd(t),s=new Date;return s.setFullYear(e,n,i),s.setHours(0,0,0,0),s}const Rk=Ak(yc,1),nv=mc(Rk),Ik=pc(yc,nv);function FA(t){return hd(gc(t))}var fn={GREGORY:"gregory",HEBREW:"hebrew",ISLAMIC:"islamic",ISO_8601:"iso8601"},Ck={gregory:["en-CA","en-US","es-AR","es-BO","es-CL","es-CO","es-CR","es-DO","es-EC","es-GT","es-HN","es-MX","es-NI","es-PA","es-PE","es-PR","es-SV","es-VE","pt-BR"],hebrew:["he","he-IL"],islamic:["ar","ar-AE","ar-BH","ar-DZ","ar-EG","ar-IQ","ar-JO","ar-KW","ar-LY","ar-OM","ar-QA","ar-SA","ar-SD","ar-SY","ar-YE","dv","dv-MV","ps","ps-AR"]},rv=[0,1,2,3,4,5,6],Hp=new Map;function Ok(t){return function(n,i){var s=n||xA();Hp.has(s)||Hp.set(s,new Map);var l=Hp.get(s);return l.has(t)||l.set(t,new Intl.DateTimeFormat(s||void 0,t).format),l.get(t)(i)}}function Dk(t){var e=new Date(t);return new Date(e.setHours(12))}function Ws(t){return function(e,n){return Ok(t)(e,Dk(n))}}var Nk={day:"numeric"},xk={day:"numeric",month:"long",year:"numeric"},Pk={month:"long"},Mk={month:"long",year:"numeric"},kk={weekday:"short"},Vk={weekday:"long"},Lk={year:"numeric"},Uk=Ws(Nk),jk=Ws(xk),zk=Ws(Pk),HA=Ws(Mk),Bk=Ws(kk),Fk=Ws(Vk),pd=Ws(Lk),Hk=rv[0],qk=rv[5],P1=rv[6];function Xu(t,e){e===void 0&&(e=fn.ISO_8601);var n=t.getDay();switch(e){case fn.ISO_8601:return(n+6)%7;case fn.ISLAMIC:return(n+1)%7;case fn.HEBREW:case fn.GREGORY:return n;default:throw new Error("Unsupported calendar type.")}}function Gk(t){var e=gl(t);return pt(e)}function $k(t){var e=Ga(t);return pt(e)}function Dg(t,e){e===void 0&&(e=fn.ISO_8601);var n=pt(t),i=qa(t),s=t.getDate()-Xu(t,e);return new Date(n,i,s)}function Yk(t,e){e===void 0&&(e=fn.ISO_8601);var n=e===fn.GREGORY?fn.GREGORY:fn.ISO_8601,i=Dg(t,e),s=pt(t)+1,l,c;do l=new Date(s,0,n===fn.ISO_8601?4:1),c=Dg(l,e),s-=1;while(t<c);return Math.round((i.getTime()-c.getTime())/(864e5*7))+1}function Ds(t,e){switch(t){case"century":return gl(e);case"decade":return Ga(e);case"year":return yl(e);case"month":return Ks(e);case"day":return yc(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function Kk(t,e){switch(t){case"century":return bk(e);case"decade":return kA(e);case"year":return UA(e);case"month":return zA(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function qA(t,e){switch(t){case"century":return PA(e);case"decade":return Jy(e);case"year":return Zy(e);case"month":return tv(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function Wk(t,e){switch(t){case"decade":return kA(e,-100);case"year":return UA(e,-10);case"month":return zA(e,-12);default:throw new Error("Invalid rangeType: ".concat(t))}}function Qk(t,e){switch(t){case"decade":return Jy(e,100);case"year":return Zy(e,10);case"month":return tv(e,12);default:throw new Error("Invalid rangeType: ".concat(t))}}function GA(t,e){switch(t){case"century":return Xy(e);case"decade":return dd(e);case"year":return md(e);case"month":return gc(e);case"day":return nv(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function Xk(t,e){switch(t){case"century":return Tk(e);case"decade":return VA(e);case"year":return jA(e);case"month":return BA(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function Jk(t,e){switch(t){case"decade":return VA(e,-100);case"year":return jA(e,-10);case"month":return BA(e,-12);default:throw new Error("Invalid rangeType: ".concat(t))}}function M1(t,e){switch(t){case"century":return MA(e);case"decade":return LA(e);case"year":return wk(e);case"month":return Sk(e);case"day":return Ik(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function Zk(t,e,n){var i=[e,n].sort(function(s,l){return s.getTime()-l.getTime()});return[Ds(t,i[0]),GA(t,i[1])]}function $A(t,e,n){return n.map(function(i){return(e||pd)(t,i)}).join("  ")}function eV(t,e,n){return $A(t,e,MA(n))}function YA(t,e,n){return $A(t,e,LA(n))}function tV(t){return t.getDay()===new Date().getDay()}function KA(t,e){e===void 0&&(e=fn.ISO_8601);var n=t.getDay();switch(e){case fn.ISLAMIC:case fn.HEBREW:return n===qk||n===P1;case fn.ISO_8601:case fn.GREGORY:return n===P1||n===Hk;default:throw new Error("Unsupported calendar type.")}}var Gr="react-calendar__navigation";function nV(t){var e=t.activeStartDate,n=t.drillUp,i=t.formatMonthYear,s=i===void 0?HA:i,l=t.formatYear,c=l===void 0?pd:l,d=t.locale,m=t.maxDate,g=t.minDate,v=t.navigationAriaLabel,b=v===void 0?"":v,T=t.navigationAriaLive,R=t.navigationLabel,O=t.next2AriaLabel,j=O===void 0?"":O,L=t.next2Label,z=L===void 0?"":L,te=t.nextAriaLabel,H=te===void 0?"":te,K=t.nextLabel,J=K===void 0?"":K,ee=t.prev2AriaLabel,D=ee===void 0?"":ee,A=t.prev2Label,I=A===void 0?"":A,k=t.prevAriaLabel,N=k===void 0?"":k,x=t.prevLabel,C=x===void 0?"":x,it=t.setActiveStartDate,He=t.showDoubleView,X=t.view,ce=t.views,de=ce.indexOf(X)>0,De=X!=="century",V=Kk(X,e),re=De?Wk(X,e):void 0,ue=qA(X,e),oe=De?Qk(X,e):void 0,me=function(){if(V.getFullYear()<0)return!0;var at=Xk(X,e);return g&&g>=at}(),Ie=De&&function(){if(re.getFullYear()<0)return!0;var at=Jk(X,e);return g&&g>=at}(),ve=m&&m<ue,ft=De&&m&&m<oe;function qe(){it(V,"prev")}function kt(){it(re,"prev2")}function Hn(){it(ue,"next")}function Dn(){it(oe,"next2")}function qn(at){var hr=function(){switch(X){case"century":return eV(d,c,at);case"decade":return YA(d,c,at);case"year":return c(d,at);case"month":return s(d,at);default:throw new Error("Invalid view: ".concat(X,"."))}}();return R?R({date:at,label:hr,locale:d||xA()||void 0,view:X}):hr}function fr(){var at="".concat(Gr,"__label");return M.jsxs("button",{"aria-label":b,"aria-live":T,className:at,disabled:!de,onClick:n,style:{flexGrow:1},type:"button",children:[M.jsx("span",{className:"".concat(at,"__labelText ").concat(at,"__labelText--from"),children:qn(e)}),He?M.jsxs(M.Fragment,{children:[M.jsx("span",{className:"".concat(at,"__divider"),children:"  "}),M.jsx("span",{className:"".concat(at,"__labelText ").concat(at,"__labelText--to"),children:qn(ue)})]}):null]})}return M.jsxs("div",{className:Gr,children:[I!==null&&De?M.jsx("button",{"aria-label":D,className:"".concat(Gr,"__arrow ").concat(Gr,"__prev2-button"),disabled:Ie,onClick:kt,type:"button",children:I}):null,C!==null&&M.jsx("button",{"aria-label":N,className:"".concat(Gr,"__arrow ").concat(Gr,"__prev-button"),disabled:me,onClick:qe,type:"button",children:C}),fr(),J!==null&&M.jsx("button",{"aria-label":H,className:"".concat(Gr,"__arrow ").concat(Gr,"__next-button"),disabled:ve,onClick:Hn,type:"button",children:J}),z!==null&&De?M.jsx("button",{"aria-label":j,className:"".concat(Gr,"__arrow ").concat(Gr,"__next2-button"),disabled:ft,onClick:Dn,type:"button",children:z}):null]})}var Wo=function(){return Wo=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},Wo.apply(this,arguments)},rV=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n};function k1(t){return"".concat(t,"%")}function iv(t){var e=t.children,n=t.className,i=t.count,s=t.direction,l=t.offset,c=t.style,d=t.wrap,m=rV(t,["children","className","count","direction","offset","style","wrap"]);return M.jsx("div",Wo({className:n,style:Wo({display:"flex",flexDirection:s,flexWrap:d?"wrap":"nowrap"},c)},m,{children:F.Children.map(e,function(g,v){var b=l&&v===0?k1(100*l/i):null;return F.cloneElement(g,Wo(Wo({},g.props),{style:{flexBasis:k1(100/i),flexShrink:0,flexGrow:0,overflow:"hidden",marginLeft:b,marginInlineStart:b,marginInlineEnd:0}}))})}))}function iV(t,e,n){return e&&e>t?e:n&&n<t?n:t}function Ju(t,e){return e[0]<=t&&e[1]>=t}function aV(t,e){return t[0]<=e[0]&&t[1]>=e[1]}function WA(t,e){return Ju(t[0],e)||Ju(t[1],e)}function V1(t,e,n){var i=WA(e,t),s=[];if(i){s.push(n);var l=Ju(t[0],e),c=Ju(t[1],e);l&&s.push("".concat(n,"Start")),c&&s.push("".concat(n,"End")),l&&c&&s.push("".concat(n,"BothEnds"))}return s}function sV(t){return Array.isArray(t)?t[0]!==null&&t[1]!==null:t!==null}function oV(t){if(!t)throw new Error("args is required");var e=t.value,n=t.date,i=t.hover,s="react-calendar__tile",l=[s];if(!n)return l;var c=new Date,d=function(){if(Array.isArray(n))return n;var R=t.dateType;if(!R)throw new Error("dateType is required when date is not an array of two dates");return M1(R,n)}();if(Ju(c,d)&&l.push("".concat(s,"--now")),!e||!sV(e))return l;var m=function(){if(Array.isArray(e))return e;var R=t.valueType;if(!R)throw new Error("valueType is required when value is not an array of two dates");return M1(R,e)}();aV(m,d)?l.push("".concat(s,"--active")):WA(m,d)&&l.push("".concat(s,"--hasActive"));var g=V1(m,d,"".concat(s,"--range"));l.push.apply(l,g);var v=Array.isArray(e)?e:[e];if(i&&v.length===1){var b=i>m[0]?[m[0],i]:[i,m[0]],T=V1(b,d,"".concat(s,"--hover"));l.push.apply(l,T)}return l}function gd(t){for(var e=t.className,n=t.count,i=n===void 0?3:n,s=t.dateTransform,l=t.dateType,c=t.end,d=t.hover,m=t.offset,g=t.renderTile,v=t.start,b=t.step,T=b===void 0?1:b,R=t.value,O=t.valueType,j=[],L=v;L<=c;L+=T){var z=s(L);j.push(g({classes:oV({date:z,dateType:l,hover:d,value:R,valueType:O}),date:z}))}return M.jsx(iv,{className:e,count:i,offset:m,wrap:!0,children:j})}function yd(t){var e=t.activeStartDate,n=t.children,i=t.classes,s=t.date,l=t.formatAbbr,c=t.locale,d=t.maxDate,m=t.maxDateTransform,g=t.minDate,v=t.minDateTransform,b=t.onClick,T=t.onMouseOver,R=t.style,O=t.tileClassName,j=t.tileContent,L=t.tileDisabled,z=t.view,te=F.useMemo(function(){var K={activeStartDate:e,date:s,view:z};return typeof O=="function"?O(K):O},[e,s,O,z]),H=F.useMemo(function(){var K={activeStartDate:e,date:s,view:z};return typeof j=="function"?j(K):j},[e,s,j,z]);return M.jsxs("button",{className:fd(i,te),disabled:g&&v(g)>s||d&&m(d)<s||L?.({activeStartDate:e,date:s,view:z}),onClick:b?function(K){return b(s,K)}:void 0,onFocus:T?function(){return T(s)}:void 0,onMouseOver:T?function(){return T(s)}:void 0,style:R,type:"button",children:[l?M.jsx("abbr",{"aria-label":l(c,s),children:n}):n,H]})}var Ng=function(){return Ng=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},Ng.apply(this,arguments)},lV=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n},L1="react-calendar__century-view__decades__decade";function uV(t){var e=t.classes,n=e===void 0?[]:e,i=t.currentCentury,s=t.formatYear,l=s===void 0?pd:s,c=lV(t,["classes","currentCentury","formatYear"]),d=c.date,m=c.locale,g=[];return n&&g.push.apply(g,n),g.push(L1),gl(d).getFullYear()!==i&&g.push("".concat(L1,"--neighboringCentury")),M.jsx(yd,Ng({},c,{classes:g,maxDateTransform:dd,minDateTransform:Ga,view:"century",children:YA(m,l,d)}))}var xg=function(){return xg=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},xg.apply(this,arguments)},U1=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n};function cV(t){var e=t.activeStartDate,n=t.hover,i=t.showNeighboringCentury,s=t.value,l=t.valueType,c=U1(t,["activeStartDate","hover","showNeighboringCentury","value","valueType"]),d=Gk(e),m=d+(i?119:99);return M.jsx(gd,{className:"react-calendar__century-view__decades",dateTransform:Ga,dateType:"decade",end:m,hover:n,renderTile:function(g){var v=g.date,b=U1(g,["date"]);return M.jsx(uV,xg({},c,b,{activeStartDate:e,currentCentury:d,date:v}),v.getTime())},start:d,step:10,value:s,valueType:l})}var Pg=function(){return Pg=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},Pg.apply(this,arguments)};function fV(t){function e(){return M.jsx(cV,Pg({},t))}return M.jsx("div",{className:"react-calendar__century-view",children:e()})}var Mg=function(){return Mg=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},Mg.apply(this,arguments)},hV=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n},j1="react-calendar__decade-view__years__year";function dV(t){var e=t.classes,n=e===void 0?[]:e,i=t.currentDecade,s=t.formatYear,l=s===void 0?pd:s,c=hV(t,["classes","currentDecade","formatYear"]),d=c.date,m=c.locale,g=[];return n&&g.push.apply(g,n),g.push(j1),Ga(d).getFullYear()!==i&&g.push("".concat(j1,"--neighboringDecade")),M.jsx(yd,Mg({},c,{classes:g,maxDateTransform:md,minDateTransform:yl,view:"decade",children:l(m,d)}))}var kg=function(){return kg=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},kg.apply(this,arguments)},z1=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n};function mV(t){var e=t.activeStartDate,n=t.hover,i=t.showNeighboringDecade,s=t.value,l=t.valueType,c=z1(t,["activeStartDate","hover","showNeighboringDecade","value","valueType"]),d=$k(e),m=d+(i?11:9);return M.jsx(gd,{className:"react-calendar__decade-view__years",dateTransform:yl,dateType:"year",end:m,hover:n,renderTile:function(g){var v=g.date,b=z1(g,["date"]);return M.jsx(dV,kg({},c,b,{activeStartDate:e,currentDecade:d,date:v}),v.getTime())},start:d,value:s,valueType:l})}var Vg=function(){return Vg=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},Vg.apply(this,arguments)};function pV(t){function e(){return M.jsx(mV,Vg({},t))}return M.jsx("div",{className:"react-calendar__decade-view",children:e()})}var Lg=function(){return Lg=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},Lg.apply(this,arguments)},gV=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n},B1=function(t,e,n){if(n||arguments.length===2)for(var i=0,s=e.length,l;i<s;i++)(l||!(i in e))&&(l||(l=Array.prototype.slice.call(e,0,i)),l[i]=e[i]);return t.concat(l||Array.prototype.slice.call(e))},yV="react-calendar__year-view__months__month";function vV(t){var e=t.classes,n=e===void 0?[]:e,i=t.formatMonth,s=i===void 0?zk:i,l=t.formatMonthYear,c=l===void 0?HA:l,d=gV(t,["classes","formatMonth","formatMonthYear"]),m=d.date,g=d.locale;return M.jsx(yd,Lg({},d,{classes:B1(B1([],n,!0),[yV],!1),formatAbbr:c,maxDateTransform:gc,minDateTransform:Ks,view:"year",children:s(g,m)}))}var Ug=function(){return Ug=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},Ug.apply(this,arguments)},F1=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n};function _V(t){var e=t.activeStartDate,n=t.hover,i=t.value,s=t.valueType,l=F1(t,["activeStartDate","hover","value","valueType"]),c=0,d=11,m=pt(e);return M.jsx(gd,{className:"react-calendar__year-view__months",dateTransform:function(g){var v=new Date;return v.setFullYear(m,g,1),Ks(v)},dateType:"month",end:d,hover:n,renderTile:function(g){var v=g.date,b=F1(g,["date"]);return M.jsx(vV,Ug({},l,b,{activeStartDate:e,date:v}),v.getTime())},start:c,value:i,valueType:s})}var jg=function(){return jg=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},jg.apply(this,arguments)};function EV(t){function e(){return M.jsx(_V,jg({},t))}return M.jsx("div",{className:"react-calendar__year-view",children:e()})}var zg=function(){return zg=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},zg.apply(this,arguments)},bV=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n},qp="react-calendar__month-view__days__day";function TV(t){var e=t.calendarType,n=t.classes,i=n===void 0?[]:n,s=t.currentMonthIndex,l=t.formatDay,c=l===void 0?Uk:l,d=t.formatLongDate,m=d===void 0?jk:d,g=bV(t,["calendarType","classes","currentMonthIndex","formatDay","formatLongDate"]),v=g.date,b=g.locale,T=[];return i&&T.push.apply(T,i),T.push(qp),KA(v,e)&&T.push("".concat(qp,"--weekend")),v.getMonth()!==s&&T.push("".concat(qp,"--neighboringMonth")),M.jsx(yd,zg({},g,{classes:T,formatAbbr:m,maxDateTransform:nv,minDateTransform:yc,view:"month",children:c(b,v)}))}var Bg=function(){return Bg=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},Bg.apply(this,arguments)},H1=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n};function wV(t){var e=t.activeStartDate,n=t.calendarType,i=t.hover,s=t.showFixedNumberOfWeeks,l=t.showNeighboringMonth,c=t.value,d=t.valueType,m=H1(t,["activeStartDate","calendarType","hover","showFixedNumberOfWeeks","showNeighboringMonth","value","valueType"]),g=pt(e),v=qa(e),b=s||l,T=Xu(e,n),R=b?0:T,O=(b?-T:0)+1,j=function(){if(s)return O+6*7-1;var L=FA(e);if(l){var z=new Date;z.setFullYear(g,v,L),z.setHours(0,0,0,0);var te=7-Xu(z,n)-1;return L+te}return L}();return M.jsx(gd,{className:"react-calendar__month-view__days",count:7,dateTransform:function(L){var z=new Date;return z.setFullYear(g,v,L),yc(z)},dateType:"day",hover:i,end:j,renderTile:function(L){var z=L.date,te=H1(L,["date"]);return M.jsx(TV,Bg({},m,te,{activeStartDate:e,calendarType:n,currentMonthIndex:v,date:z}),z.getTime())},offset:R,start:O,value:c,valueType:d})}var QA="react-calendar__month-view__weekdays",Gp="".concat(QA,"__weekday");function SV(t){for(var e=t.calendarType,n=t.formatShortWeekday,i=n===void 0?Bk:n,s=t.formatWeekday,l=s===void 0?Fk:s,c=t.locale,d=t.onMouseLeave,m=new Date,g=Ks(m),v=pt(g),b=qa(g),T=[],R=1;R<=7;R+=1){var O=new Date(v,b,R-Xu(g,e)),j=l(c,O);T.push(M.jsx("div",{className:fd(Gp,tV(O)&&"".concat(Gp,"--current"),KA(O,e)&&"".concat(Gp,"--weekend")),children:M.jsx("abbr",{"aria-label":j,title:j,children:i(c,O).replace(".","")})},R))}return M.jsx(iv,{className:QA,count:7,onFocus:d,onMouseOver:d,children:T})}var Vh=function(){return Vh=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},Vh.apply(this,arguments)},q1=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n},G1="react-calendar__tile";function AV(t){var e=t.onClickWeekNumber,n=t.weekNumber,i=M.jsx("span",{children:n});if(e){var s=t.date,l=t.onClickWeekNumber,c=t.weekNumber,d=q1(t,["date","onClickWeekNumber","weekNumber"]);return M.jsx("button",Vh({},d,{className:G1,onClick:function(m){return l(c,s,m)},type:"button",children:i}))}else{t.date,t.onClickWeekNumber,t.weekNumber;var d=q1(t,["date","onClickWeekNumber","weekNumber"]);return M.jsx("div",Vh({},d,{className:G1,children:i}))}}function RV(t){var e=t.activeStartDate,n=t.calendarType,i=t.onClickWeekNumber,s=t.onMouseLeave,l=t.showFixedNumberOfWeeks,c=function(){if(l)return 6;var g=FA(e),v=Xu(e,n),b=g-(7-v);return 1+Math.ceil(b/7)}(),d=function(){for(var g=pt(e),v=qa(e),b=hd(e),T=[],R=0;R<c;R+=1)T.push(Dg(new Date(g,v,b+R*7),n));return T}(),m=d.map(function(g){return Yk(g,n)});return M.jsx(iv,{className:"react-calendar__month-view__weekNumbers",count:c,direction:"column",onFocus:s,onMouseOver:s,style:{flexBasis:"calc(100% * (1 / 8)",flexShrink:0},children:m.map(function(g,v){var b=d[v];if(!b)throw new Error("date is not defined");return M.jsx(AV,{date:b,onClickWeekNumber:i,weekNumber:g},g)})})}var Fg=function(){return Fg=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},Fg.apply(this,arguments)},IV=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n};function CV(t){if(t)for(var e=0,n=Object.entries(Ck);e<n.length;e++){var i=n[e],s=i[0],l=i[1];if(l.includes(t))return s}return fn.ISO_8601}function OV(t){var e=t.activeStartDate,n=t.locale,i=t.onMouseLeave,s=t.showFixedNumberOfWeeks,l=t.calendarType,c=l===void 0?CV(n):l,d=t.formatShortWeekday,m=t.formatWeekday,g=t.onClickWeekNumber,v=t.showWeekNumbers,b=IV(t,["calendarType","formatShortWeekday","formatWeekday","onClickWeekNumber","showWeekNumbers"]);function T(){return M.jsx(SV,{calendarType:c,formatShortWeekday:d,formatWeekday:m,locale:n,onMouseLeave:i})}function R(){return v?M.jsx(RV,{activeStartDate:e,calendarType:c,onClickWeekNumber:g,onMouseLeave:i,showFixedNumberOfWeeks:s}):null}function O(){return M.jsx(wV,Fg({calendarType:c},b))}var j="react-calendar__month-view";return M.jsx("div",{className:fd(j,v?"".concat(j,"--weekNumbers"):""),children:M.jsxs("div",{style:{display:"flex",alignItems:"flex-end"},children:[R(),M.jsxs("div",{style:{flexGrow:1,width:"100%"},children:[T(),O()]})]})})}var Qo=function(){return Qo=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},Qo.apply(this,arguments)},Gf="react-calendar",hh=["century","decade","year","month"],DV=["decade","year","month","day"],av=new Date;av.setFullYear(1,0,1);av.setHours(0,0,0,0);var NV=new Date(864e13);function Cu(t){return t instanceof Date?t:new Date(t)}function XA(t,e){return hh.slice(hh.indexOf(t),hh.indexOf(e)+1)}function xV(t,e,n){var i=XA(e,n);return i.indexOf(t)!==-1}function sv(t,e,n){return t&&xV(t,e,n)?t:n}function JA(t){var e=hh.indexOf(t);return DV[e]}function PV(t,e){var n=Array.isArray(t)?t[e]:t;if(!n)return null;var i=Cu(n);if(Number.isNaN(i.getTime()))throw new Error("Invalid date: ".concat(t));return i}function ZA(t,e){var n=t.value,i=t.minDate,s=t.maxDate,l=t.maxDetail,c=PV(n,e);if(!c)return null;var d=JA(l),m=function(){switch(e){case 0:return Ds(d,c);case 1:return GA(d,c);default:throw new Error("Invalid index value: ".concat(e))}}();return iV(m,i,s)}var ov=function(t){return ZA(t,0)},eR=function(t){return ZA(t,1)},MV=function(t){return[ov,eR].map(function(e){return e(t)})};function tR(t){var e=t.maxDate,n=t.maxDetail,i=t.minDate,s=t.minDetail,l=t.value,c=t.view,d=sv(c,s,n),m=ov({value:l,minDate:i,maxDate:e,maxDetail:n})||new Date;return Ds(d,m)}function kV(t){var e=t.activeStartDate,n=t.defaultActiveStartDate,i=t.defaultValue,s=t.defaultView,l=t.maxDate,c=t.maxDetail,d=t.minDate,m=t.minDetail,g=t.value,v=t.view,b=sv(v,m,c),T=e||n;return T?Ds(b,T):tR({maxDate:l,maxDetail:c,minDate:d,minDetail:m,value:g||i,view:v||s})}function $p(t){return t&&(!Array.isArray(t)||t.length===1)}function $f(t,e){return t instanceof Date&&e instanceof Date&&t.getTime()===e.getTime()}var VV=F.forwardRef(function(e,n){var i=e.activeStartDate,s=e.allowPartialRange,l=e.calendarType,c=e.className,d=e.defaultActiveStartDate,m=e.defaultValue,g=e.defaultView,v=e.formatDay,b=e.formatLongDate,T=e.formatMonth,R=e.formatMonthYear,O=e.formatShortWeekday,j=e.formatWeekday,L=e.formatYear,z=e.goToRangeStartOnSelect,te=z===void 0?!0:z,H=e.inputRef,K=e.locale,J=e.maxDate,ee=J===void 0?NV:J,D=e.maxDetail,A=D===void 0?"month":D,I=e.minDate,k=I===void 0?av:I,N=e.minDetail,x=N===void 0?"century":N,C=e.navigationAriaLabel,it=e.navigationAriaLive,He=e.navigationLabel,X=e.next2AriaLabel,ce=e.next2Label,de=e.nextAriaLabel,De=e.nextLabel,V=e.onActiveStartDateChange,re=e.onChange,ue=e.onClickDay,oe=e.onClickDecade,me=e.onClickMonth,Ie=e.onClickWeekNumber,ve=e.onClickYear,ft=e.onDrillDown,qe=e.onDrillUp,kt=e.onViewChange,Hn=e.prev2AriaLabel,Dn=e.prev2Label,qn=e.prevAriaLabel,fr=e.prevLabel,at=e.returnValue,hr=at===void 0?"start":at,Qt=e.selectRange,Xt=e.showDoubleView,Qs=e.showFixedNumberOfWeeks,Ki=e.showNavigation,Wi=Ki===void 0?!0:Ki,si=e.showNeighboringCentury,vl=e.showNeighboringDecade,oi=e.showNeighboringMonth,$a=oi===void 0?!0:oi,Xs=e.showWeekNumbers,ht=e.tileClassName,Ye=e.tileContent,En=e.tileDisabled,Rt=e.value,Ya=e.view,Js=F.useState(d),li=Js[0],Gn=Js[1],Cr=F.useState(null),Nn=Cr[0],ui=Cr[1],Or=F.useState(Array.isArray(m)?m.map(function(Se){return Se!==null?Cu(Se):null}):m!=null?Cu(m):null),ci=Or[0],Ka=Or[1],Qi=F.useState(g),dr=Qi[0],$n=Qi[1],It=i||li||kV({activeStartDate:i,defaultActiveStartDate:d,defaultValue:m,defaultView:g,maxDate:ee,maxDetail:A,minDate:k,minDetail:x,value:Rt,view:Ya}),ut=function(){var Se=function(){return Qt&&$p(ci)?ci:Rt!==void 0?Rt:ci}();return Se?Array.isArray(Se)?Se.map(function(Pe){return Pe!==null?Cu(Pe):null}):Se!==null?Cu(Se):null:null}(),Dr=JA(A),Ge=sv(Ya||dr,x,A),Jt=XA(x,A),Nr=Qt?Nn:null,Xi=Jt.indexOf(Ge)<Jt.length-1,st=Jt.indexOf(Ge)>0,Et=F.useCallback(function(Se){var Pe=function(){switch(hr){case"start":return ov;case"end":return eR;case"range":return MV;default:throw new Error("Invalid returnValue.")}}();return Pe({maxDate:ee,maxDetail:A,minDate:k,value:Se})},[ee,A,k,hr]),dt=F.useCallback(function(Se,Pe){Gn(Se);var Ce={action:Pe,activeStartDate:Se,value:ut,view:Ge};V&&!$f(It,Se)&&V(Ce)},[It,V,ut,Ge]),Zt=F.useCallback(function(Se,Pe){var Ce=function(){switch(Ge){case"century":return oe;case"decade":return ve;case"year":return me;case"month":return ue;default:throw new Error("Invalid view: ".concat(Ge,"."))}}();Ce&&Ce(Se,Pe)},[ue,oe,me,ve,Ge]),fi=F.useCallback(function(Se,Pe){if(Xi){Zt(Se,Pe);var Ce=Jt[Jt.indexOf(Ge)+1];if(!Ce)throw new Error("Attempted to drill down from the lowest view.");Gn(Se),$n(Ce);var en={action:"drillDown",activeStartDate:Se,value:ut,view:Ce};V&&!$f(It,Se)&&V(en),kt&&Ge!==Ce&&kt(en),ft&&ft(en)}},[It,Xi,V,Zt,ft,kt,ut,Ge,Jt]),Wa=F.useCallback(function(){if(st){var Se=Jt[Jt.indexOf(Ge)-1];if(!Se)throw new Error("Attempted to drill up from the highest view.");var Pe=Ds(Se,It);Gn(Pe),$n(Se);var Ce={action:"drillUp",activeStartDate:Pe,value:ut,view:Se};V&&!$f(It,Pe)&&V(Ce),kt&&Ge!==Se&&kt(Ce),qe&&qe(Ce)}},[It,st,V,qe,kt,ut,Ge,Jt]),Yn=F.useCallback(function(Se,Pe){var Ce=ut;Zt(Se,Pe);var en=Qt&&!$p(Ce),Ft;if(Qt)if(en)Ft=Ds(Dr,Se);else{if(!Ce)throw new Error("previousValue is required");if(Array.isArray(Ce))throw new Error("previousValue must not be an array");Ft=Zk(Dr,Ce,Se)}else Ft=Et(Se);var bn=!Qt||en||te?tR({maxDate:ee,maxDetail:A,minDate:k,minDetail:x,value:Ft,view:Ge}):null;Pe.persist(),Gn(bn),Ka(Ft);var yr={action:"onChange",activeStartDate:bn,value:Ft,view:Ge};if(V&&!$f(It,bn)&&V(yr),re)if(Qt){var eo=$p(Ft);if(!eo)re(Ft||null,Pe);else if(s){if(Array.isArray(Ft))throw new Error("value must not be an array");re([Ft||null,null],Pe)}}else re(Ft||null,Pe)},[It,s,Et,te,ee,A,k,x,V,re,Zt,Qt,ut,Dr,Ge]);function Zs(Se){ui(Se)}function mr(){ui(null)}F.useImperativeHandle(n,function(){return{activeStartDate:It,drillDown:fi,drillUp:Wa,onChange:Yn,setActiveStartDate:dt,value:ut,view:Ge}},[It,fi,Wa,Yn,dt,ut,Ge]);function pr(Se){var Pe=Se?qA(Ge,It):Ds(Ge,It),Ce=Xi?fi:Yn,en={activeStartDate:Pe,hover:Nr,locale:K,maxDate:ee,minDate:k,onClick:Ce,onMouseOver:Qt?Zs:void 0,tileClassName:ht,tileContent:Ye,tileDisabled:En,value:ut,valueType:Dr};switch(Ge){case"century":return M.jsx(fV,Qo({formatYear:L,showNeighboringCentury:si},en));case"decade":return M.jsx(pV,Qo({formatYear:L,showNeighboringDecade:vl},en));case"year":return M.jsx(EV,Qo({formatMonth:T,formatMonthYear:R},en));case"month":return M.jsx(OV,Qo({calendarType:l,formatDay:v,formatLongDate:b,formatShortWeekday:O,formatWeekday:j,onClickWeekNumber:Ie,onMouseLeave:Qt?mr:void 0,showFixedNumberOfWeeks:typeof Qs<"u"?Qs:Xt,showNeighboringMonth:$a,showWeekNumbers:Xs},en));default:throw new Error("Invalid view: ".concat(Ge,"."))}}function gr(){return Wi?M.jsx(nV,{activeStartDate:It,drillUp:Wa,formatMonthYear:R,formatYear:L,locale:K,maxDate:ee,minDate:k,navigationAriaLabel:C,navigationAriaLive:it,navigationLabel:He,next2AriaLabel:X,next2Label:ce,nextAriaLabel:de,nextLabel:De,prev2AriaLabel:Hn,prev2Label:Dn,prevAriaLabel:qn,prevLabel:fr,setActiveStartDate:dt,showDoubleView:Xt,view:Ge,views:Jt}):null}var Kn=Array.isArray(ut)?ut:[ut];return M.jsxs("div",{className:fd(Gf,Qt&&Kn.length===1&&"".concat(Gf,"--selectRange"),Xt&&"".concat(Gf,"--doubleView"),c),ref:H,children:[gr(),M.jsxs("div",{className:"".concat(Gf,"__viewContainer"),onBlur:Qt?mr:void 0,onMouseLeave:Qt?mr:void 0,children:[pr(),Xt?pr(!0):null]})]})});const LV="_container_xel71_1",UV="_label_xel71_17",jV="_select_xel71_23",zV="_pageTitle_xel71_51",BV="_sectionTitle_xel71_62",FV="_calendarSection_xel71_203",HV="_medicationSection_xel71_207",qV="_calendar_xel71_203",GV="_scheduledDay_xel71_222",$V="_configSection_xel71_229",YV="_daysOfWeek_xel71_236",KV="_dayToggle_xel71_242",WV="_buttonRow_xel71_248",QV="_applyButton_xel71_253",XV="_resetButton_xel71_263",JV="_emptyState_xel71_273",ZV="_startOptions_xel71_278",xt={container:LV,label:UV,select:jV,pageTitle:zV,sectionTitle:BV,calendarSection:FV,medicationSection:HV,calendar:qV,scheduledDay:GV,configSection:$V,daysOfWeek:YV,dayToggle:KV,buttonRow:WV,applyButton:QV,resetButton:XV,emptyState:JV,startOptions:ZV};function eL({name:t,editing:e,isMobile:n,onFreqChange:i,onToggleDayOfWeek:s,onSetStartOption:l,onApply:c,onReset:d,tileClassName:m}){return M.jsxs("section",{className:`${xt.calendarSection} ${xt.medicationSection}`,children:[M.jsx("h2",{className:xt.sectionTitle,children:t}),M.jsxs("div",{className:xt.configSection,children:[M.jsxs("label",{htmlFor:`freq-${t}`,className:xt.label,children:["Frequency",M.jsxs("select",{id:`freq-${t}`,className:xt.select,value:e.frequency,onChange:g=>i(g.target.value),children:[M.jsx("option",{value:"daily",children:"Every day"}),M.jsx("option",{value:"everyOther",children:"Every other day"}),M.jsx("option",{value:"specific",children:"Specific days of the week"})]})]}),e.frequency==="everyOther"&&M.jsxs("div",{className:xt.startOptions,children:[M.jsxs("label",{htmlFor:`start-${t}-today`,children:[M.jsx("input",{id:`start-${t}-today`,type:"radio",name:`start-${t}`,checked:(()=>{const g=new Date;g.setHours(0,0,0,0);const v=e.anchor?new Date(e.anchor):g;return v.setHours(0,0,0,0),v.getTime()===g.getTime()})(),onChange:()=>l(0)}),"Start today"]}),M.jsxs("label",{htmlFor:`start-${t}-tomorrow`,children:[M.jsx("input",{id:`start-${t}-tomorrow`,type:"radio",name:`start-${t}`,checked:(()=>{const g=new Date;g.setHours(0,0,0,0);const v=new Date(g);v.setDate(v.getDate()+1);const b=e.anchor?new Date(e.anchor):g;return b.setHours(0,0,0,0),b.getTime()===v.getTime()})(),onChange:()=>l(1)}),"Start tomorrow"]})]}),e.frequency==="specific"&&M.jsx("div",{className:xt.daysOfWeek,children:[0,1,2,3,4,5,6].map(g=>M.jsxs("div",{className:xt.dayToggle,children:[M.jsx("input",{id:`day-${t}-${g}`,type:"checkbox",checked:e.daysOfWeek?.includes(g)||!1,onChange:()=>s(g)}),M.jsx("label",{htmlFor:`day-${t}-${g}`,children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][g]})]},g))}),M.jsxs("div",{className:xt.buttonRow,children:[M.jsx("button",{type:"button",className:xt.applyButton,onClick:c,children:"Apply"}),M.jsx("button",{type:"button",className:xt.resetButton,onClick:d,children:"Reset"})]})]}),M.jsx(VV,{showDoubleView:!n,prev2Label:null,next2Label:null,tileClassName:m,className:xt.calendar})]})}function tL(){const[t,e]=F.useState([]),[n,i]=F.useState({}),[s,l]=F.useState({}),c=ak(),[d,m]=F.useState(""),{uid:g}=pl(),[v,b]=F.useState(!0);F.useEffect(()=>{try{const H=localStorage.getItem(Pt(g,"configSettings")),K=H?JSON.parse(H):{},ee=(Array.isArray(K.injectables)?K.injectables:JSON.parse(localStorage.getItem(Pt(g,"injectables"))||"[]")).filter(k=>k.name&&!k.disabled);e(ee);const D=localStorage.getItem(Pt(g,"injectionSchedule")),A=D?JSON.parse(D):{};i(A);const I={};ee.forEach(k=>{I[k.name]=A[k.name]||{frequency:"daily",daysOfWeek:[],anchor:void 0}}),l(I),ee.length>0&&m(k=>k&&ee.some(N=>N.name===k)?k:ee[0].name)}catch{e([]),i({}),l({})}},[g]),F.useEffect(()=>{(async()=>{if(!g||t.length===0){b(!1);return}try{const K={};await Promise.all(t.map(async J=>{const ee=await CA(g,J.name);ee&&(K[J.name]=ee)})),i(J=>({...J,...K})),l(J=>{const ee={...J};return t.forEach(D=>{ee[D.name]=K[D.name]||ee[D.name]}),ee})}catch(K){console.error("Failed to load schedules",K)}finally{b(!1)}})()},[g,t]);const T=(H,K)=>{l(J=>{const ee=new Date,D=K==="everyOther"?J[H].anchor||ee.toISOString():void 0;return{...J,[H]:{...J[H],frequency:K,anchor:D}}})},R=(H,K)=>{l(J=>{const ee=J[H].daysOfWeek||[],D=ee.includes(K)?ee.filter(A=>A!==K):[...ee,K];return{...J,[H]:{...J[H],daysOfWeek:D}}})},O=(H,K)=>{const J=new Date;J.setDate(J.getDate()+K),l(ee=>({...ee,[H]:{...ee[H],anchor:J.toISOString()}}))},j=H=>{i(K=>{const J={...K,[H]:s[H]};return localStorage.setItem(Pt(g,"injectionSchedule"),JSON.stringify(J)),J}),g&&Cg(g,H,s[H]).catch(K=>{console.error("Failed to save schedule",K)})},L=H=>{i(K=>{const J={...K};return delete J[H],localStorage.setItem(Pt(g,"injectionSchedule"),JSON.stringify(J)),J}),l(K=>({...K,[H]:{frequency:"daily",daysOfWeek:[],anchor:void 0}})),g&&Cg(g,H,{frequency:"daily",daysOfWeek:[],anchor:void 0}).catch(K=>{console.error("Failed to reset schedule",K)})},z=H=>({date:K,view:J})=>{if(J!=="month")return;const ee=n[H];if(ee){if(ee.frequency==="daily")return xt.scheduledDay;if(ee.frequency==="everyOther"&&ee.anchor)return Math.round((K.getTime()-new Date(ee.anchor).getTime())/864e5)%2===0?xt.scheduledDay:void 0;if(ee.frequency==="specific"&&ee.daysOfWeek?.length)return ee.daysOfWeek.includes(K.getDay())?xt.scheduledDay:void 0}},te=()=>v?M.jsx("p",{className:xt.emptyState,children:"Loading schedules..."}):t.length===0?M.jsx("p",{className:xt.emptyState,children:"No enabled injectable medications found."}):M.jsxs(M.Fragment,{children:[M.jsx("div",{role:"tablist",className:"mb-4 flex space-x-4 font-bold text-lg",children:t.map(H=>M.jsx("button",{type:"button",role:"tab","aria-selected":d===H.name,className:`focus:outline-none ${d===H.name?"border-b-2 border-blue-600":"text-gray-500"}`,onClick:()=>m(H.name),children:H.name},H.name))}),t.map(H=>d===H.name?M.jsx(eL,{name:H.name,editing:s[H.name],isMobile:c,onFreqChange:K=>T(H.name,K),onToggleDayOfWeek:K=>R(H.name,K),onSetStartOption:K=>O(H.name,K),onApply:()=>j(H.name),onReset:()=>L(H.name),tileClassName:z(H.name)},H.name):null)]});return M.jsxs("div",{className:xt.container,children:[M.jsx("h1",{className:xt.pageTitle,children:"Injection Schedule"}),te()]})}const nL="_container_1etka_1",rL="_input_1etka_22",iL="_pageTitle_1etka_51",aL="_saveButton_1etka_69",sL="_addButton_1etka_82",oL="_savedMessage_1etka_104",lL="_injectableRow_1etka_111",uL="_rowIndex_1etka_118",cL="_injectableInput_1etka_126",fL="_injectableActions_1etka_130",hL="_disabledInput_1etka_136",dL="_iconButton_1etka_155",on={container:nL,input:rL,pageTitle:iL,saveButton:aL,addButton:sL,savedMessage:oL,injectableRow:lL,rowIndex:uL,injectableInput:cL,injectableActions:fL,disabledInput:hL,iconButton:dL};function mL(){const[t,e]=F.useState([]),[n,i]=F.useState(!1),{uid:s}=pl(),[l,c]=F.useState(!0);F.useEffect(()=>{(async()=>{const O=localStorage.getItem(Pt(s,"oralSchedule"));if(O)try{const j=JSON.parse(O);Array.isArray(j)&&e(j.map(L=>({medication:L.medication??"",date:L.date??"",disabled:L.disabled??!1})))}catch(j){console.error("Failed to parse schedule",j)}if(s)try{const j=await CA(s,"oralSchedule");j&&Array.isArray(j.entries)&&e(j.entries)}catch(j){console.error("Failed to load oral schedule",j)}c(!1)})()},[s]);const d=(R,O)=>{const j=[...t];j[R].medication=O,e(j)},m=(R,O)=>{const j=[...t];j[R].date=O,e(j)},g=()=>{e([...t,{medication:"",date:"",disabled:!1}])},v=R=>{const O=[...t];O[R].disabled=!O[R].disabled,e(O)},b=R=>{window.confirm("Are you sure you want to delete this entry?")&&e(O=>{const j=[...O];return j.splice(R,1),j})},T=async R=>{if(R.preventDefault(),localStorage.setItem(Pt(s,"oralSchedule"),JSON.stringify(t)),s)try{await Cg(s,"oralSchedule",{entries:t})}catch(O){console.error("Failed to save oral schedule",O)}i(!0),setTimeout(()=>i(!1),2e3)};return M.jsxs(M.Fragment,{children:[M.jsx("h1",{className:on.pageTitle,children:"Oral Schedule"}),l?M.jsx("p",{className:on.savedMessage,children:"Loading schedule..."}):M.jsxs("form",{className:on.container,onSubmit:T,children:[t.map((R,O)=>M.jsxs("div",{className:on.injectableRow,children:[M.jsx("span",{className:on.rowIndex,children:`${O+1}.`}),M.jsx("input",{type:"text",placeholder:"Medication",className:`${on.input} ${on.injectableInput} ${R.disabled?on.disabledInput:""}`,value:R.medication,disabled:R.disabled,onChange:j=>d(O,j.target.value)}),M.jsx("input",{type:"date",className:`${on.input} ${on.injectableInput} ${R.disabled?on.disabledInput:""}`,value:R.date,disabled:R.disabled,onChange:j=>m(O,j.target.value)}),M.jsxs("div",{className:on.injectableActions,children:[M.jsx("button",{type:"button",className:on.iconButton,onClick:()=>v(O),"aria-label":R.disabled?"Enable entry":"Disable entry",children:M.jsx(tg,{size:20})}),M.jsx("button",{type:"button",className:on.iconButton,onClick:()=>b(O),"aria-label":"Delete entry",children:M.jsx(eg,{size:20})})]})]},O)),M.jsx("button",{type:"button",className:on.addButton,onClick:g,children:"Add another"}),M.jsx("button",{type:"submit",className:on.saveButton,children:"Save"}),n&&M.jsx("div",{className:on.savedMessage,children:"Schedule saved!"})]})]})}function pL(){return M.jsx("h2",{children:"Travel Plans"})}const gL="_container_1etka_1",yL="_formGroup_1etka_10",vL="_label_1etka_17",_L="_input_1etka_22",EL="_pageTitle_1etka_51",bL="_sectionTitle_1etka_62",TL="_saveButton_1etka_69",wL="_addButton_1etka_82",SL="_savedMessage_1etka_104",AL="_injectableRow_1etka_111",RL="_rowIndex_1etka_118",IL="_injectableInput_1etka_126",CL="_injectableActions_1etka_130",OL="_disabledInput_1etka_136",DL="_iconButton_1etka_155",NL="_dragHandle_1etka_175",xL="_deleteSection_1etka_181",PL="_deleteButton_1etka_187",We={container:gL,formGroup:yL,label:vL,input:_L,pageTitle:EL,sectionTitle:bL,saveButton:TL,addButton:wL,savedMessage:SL,injectableRow:AL,rowIndex:RL,injectableInput:IL,injectableActions:CL,disabledInput:OL,iconButton:DL,dragHandle:NL,deleteSection:xL,deleteButton:PL};function ML(){const{uid:t}=pl(),[e,n]=F.useState(""),[i,s]=F.useState([]),[l,c]=F.useState([]),[d,m]=F.useState(null),[g,v]=F.useState(null),[b,T]=F.useState(!1),R=()=>{s([...i,{name:"",disabled:!1}])},O=()=>{c([...l,{name:"",disabled:!1}])},j=(N,x)=>{const C=[...i];C[N].name=x,s(C)},L=(N,x)=>{const C=[...l];C[N].name=x,c(C)},z=N=>{const x=[...i];x[N].disabled=!x[N].disabled,s(x)},te=N=>{const x=[...l];x[N].disabled=!x[N].disabled,c(x)},H=N=>{window.confirm("Are you sure you want to delete this entry?")&&s(x=>{const C=[...x];return C.splice(N,1),C})},K=N=>{window.confirm("Are you sure you want to delete this entry?")&&c(x=>{const C=[...x];return C.splice(N,1),C})},J=N=>{m(N)},ee=N=>{if(d===null||d===N)return;const x=[...i],[C]=x.splice(d,1);x.splice(N,0,C),s(x),m(null)},D=N=>{v(N)},A=N=>{if(g===null||g===N)return;const x=[...l],[C]=x.splice(g,1);x.splice(N,0,C),c(x),v(null)};F.useEffect(()=>{const N=localStorage.getItem(Pt(t,"configSettings"));if(N)try{const x=JSON.parse(N);n(x.name??"");const C=Array.isArray(x.injectables)?x.injectables:JSON.parse(localStorage.getItem(Pt(t,"injectables"))||"[]"),it=Array.isArray(x.orals)?x.orals:JSON.parse(localStorage.getItem(Pt(t,"orals"))||"[]");s(Array.isArray(C)?C.map(He=>({name:He.name??"",disabled:He.disabled??!1})):[]),c(Array.isArray(it)?it.map(He=>({name:He.name??"",disabled:He.disabled??!1})):[])}catch(x){console.error("Failed to parse settings",x)}},[t]);const I=N=>{N.preventDefault();const x={name:e,injectables:i,orals:l};localStorage.setItem(Pt(t,"configSettings"),JSON.stringify(x)),T(!0),setTimeout(()=>T(!1),2e3)},k=()=>{window.confirm("This will permanently delete all saved configuration and injectable data. Are you sure you want to continue?")&&(localStorage.removeItem(Pt(t,"configSettings")),localStorage.removeItem(Pt(t,"injectables")),localStorage.removeItem(Pt(t,"orals")),localStorage.removeItem("persist:root"),n(""),s([]),c([]),window.alert("All data deleted."))};return M.jsxs(M.Fragment,{children:[M.jsx("h1",{className:We.pageTitle,children:"General Configuration"}),M.jsxs("form",{className:We.container,onSubmit:I,children:[M.jsx("div",{className:We.formGroup,children:M.jsxs("label",{htmlFor:"name",className:We.label,children:["Name",M.jsx("input",{id:"name",type:"text",placeholder:"Enter your name",className:We.input,value:e,onChange:N=>n(N.target.value)})]})}),M.jsx("h2",{className:We.sectionTitle,children:"Injectable Medication"}),i.map((N,x)=>M.jsxs("div",{className:We.injectableRow,draggable:i.length>1,onDragStart:()=>J(x),onDragOver:C=>C.preventDefault(),onDrop:()=>ee(x),children:[i.length>1&&M.jsx("span",{className:We.dragHandle,children:""}),M.jsx("span",{className:We.rowIndex,children:`${x+1}.`}),M.jsx("input",{id:`inj-${x}`,type:"text",className:`${We.input} ${We.injectableInput} ${N.disabled?We.disabledInput:""}`,value:N.name,disabled:N.disabled,onChange:C=>j(x,C.target.value)}),M.jsxs("div",{className:We.injectableActions,children:[M.jsx("button",{type:"button",className:We.iconButton,onClick:()=>z(x),"aria-label":N.disabled?"Enable injectable":"Disable injectable",children:M.jsx(tg,{size:20})}),M.jsx("button",{type:"button",className:We.iconButton,onClick:()=>H(x),"aria-label":"Delete injectable",children:M.jsx(eg,{size:20})})]})]},x)),M.jsx("button",{type:"button",className:We.addButton,onClick:R,children:"Add another"}),M.jsx("h2",{className:We.sectionTitle,children:"Oral Medication"}),l.map((N,x)=>M.jsxs("div",{className:We.injectableRow,draggable:l.length>1,onDragStart:()=>D(x),onDragOver:C=>C.preventDefault(),onDrop:()=>A(x),children:[l.length>1&&M.jsx("span",{className:We.dragHandle,children:""}),M.jsx("span",{className:We.rowIndex,children:`${x+1}.`}),M.jsx("input",{id:`oral-${x}`,type:"text",className:`${We.input} ${We.injectableInput} ${N.disabled?We.disabledInput:""}`,value:N.name,disabled:N.disabled,onChange:C=>L(x,C.target.value)}),M.jsxs("div",{className:We.injectableActions,children:[M.jsx("button",{type:"button",className:We.iconButton,onClick:()=>te(x),"aria-label":N.disabled?"Enable oral":"Disable oral",children:M.jsx(tg,{size:20})}),M.jsx("button",{type:"button",className:We.iconButton,onClick:()=>K(x),"aria-label":"Delete oral",children:M.jsx(eg,{size:20})})]})]},x)),M.jsx("button",{type:"button",className:We.addButton,onClick:O,children:"Add another"}),M.jsx("button",{type:"submit",className:We.saveButton,children:"Save"}),b&&M.jsx("div",{className:We.savedMessage,children:"Settings saved!"}),M.jsx("div",{className:We.deleteSection,children:M.jsxs("button",{type:"button",className:We.deleteButton,onClick:k,children:[M.jsx(zC,{size:20,style:{marginRight:"0.5rem"}}),"Delete All"]})})]})]})}async function kL(t,e){if(t==="admin"&&e==="password")localStorage.setItem("access_token","mock_token");else throw new Error("Invalid credentials")}function $1(){const t=Xg(),[e,n]=F.useState(""),[i,s]=F.useState(""),l=async c=>{c.preventDefault();try{await kL(e,i),t("/dashboard")}catch{alert("Invalid credentials")}};return M.jsxs("div",{className:"flex min-h-full flex-col justify-center py-12 sm:px-6 lg:px-8 bg-gray-50",children:[M.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[M.jsx("img",{className:"mx-auto h-12 w-auto",src:DT,alt:"MediTrack"}),M.jsx("h2",{className:"mt-6 text-center text-3xl font-bold tracking-tight text-gray-900",children:"Sign in to your account"})]}),M.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:M.jsxs("div",{className:"bg-white py-8 px-6 shadow rounded-lg sm:px-10",children:[M.jsxs("form",{className:"space-y-6",onSubmit:l,children:[M.jsxs("div",{children:[M.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),M.jsx("div",{className:"mt-1",children:M.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:e,onChange:c=>n(c.target.value),className:`appearance-none block w-full px-3 py-2 border border-gray-300 
                             rounded-md shadow-sm placeholder-gray-400 focus:outline-none 
                             focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm`})})]}),M.jsxs("div",{children:[M.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),M.jsx("div",{className:"mt-1",children:M.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:i,onChange:c=>s(c.target.value),className:`appearance-none block w-full px-3 py-2 border border-gray-300 
                             rounded-md shadow-sm placeholder-gray-400 focus:outline-none 
                             focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm`})})]}),M.jsxs("div",{className:"flex items-center justify-between",children:[M.jsxs("div",{className:"flex items-center",children:[M.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),M.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-900",children:"Remember me"})]}),M.jsx("div",{className:"text-sm",children:M.jsx("a",{href:"#",className:"font-medium text-indigo-600 hover:text-indigo-500",children:"Forgot your password?"})})]}),M.jsx("div",{children:M.jsx("button",{type:"submit",className:`w-full flex justify-center py-2 px-4 border border-transparent 
                           rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 
                           hover:bg-indigo-700 focus:outline-none focus:ring-2 
                           focus:ring-offset-2 focus:ring-indigo-500`,children:"Sign in"})})]}),M.jsxs("p",{className:"mt-6 text-center text-sm text-gray-600",children:["Dont have an account?"," ",M.jsx("a",{href:"#",className:"font-medium text-indigo-600 hover:text-indigo-500",children:"Register here"})]})]})})]})}function Y1(){const t=Xg(),[e,n]=F.useState(""),[i,s]=F.useState(""),[l,c]=F.useState(""),[d,m]=F.useState(!1),g=async v=>{v.preventDefault(),c(""),m(!0);try{await LM(e,i),t("/")}catch(b){b instanceof Error?c(b.message):c(String(b))}finally{m(!1)}};return M.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-100 p-4",children:M.jsxs("form",{onSubmit:g,className:"w-full max-w-[400px] space-y-4 rounded-lg bg-white p-6 shadow",children:[M.jsx("h1",{className:"text-center text-2xl font-semibold",children:"Sign Up"}),M.jsx("input",{type:"email",className:"w-full rounded border p-2",placeholder:"Email",value:e,onChange:v=>n(v.target.value),required:!0}),M.jsx("input",{type:"password",className:"w-full rounded border p-2",placeholder:"Password",value:i,onChange:v=>s(v.target.value),required:!0}),l&&M.jsx("div",{className:"text-sm text-red-600",children:l}),M.jsx("button",{type:"submit",disabled:d,className:"w-full rounded bg-teal-600 p-2 text-white disabled:opacity-60",children:d?"Creating account...":"Sign Up"}),M.jsx("p",{className:"text-center text-sm",children:M.jsx(ny,{to:"/login",className:"text-blue-600 underline",children:"Already have an account? Login"})})]})})}function VL(){const{user:t,loading:e}=pl();return e?M.jsx("div",{className:"p-4",children:"Loading..."}):t?M.jsx(KE,{children:M.jsxs("div",{style:{display:"flex"},children:[M.jsx(JM,{}),M.jsx("main",{style:{padding:"2rem",flexGrow:1},children:M.jsxs($E,{children:[M.jsx($r,{path:"/",element:M.jsx(ik,{})}),M.jsx($r,{path:"/schedule",element:M.jsx(tL,{})}),M.jsx($r,{path:"/oral",element:M.jsx(mL,{})}),M.jsx($r,{path:"/travel",element:M.jsx(pL,{})}),M.jsx($r,{path:"/config",element:M.jsx(ML,{})}),M.jsx($r,{path:"/signup",element:M.jsx(Y1,{})}),M.jsx($r,{path:"/login",element:M.jsx($1,{})})]})})]})}):M.jsx(KE,{children:M.jsxs($E,{children:[M.jsx($r,{path:"/signup",element:M.jsx(Y1,{})}),M.jsx($r,{path:"*",element:M.jsx($1,{})})]})})}function ln(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var LL=typeof Symbol=="function"&&Symbol.observable||"@@observable",K1=LL,Yp=()=>Math.random().toString(36).substring(7).split("").join("."),UL={INIT:`@@redux/INIT${Yp()}`,REPLACE:`@@redux/REPLACE${Yp()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Yp()}`},Lh=UL;function lv(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function uv(t,e,n){if(typeof t!="function")throw new Error(ln(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(ln(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(ln(1));return n(uv)(t,e)}let i=t,s=e,l=new Map,c=l,d=0,m=!1;function g(){c===l&&(c=new Map,l.forEach((L,z)=>{c.set(z,L)}))}function v(){if(m)throw new Error(ln(3));return s}function b(L){if(typeof L!="function")throw new Error(ln(4));if(m)throw new Error(ln(5));let z=!0;g();const te=d++;return c.set(te,L),function(){if(z){if(m)throw new Error(ln(6));z=!1,g(),c.delete(te),l=null}}}function T(L){if(!lv(L))throw new Error(ln(7));if(typeof L.type>"u")throw new Error(ln(8));if(typeof L.type!="string")throw new Error(ln(17));if(m)throw new Error(ln(9));try{m=!0,s=i(s,L)}finally{m=!1}return(l=c).forEach(te=>{te()}),L}function R(L){if(typeof L!="function")throw new Error(ln(10));i=L,T({type:Lh.REPLACE})}function O(){const L=b;return{subscribe(z){if(typeof z!="object"||z===null)throw new Error(ln(11));function te(){const K=z;K.next&&K.next(v())}return te(),{unsubscribe:L(te)}},[K1](){return this}}}return T({type:Lh.INIT}),{dispatch:T,subscribe:b,getState:v,replaceReducer:R,[K1]:O}}function jL(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:Lh.INIT})>"u")throw new Error(ln(12));if(typeof n(void 0,{type:Lh.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ln(13))})}function zL(t){const e=Object.keys(t),n={};for(let l=0;l<e.length;l++){const c=e[l];typeof t[c]=="function"&&(n[c]=t[c])}const i=Object.keys(n);let s;try{jL(n)}catch(l){s=l}return function(c={},d){if(s)throw s;let m=!1;const g={};for(let v=0;v<i.length;v++){const b=i[v],T=n[b],R=c[b],O=T(R,d);if(typeof O>"u")throw d&&d.type,new Error(ln(14));g[b]=O,m=m||O!==R}return m=m||i.length!==Object.keys(c).length,m?g:c}}function Uh(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...i)=>e(n(...i)))}function BL(...t){return e=>(n,i)=>{const s=e(n,i);let l=()=>{throw new Error(ln(15))};const c={getState:s.getState,dispatch:(m,...g)=>l(m,...g)},d=t.map(m=>m(c));return l=Uh(...d)(s.dispatch),{...s,dispatch:l}}}function FL(t){return lv(t)&&"type"in t&&typeof t.type=="string"}var nR=Symbol.for("immer-nothing"),W1=Symbol.for("immer-draftable"),Bn=Symbol.for("immer-state");function Tr(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var sl=Object.getPrototypeOf;function Ls(t){return!!t&&!!t[Bn]}function Gi(t){return t?rR(t)||Array.isArray(t)||!!t[W1]||!!t.constructor?.[W1]||_d(t)||Ed(t):!1}var HL=Object.prototype.constructor.toString();function rR(t){if(!t||typeof t!="object")return!1;const e=sl(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===HL}function jh(t,e){vd(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,i)=>e(i,n,t))}function vd(t){const e=t[Bn];return e?e.type_:Array.isArray(t)?1:_d(t)?2:Ed(t)?3:0}function Hg(t,e){return vd(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function iR(t,e,n){const i=vd(t);i===2?t.set(e,n):i===3?t.add(n):t[e]=n}function qL(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function _d(t){return t instanceof Map}function Ed(t){return t instanceof Set}function As(t){return t.copy_||t.base_}function qg(t,e){if(_d(t))return new Map(t);if(Ed(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=rR(t);if(e===!0||e==="class_only"&&!n){const i=Object.getOwnPropertyDescriptors(t);delete i[Bn];let s=Reflect.ownKeys(i);for(let l=0;l<s.length;l++){const c=s[l],d=i[c];d.writable===!1&&(d.writable=!0,d.configurable=!0),(d.get||d.set)&&(i[c]={configurable:!0,writable:!0,enumerable:d.enumerable,value:t[c]})}return Object.create(sl(t),i)}else{const i=sl(t);if(i!==null&&n)return{...t};const s=Object.create(i);return Object.assign(s,t)}}function cv(t,e=!1){return bd(t)||Ls(t)||!Gi(t)||(vd(t)>1&&(t.set=t.add=t.clear=t.delete=GL),Object.freeze(t),e&&Object.entries(t).forEach(([n,i])=>cv(i,!0))),t}function GL(){Tr(2)}function bd(t){return Object.isFrozen(t)}var $L={};function Us(t){const e=$L[t];return e||Tr(0,t),e}var Zu;function aR(){return Zu}function YL(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Q1(t,e){e&&(Us("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function Gg(t){$g(t),t.drafts_.forEach(KL),t.drafts_=null}function $g(t){t===Zu&&(Zu=t.parent_)}function X1(t){return Zu=YL(Zu,t)}function KL(t){const e=t[Bn];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function J1(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Bn].modified_&&(Gg(e),Tr(4)),Gi(t)&&(t=zh(e,t),e.parent_||Bh(e,t)),e.patches_&&Us("Patches").generateReplacementPatches_(n[Bn].base_,t,e.patches_,e.inversePatches_)):t=zh(e,n,[]),Gg(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==nR?t:void 0}function zh(t,e,n){if(bd(e))return e;const i=e[Bn];if(!i)return jh(e,(s,l)=>Z1(t,i,e,s,l,n)),e;if(i.scope_!==t)return e;if(!i.modified_)return Bh(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const s=i.copy_;let l=s,c=!1;i.type_===3&&(l=new Set(s),s.clear(),c=!0),jh(l,(d,m)=>Z1(t,i,s,d,m,n,c)),Bh(t,s,!1),n&&t.patches_&&Us("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function Z1(t,e,n,i,s,l,c){if(Ls(s)){const d=l&&e&&e.type_!==3&&!Hg(e.assigned_,i)?l.concat(i):void 0,m=zh(t,s,d);if(iR(n,i,m),Ls(m))t.canAutoFreeze_=!1;else return}else c&&n.add(s);if(Gi(s)&&!bd(s)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;zh(t,s),(!e||!e.scope_.parent_)&&typeof i!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,i)&&Bh(t,s)}}function Bh(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&cv(e,n)}function WL(t,e){const n=Array.isArray(t),i={type_:n?1:0,scope_:e?e.scope_:aR(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=i,l=fv;n&&(s=[i],l=ec);const{revoke:c,proxy:d}=Proxy.revocable(s,l);return i.draft_=d,i.revoke_=c,d}var fv={get(t,e){if(e===Bn)return t;const n=As(t);if(!Hg(n,e))return QL(t,n,e);const i=n[e];return t.finalized_||!Gi(i)?i:i===Kp(t.base_,e)?(Wp(t),t.copy_[e]=Kg(i,t)):i},has(t,e){return e in As(t)},ownKeys(t){return Reflect.ownKeys(As(t))},set(t,e,n){const i=sR(As(t),e);if(i?.set)return i.set.call(t.draft_,n),!0;if(!t.modified_){const s=Kp(As(t),e),l=s?.[Bn];if(l&&l.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(qL(n,s)&&(n!==void 0||Hg(t.base_,e)))return!0;Wp(t),Yg(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return Kp(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,Wp(t),Yg(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=As(t),i=Reflect.getOwnPropertyDescriptor(n,e);return i&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:i.enumerable,value:n[e]}},defineProperty(){Tr(11)},getPrototypeOf(t){return sl(t.base_)},setPrototypeOf(){Tr(12)}},ec={};jh(fv,(t,e)=>{ec[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});ec.deleteProperty=function(t,e){return ec.set.call(this,t,e,void 0)};ec.set=function(t,e,n){return fv.set.call(this,t[0],e,n,t[0])};function Kp(t,e){const n=t[Bn];return(n?As(n):t)[e]}function QL(t,e,n){const i=sR(e,n);return i?"value"in i?i.value:i.get?.call(t.draft_):void 0}function sR(t,e){if(!(e in t))return;let n=sl(t);for(;n;){const i=Object.getOwnPropertyDescriptor(n,e);if(i)return i;n=sl(n)}}function Yg(t){t.modified_||(t.modified_=!0,t.parent_&&Yg(t.parent_))}function Wp(t){t.copy_||(t.copy_=qg(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var XL=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,i)=>{if(typeof e=="function"&&typeof n!="function"){const l=n;n=e;const c=this;return function(m=l,...g){return c.produce(m,v=>n.call(this,v,...g))}}typeof n!="function"&&Tr(6),i!==void 0&&typeof i!="function"&&Tr(7);let s;if(Gi(e)){const l=X1(this),c=Kg(e,void 0);let d=!0;try{s=n(c),d=!1}finally{d?Gg(l):$g(l)}return Q1(l,i),J1(s,l)}else if(!e||typeof e!="object"){if(s=n(e),s===void 0&&(s=e),s===nR&&(s=void 0),this.autoFreeze_&&cv(s,!0),i){const l=[],c=[];Us("Patches").generateReplacementPatches_(e,s,l,c),i(l,c)}return s}else Tr(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(c,...d)=>this.produceWithPatches(c,m=>e(m,...d));let i,s;return[this.produce(e,n,(c,d)=>{i=c,s=d}),i,s]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Gi(t)||Tr(8),Ls(t)&&(t=JL(t));const e=X1(this),n=Kg(t,void 0);return n[Bn].isManual_=!0,$g(e),n}finishDraft(t,e){const n=t&&t[Bn];(!n||!n.isManual_)&&Tr(9);const{scope_:i}=n;return Q1(i,e),J1(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const s=e[n];if(s.path.length===0&&s.op==="replace"){t=s.value;break}}n>-1&&(e=e.slice(n+1));const i=Us("Patches").applyPatches_;return Ls(t)?i(t,e):this.produce(t,s=>i(s,e))}};function Kg(t,e){const n=_d(t)?Us("MapSet").proxyMap_(t,e):Ed(t)?Us("MapSet").proxySet_(t,e):WL(t,e);return(e?e.scope_:aR()).drafts_.push(n),n}function JL(t){return Ls(t)||Tr(10,t),oR(t)}function oR(t){if(!Gi(t)||bd(t))return t;const e=t[Bn];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=qg(t,e.scope_.immer_.useStrictShallowCopy_)}else n=qg(t,!0);return jh(n,(i,s)=>{iR(n,i,oR(s))}),e&&(e.finalized_=!1),n}var Fn=new XL,lR=Fn.produce;Fn.produceWithPatches.bind(Fn);Fn.setAutoFreeze.bind(Fn);Fn.setUseStrictShallowCopy.bind(Fn);Fn.applyPatches.bind(Fn);Fn.createDraft.bind(Fn);Fn.finishDraft.bind(Fn);function uR(t){return({dispatch:n,getState:i})=>s=>l=>typeof l=="function"?l(n,i,t):s(l)}var ZL=uR(),e5=uR,t5=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Uh:Uh.apply(null,arguments)};function eT(t,e){function n(...i){if(e){let s=e(...i);if(!s)throw new Error(ji(0));return{type:t,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:t,payload:i[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=i=>FL(i)&&i.type===t,n}var cR=class Ou extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Ou.prototype)}static get[Symbol.species](){return Ou}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Ou(...e[0].concat(this)):new Ou(...e.concat(this))}};function tT(t){return Gi(t)?lR(t,()=>{}):t}function Yf(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function n5(t){return typeof t=="boolean"}var r5=()=>function(e){const{thunk:n=!0,immutableCheck:i=!0,serializableCheck:s=!0,actionCreatorCheck:l=!0}=e??{};let c=new cR;return n&&(n5(n)?c.push(ZL):c.push(e5(n.extraArgument))),c},i5="RTK_autoBatch",nT=t=>e=>{setTimeout(e,t)},a5=(t={type:"raf"})=>e=>(...n)=>{const i=e(...n);let s=!0,l=!1,c=!1;const d=new Set,m=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:nT(10):t.type==="callback"?t.queueNotification:nT(t.timeout),g=()=>{c=!1,l&&(l=!1,d.forEach(v=>v()))};return Object.assign({},i,{subscribe(v){const b=()=>s&&v(),T=i.subscribe(b);return d.add(v),()=>{T(),d.delete(v)}},dispatch(v){try{return s=!v?.meta?.[i5],l=!s,l&&(c||(c=!0,m(g))),i.dispatch(v)}finally{s=!0}}})},s5=t=>function(n){const{autoBatch:i=!0}=n??{};let s=new cR(t);return i&&s.push(a5(typeof i=="object"?i:void 0)),s};function o5(t){const e=r5(),{reducer:n=void 0,middleware:i,devTools:s=!0,preloadedState:l=void 0,enhancers:c=void 0}=t||{};let d;if(typeof n=="function")d=n;else if(lv(n))d=zL(n);else throw new Error(ji(1));let m;typeof i=="function"?m=i(e):m=e();let g=Uh;s&&(g=t5({trace:!1,...typeof s=="object"&&s}));const v=BL(...m),b=s5(v);let T=typeof c=="function"?c(b):b();const R=g(...T);return uv(d,l,R)}function fR(t){const e={},n=[];let i;const s={addCase(l,c){const d=typeof l=="string"?l:l.type;if(!d)throw new Error(ji(28));if(d in e)throw new Error(ji(29));return e[d]=c,s},addMatcher(l,c){return n.push({matcher:l,reducer:c}),s},addDefaultCase(l){return i=l,s}};return t(s),[e,n,i]}function l5(t){return typeof t=="function"}function u5(t,e){let[n,i,s]=fR(e),l;if(l5(t))l=()=>tT(t());else{const d=tT(t);l=()=>d}function c(d=l(),m){let g=[n[m.type],...i.filter(({matcher:v})=>v(m)).map(({reducer:v})=>v)];return g.filter(v=>!!v).length===0&&(g=[s]),g.reduce((v,b)=>{if(b)if(Ls(v)){const R=b(v,m);return R===void 0?v:R}else{if(Gi(v))return lR(v,T=>b(T,m));{const T=b(v,m);if(T===void 0){if(v===null)return v;throw Error("A case reducer on a non-draftable value must not return undefined")}return T}}return v},d)}return c.getInitialState=l,c}var c5=Symbol.for("rtk-slice-createasyncthunk");function f5(t,e){return`${t}/${e}`}function h5({creators:t}={}){const e=t?.asyncThunk?.[c5];return function(i){const{name:s,reducerPath:l=s}=i;if(!s)throw new Error(ji(11));const c=(typeof i.reducers=="function"?i.reducers(p5()):i.reducers)||{},d=Object.keys(c),m={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},g={addCase(H,K){const J=typeof H=="string"?H:H.type;if(!J)throw new Error(ji(12));if(J in m.sliceCaseReducersByType)throw new Error(ji(13));return m.sliceCaseReducersByType[J]=K,g},addMatcher(H,K){return m.sliceMatchers.push({matcher:H,reducer:K}),g},exposeAction(H,K){return m.actionCreators[H]=K,g},exposeCaseReducer(H,K){return m.sliceCaseReducersByName[H]=K,g}};d.forEach(H=>{const K=c[H],J={reducerName:H,type:f5(s,H),createNotation:typeof i.reducers=="function"};y5(K)?_5(J,K,g,e):g5(J,K,g)});function v(){const[H={},K=[],J=void 0]=typeof i.extraReducers=="function"?fR(i.extraReducers):[i.extraReducers],ee={...H,...m.sliceCaseReducersByType};return u5(i.initialState,D=>{for(let A in ee)D.addCase(A,ee[A]);for(let A of m.sliceMatchers)D.addMatcher(A.matcher,A.reducer);for(let A of K)D.addMatcher(A.matcher,A.reducer);J&&D.addDefaultCase(J)})}const b=H=>H,T=new Map,R=new WeakMap;let O;function j(H,K){return O||(O=v()),O(H,K)}function L(){return O||(O=v()),O.getInitialState()}function z(H,K=!1){function J(D){let A=D[H];return typeof A>"u"&&K&&(A=Yf(R,J,L)),A}function ee(D=b){const A=Yf(T,K,()=>new WeakMap);return Yf(A,D,()=>{const I={};for(const[k,N]of Object.entries(i.selectors??{}))I[k]=d5(N,D,()=>Yf(R,D,L),K);return I})}return{reducerPath:H,getSelectors:ee,get selectors(){return ee(J)},selectSlice:J}}const te={name:s,reducer:j,actions:m.actionCreators,caseReducers:m.sliceCaseReducersByName,getInitialState:L,...z(l),injectInto(H,{reducerPath:K,...J}={}){const ee=K??l;return H.inject({reducerPath:ee,reducer:j},J),{...te,...z(ee,!0)}}};return te}}function d5(t,e,n,i){function s(l,...c){let d=e(l);return typeof d>"u"&&i&&(d=n()),t(d,...c)}return s.unwrapped=t,s}var m5=h5();function p5(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function g5({type:t,reducerName:e,createNotation:n},i,s){let l,c;if("reducer"in i){if(n&&!v5(i))throw new Error(ji(17));l=i.reducer,c=i.prepare}else l=i;s.addCase(t,l).exposeCaseReducer(e,l).exposeAction(e,c?eT(t,c):eT(t))}function y5(t){return t._reducerDefinitionType==="asyncThunk"}function v5(t){return t._reducerDefinitionType==="reducerWithPrepare"}function _5({type:t,reducerName:e},n,i,s){if(!s)throw new Error(ji(18));const{payloadCreator:l,fulfilled:c,pending:d,rejected:m,settled:g,options:v}=n,b=s(t,l,v);i.exposeAction(e,b),c&&i.addCase(b.fulfilled,c),d&&i.addCase(b.pending,d),m&&i.addCase(b.rejected,m),g&&i.addMatcher(b.settled,g),i.exposeCaseReducer(e,{fulfilled:c||Kf,pending:d||Kf,rejected:m||Kf,settled:g||Kf})}function Kf(){}function ji(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var hv="persist:",dv="persist/FLUSH",Td="persist/REHYDRATE",mv="persist/PAUSE",pv="persist/PERSIST",gv="persist/PURGE",yv="persist/REGISTER",E5=-1;function dh(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?dh=function(n){return typeof n}:dh=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},dh(t)}function rT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,i)}return n}function b5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rT(n,!0).forEach(function(i){T5(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rT(n).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function T5(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function w5(t,e,n,i){i.debug;var s=b5({},n);return t&&dh(t)==="object"&&Object.keys(t).forEach(function(l){l!=="_persist"&&e[l]===n[l]&&(s[l]=t[l])}),s}function S5(t){var e=t.blacklist||null,n=t.whitelist||null,i=t.transforms||[],s=t.throttle||0,l="".concat(t.keyPrefix!==void 0?t.keyPrefix:hv).concat(t.key),c=t.storage,d;t.serialize===!1?d=function(J){return J}:typeof t.serialize=="function"?d=t.serialize:d=A5;var m=t.writeFailHandler||null,g={},v={},b=[],T=null,R=null,O=function(J){Object.keys(J).forEach(function(ee){z(ee)&&g[ee]!==J[ee]&&b.indexOf(ee)===-1&&b.push(ee)}),Object.keys(g).forEach(function(ee){J[ee]===void 0&&z(ee)&&b.indexOf(ee)===-1&&g[ee]!==void 0&&b.push(ee)}),T===null&&(T=setInterval(j,s)),g=J};function j(){if(b.length===0){T&&clearInterval(T),T=null;return}var K=b.shift(),J=i.reduce(function(ee,D){return D.in(ee,K,g)},g[K]);if(J!==void 0)try{v[K]=d(J)}catch(ee){console.error("redux-persist/createPersistoid: error serializing state",ee)}else delete v[K];b.length===0&&L()}function L(){Object.keys(v).forEach(function(K){g[K]===void 0&&delete v[K]}),R=c.setItem(l,d(v)).catch(te)}function z(K){return!(n&&n.indexOf(K)===-1&&K!=="_persist"||e&&e.indexOf(K)!==-1)}function te(K){m&&m(K)}var H=function(){for(;b.length!==0;)j();return R||Promise.resolve()};return{update:O,flush:H}}function A5(t){return JSON.stringify(t)}function R5(t){var e=t.transforms||[],n="".concat(t.keyPrefix!==void 0?t.keyPrefix:hv).concat(t.key),i=t.storage;t.debug;var s;return t.deserialize===!1?s=function(c){return c}:typeof t.deserialize=="function"?s=t.deserialize:s=I5,i.getItem(n).then(function(l){if(l)try{var c={},d=s(l);return Object.keys(d).forEach(function(m){c[m]=e.reduceRight(function(g,v){return v.out(g,m,d)},s(d[m]))}),c}catch(m){throw m}else return})}function I5(t){return JSON.parse(t)}function C5(t){var e=t.storage,n="".concat(t.keyPrefix!==void 0?t.keyPrefix:hv).concat(t.key);return e.removeItem(n,O5)}function O5(t){}function iT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,i)}return n}function Pi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iT(n,!0).forEach(function(i){D5(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iT(n).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function D5(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function N5(t,e){if(t==null)return{};var n=x5(t,e),i,s;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(s=0;s<l.length;s++)i=l[s],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function x5(t,e){if(t==null)return{};var n={},i=Object.keys(t),s,l;for(l=0;l<i.length;l++)s=i[l],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}var P5=5e3;function M5(t,e){var n=t.version!==void 0?t.version:E5;t.debug;var i=t.stateReconciler===void 0?w5:t.stateReconciler,s=t.getStoredState||R5,l=t.timeout!==void 0?t.timeout:P5,c=null,d=!1,m=!0,g=function(b){return b._persist.rehydrated&&c&&!m&&c.update(b),b};return function(v,b){var T=v||{},R=T._persist,O=N5(T,["_persist"]),j=O;if(b.type===pv){var L=!1,z=function(A,I){L||(b.rehydrate(t.key,A,I),L=!0)};if(l&&setTimeout(function(){!L&&z(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(t.key,'"')))},l),m=!1,c||(c=S5(t)),R)return Pi({},e(j,b),{_persist:R});if(typeof b.rehydrate!="function"||typeof b.register!="function")throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return b.register(t.key),s(t).then(function(D){var A=t.migrate||function(I,k){return Promise.resolve(I)};A(D,n).then(function(I){z(I)},function(I){z(void 0,I)})},function(D){z(void 0,D)}),Pi({},e(j,b),{_persist:{version:n,rehydrated:!1}})}else{if(b.type===gv)return d=!0,b.result(C5(t)),Pi({},e(j,b),{_persist:R});if(b.type===dv)return b.result(c&&c.flush()),Pi({},e(j,b),{_persist:R});if(b.type===mv)m=!0;else if(b.type===Td){if(d)return Pi({},j,{_persist:Pi({},R,{rehydrated:!0})});if(b.key===t.key){var te=e(j,b),H=b.payload,K=i!==!1&&H!==void 0?i(H,v,te,t):te,J=Pi({},K,{_persist:Pi({},R,{rehydrated:!0})});return g(J)}}}if(!R)return e(v,b);var ee=e(j,b);return ee===j?v:g(Pi({},ee,{_persist:R}))}}function aT(t){return L5(t)||V5(t)||k5()}function k5(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function V5(t){if(Symbol.iterator in Object(t)||Object.prototype.toString.call(t)==="[object Arguments]")return Array.from(t)}function L5(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function sT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,i)}return n}function Wg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sT(n,!0).forEach(function(i){U5(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sT(n).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function U5(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var hR={registry:[],bootstrapped:!1},j5=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:hR,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case yv:return Wg({},e,{registry:[].concat(aT(e.registry),[n.key])});case Td:var i=e.registry.indexOf(n.key),s=aT(e.registry);return s.splice(i,1),Wg({},e,{registry:s,bootstrapped:s.length===0});default:return e}};function z5(t,e,n){var i=uv(j5,hR,void 0),s=function(m){i.dispatch({type:yv,key:m})},l=function(m,g,v){var b={type:Td,payload:g,err:v,key:m};t.dispatch(b),i.dispatch(b)},c=Wg({},i,{purge:function(){var m=[];return t.dispatch({type:gv,result:function(v){m.push(v)}}),Promise.all(m)},flush:function(){var m=[];return t.dispatch({type:dv,result:function(v){m.push(v)}}),Promise.all(m)},pause:function(){t.dispatch({type:mv})},persist:function(){t.dispatch({type:pv,register:s,rehydrate:l})}});return c.persist(),c}var bu={},Wf={},Qf={},oT;function B5(){if(oT)return Qf;oT=1,Qf.__esModule=!0,Qf.default=s;function t(l){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?t=function(d){return typeof d}:t=function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},t(l)}function e(){}var n={getItem:e,setItem:e,removeItem:e};function i(l){if((typeof self>"u"?"undefined":t(self))!=="object"||!(l in self))return!1;try{var c=self[l],d="redux-persist ".concat(l," test");c.setItem(d,"test"),c.getItem(d),c.removeItem(d)}catch{return!1}return!0}function s(l){var c="".concat(l,"Storage");return i(c)?self[c]:n}return Qf}var lT;function F5(){if(lT)return Wf;lT=1,Wf.__esModule=!0,Wf.default=n;var t=e(B5());function e(i){return i&&i.__esModule?i:{default:i}}function n(i){var s=(0,t.default)(i);return{getItem:function(c){return new Promise(function(d,m){d(s.getItem(c))})},setItem:function(c,d){return new Promise(function(m,g){m(s.setItem(c,d))})},removeItem:function(c){return new Promise(function(d,m){d(s.removeItem(c))})}}}return Wf}var uT;function H5(){if(uT)return bu;uT=1,bu.__esModule=!0,bu.default=void 0;var t=e(F5());function e(i){return i&&i.__esModule?i:{default:i}}var n=(0,t.default)("local");return bu.default=n,bu}var q5=H5();const G5=cT(q5),$5={message:"Welcome to MediTrack"},dR=m5({name:"app",initialState:$5,reducers:{setMessage(t,e){t.message=e.payload}}}),{setMessage:J5}=dR.actions,Y5=dR.reducer,K5={key:"root",storage:G5},W5=M5(K5,Y5),Fh=o5({reducer:W5,middleware:t=>t({serializableCheck:{ignoredActions:[dv,Td,mv,pv,gv,yv]}})}),Q5=z5(Fh);Fh.subscribe(()=>{console.log("state",Fh.getState())});YI.createRoot(document.getElementById("root")).render(M.jsx(F.StrictMode,{children:M.jsx(c2,{store:Fh,children:M.jsx(fT,{loading:null,persistor:Q5,children:M.jsx(UM,{children:M.jsx(VL,{})})})})}));
